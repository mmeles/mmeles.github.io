'use strict';const _0x28161d=_0x5f60;(function(_0x2cbd37,_0x2b37a2){const _0x30a819=_0x5f60,_0x35b18a=_0x2cbd37();while(!![]){try{const _0x38fecd=parseInt(_0x30a819(0x14d))/0x1+parseInt(_0x30a819(0x13a))/0x2+-parseInt(_0x30a819(0x1f6))/0x3*(-parseInt(_0x30a819(0x2b1))/0x4)+-parseInt(_0x30a819(0x17f))/0x5+parseInt(_0x30a819(0x1da))/0x6*(parseInt(_0x30a819(0x1db))/0x7)+-parseInt(_0x30a819(0x200))/0x8+parseInt(_0x30a819(0x234))/0x9;if(_0x38fecd===_0x2b37a2)break;else _0x35b18a['push'](_0x35b18a['shift']());}catch(_0x2f5f82){_0x35b18a['push'](_0x35b18a['shift']());}}}(_0x3c51,0xe4ebf));const FREE=!![],HTML_COMMENT=!![];(function(){const _0x56b536=_0x5f60;var _0x1d4cb5=location,_0x2823e5=_0x1d4cb5[_0x56b536(0x303)],_0x1fa1d9=[_0x56b536(0xf1),_0x56b536(0x11d)];function _0x3434ed(){const _0x49c7ee=_0x56b536;if(_0x1d4cb5[_0x49c7ee(0x252)]===_0x49c7ee(0x1f3))return!![];if(typeof SHOW_LOG!==_0x49c7ee(0x241))return!![];var _0x35da58=![];return _0x1fa1d9[_0x49c7ee(0x1e7)](function(_0x376ee4){const _0x309d89=_0x49c7ee;if(_0x2823e5[_0x309d89(0x217)](-_0x376ee4[_0x309d89(0x2a7)])===_0x376ee4)return _0x35da58=!![],!![];}),_0x35da58;}for(var _0x4020fe in console){typeof console[_0x4020fe]===_0x56b536(0xfe)&&_0x2817f1(_0x4020fe);}function _0x2817f1(_0x528e8a){var _0x2e8515=console[_0x528e8a];console[_0x528e8a]=function(){const _0x498075=_0x5f60;_0x3434ed()&&_0x2e8515[_0x498075(0x201)](this,arguments);};}}());const SENTE=0x80,GOTE=0x0,FF=0xff,FU=0x1,KY=0x2,KE=0x3,GI=0x4,KI=0x5,KA=0x6,HI=0x7,GY=0x8,TO=0x9,NY=0xa,NE=0xb,NG=0xc,UM=0xe,RY=0xf,SFU=0x81,SKY=0x82,SKE=0x83,SGI=0x84,SKI=0x85,SKA=0x86,SHI=0x87,SGY=0x88,HIRATE=0x0,KYOTI=0x1,UKYOTI=0x2,KAOTI=0x3,HIOTI=0x4,HIKYOTI=0x5,NIMAIOTI=0x6,SANMAIOTI=0x7,YOMAIOTI=0x8,GOMAIOTI=0x9,GOMAIOTI_HIDARI=0xa,ROKUMAIOTI=0xb,HATIMAIOTI=0xc,JYUUMAIOTI=0xd,SONOTA=0xe,hirate_board=[FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,KY,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKY,FF,KE,KA,FU,0x0,0x0,0x0,SFU,SHI,SKE,FF,GI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SGI,FF,KI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKI,FF,GY,0x0,FU,0x0,0x0,0x0,SFU,0x0,SGY,FF,KI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKI,FF,GI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SGI,FF,KE,HI,FU,0x0,0x0,0x0,SFU,SKA,SKE,FF,KY,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKY],hirate_sqr=[0x0,0x11,0x5d,0x61,0xd,0x1b,0x53,0x57,0x17,0x25,0x49,0x4d,0x21,0x2f,0x3f,0x43,0x2b,0x39,0x35,0x13,0x5b,0x63,0xb,0x1d,0x51,0x59,0x15,0x27,0x47,0x4f,0x1f,0x31,0x3d,0x45,0x29,0x58,0x16,0x1c,0x52,0x3b,0x33],kiki_n=[0x0,0x1,0x1,0x2,0x5,0x6,0x4,0x4,0x8,0x6,0x6,0x6,0x6,0x6,0x8,0x8],kiki_vec=[[0x0],[0x1],[0x1],[-0x8,0xc],[-0xb,-0x9,0x1,0x9,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xb,-0x9,0x9,0xb],[-0xa,-0x1,0x1,0xa],[-0xb,-0xa,-0x9,-0x1,0x1,0x9,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xb,-0xa,-0x9,-0x1,0x1,0x9,0xa,0xb],[-0xb,-0xa,-0x9,-0x1,0x1,0x9,0xa,0xb]],kiki_long=[[0x0],[0x0],[0x1],[0x0,0x0],[0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x1,0x1,0x1],[0x1,0x1,0x1,0x1],[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x0,0x1,0x0,0x0,0x1,0x0,0x1],[0x0,0x1,0x0,0x1,0x1,0x0,0x1,0x0]],pice_no=[[0x0,0x0],[0x1,0x12],[0x13,0x16],[0x17,0x1a],[0x1b,0x1e],[0x1f,0x22],[0x23,0x24],[0x25,0x26],[0x27,0x28]];class Board{constructor(){const _0xdd77f0=_0x5f60;this['board']=new Array(0x6f),this[_0xdd77f0(0x243)]=new Array(0x6f),this[_0xdd77f0(0x2dd)]=new Array(0x29),this[_0xdd77f0(0x10a)]=new Array(0x2);for(var _0x3cc87a=0x0;_0x3cc87a<0x2;_0x3cc87a++){this[_0xdd77f0(0x10a)][_0x3cc87a]=new Array(0x8);}this[_0xdd77f0(0x1ef)]=new Array(0x8),this[_0xdd77f0(0x249)]=new Array(0x8);for(_0x3cc87a=0x0;_0x3cc87a<0x8;_0x3cc87a++){this['motigoma_pn'][_0x3cc87a]=new Array(0x12);}this[_0xdd77f0(0x114)]();}[_0x28161d(0x2f2)](){const _0x2c6d90=_0x28161d;console[_0x2c6d90(0x2f2)](_0x2c6d90(0x18b));for(let _0x1d5c1a=0x0;_0x1d5c1a<0x8;_0x1d5c1a++){console[_0x2c6d90(0x2f2)]('k='+_0x1d5c1a+'\x20'+this[_0x2c6d90(0x10a)][0x1][_0x1d5c1a]);}}[_0x28161d(0x278)](){const _0x232cde=_0x28161d;this[_0x232cde(0x1fa)]=0x80-this[_0x232cde(0x1fa)];}[_0x28161d(0x114)](){const _0x3e230b=_0x28161d;for(var _0x20b85b=0x0;_0x20b85b<=0x63;_0x20b85b++)this[_0x3e230b(0x1c5)][_0x20b85b]=hirate_board[_0x20b85b];for(_0x20b85b=0x64;_0x20b85b<=0x6e;_0x20b85b++)this[_0x3e230b(0x1c5)][_0x20b85b]=FF;for(var _0x3df6f0=0x0;_0x3df6f0<0x2;_0x3df6f0++){for(let _0x95e353=0x0;_0x95e353<0x8;_0x95e353++)this[_0x3e230b(0x10a)][_0x3df6f0][_0x95e353]=0x0;}this[_0x3e230b(0x1fa)]=SENTE;for(var _0x2c55da=0x1;_0x2c55da<=0x28;_0x2c55da++){_0x20b85b=this['square'][_0x2c55da]=hirate_sqr[_0x2c55da],this[_0x3e230b(0x243)][_0x20b85b]=_0x2c55da;}for(var _0x28e4a2=0x0;_0x28e4a2<0x8;_0x28e4a2++)this[_0x3e230b(0x1ef)][_0x28e4a2]=0x0;for(_0x28e4a2=0x0;_0x28e4a2<0x8;_0x28e4a2++){for(_0x3df6f0=0x0;_0x3df6f0<0x12;_0x3df6f0++){this[_0x3e230b(0x249)][_0x28e4a2][_0x3df6f0]=0x0;}}this[_0x3e230b(0x211)]=HIRATE;}[_0x28161d(0x1b0)](_0x241fd2){const _0x361430=_0x28161d;let _0x58c2ad=this[_0x361430(0x243)][_0x241fd2];this[_0x361430(0x2dd)][_0x58c2ad]=0x0,this[_0x361430(0x243)][_0x241fd2]=this[_0x361430(0x1c5)][_0x241fd2]=0x0;}[_0x28161d(0x285)](_0x513e19){const _0x5d186a=_0x28161d;if(_0x513e19>=SONOTA)return;this[_0x5d186a(0x114)](),this[_0x5d186a(0x211)]=_0x513e19;if(_0x513e19!=HIRATE)this[_0x5d186a(0x1fa)]=GOTE;if(_0x513e19==KYOTI)this[_0x5d186a(0x1b0)](0xb);else{if(_0x513e19==UKYOTI)this['erak'](0x5b);else{if(_0x513e19==KAOTI)this['erak'](0x16);else{if(_0x513e19==HIOTI)this[_0x5d186a(0x1b0)](0x52);else{if(_0x513e19==HIKYOTI)this[_0x5d186a(0x1b0)](0x52),this[_0x5d186a(0x1b0)](0xb);else{if(_0x513e19>=NIMAIOTI){this[_0x5d186a(0x1b0)](0x16),this[_0x5d186a(0x1b0)](0x52);if(_0x513e19>=SANMAIOTI){this['erak'](0x5b);if(_0x513e19>=YOMAIOTI){this[_0x5d186a(0x1b0)](0xb);if(_0x513e19==GOMAIOTI)this[_0x5d186a(0x1b0)](0x51);else{if(_0x513e19==GOMAIOTI_HIDARI)this[_0x5d186a(0x1b0)](0x15);else _0x513e19>=ROKUMAIOTI&&(this['erak'](0x15),this['erak'](0x51),_0x513e19>=HATIMAIOTI&&(this[_0x5d186a(0x1b0)](0x1f),this[_0x5d186a(0x1b0)](0x47),_0x513e19==JYUUMAIOTI&&(this[_0x5d186a(0x1b0)](0x29),this[_0x5d186a(0x1b0)](0x3d))));}}}}}}}}}}[_0x28161d(0x126)](){const _0x1a2e4b=_0x28161d;for(let _0x4255d4=0x1;_0x4255d4<=0x9;_0x4255d4++)for(let _0x1b70bd=0x1;_0x1b70bd<=0x9;_0x1b70bd++){this[_0x1a2e4b(0x1c5)][_0x1b70bd*0xa+_0x4255d4]=0x0;}for(let _0x5bc6cd=0x0;_0x5bc6cd<0x2;_0x5bc6cd++){for(let _0x334da9=0x0;_0x334da9<0x8;_0x334da9++)this[_0x1a2e4b(0x10a)][_0x5bc6cd][_0x334da9]=0x0;}}[_0x28161d(0x2ad)](_0x1bb848){const _0x1c5421=_0x28161d;let _0x3ad1d8;for(_0x3ad1d8=0x0;_0x3ad1d8<=0x63;_0x3ad1d8++){this[_0x1c5421(0x1c5)][_0x3ad1d8]=_0x1bb848['board'][_0x3ad1d8],this[_0x1c5421(0x243)][_0x3ad1d8]=_0x1bb848[_0x1c5421(0x243)][_0x3ad1d8];}for(_0x3ad1d8=0x0;_0x3ad1d8<0x29;_0x3ad1d8++)this[_0x1c5421(0x2dd)][_0x3ad1d8]=_0x1bb848[_0x1c5421(0x2dd)][_0x3ad1d8];for(_0x3ad1d8=0x0;_0x3ad1d8<0x2;_0x3ad1d8++){for(let _0x27233f=0x0;_0x27233f<0x8;_0x27233f++){this[_0x1c5421(0x10a)][_0x3ad1d8][_0x27233f]=_0x1bb848[_0x1c5421(0x10a)][_0x3ad1d8][_0x27233f];}}this[_0x1c5421(0x1fa)]=_0x1bb848[_0x1c5421(0x1fa)],this['teai']=_0x1bb848[_0x1c5421(0x211)];}[_0x28161d(0x1e6)](_0x4f9204){const _0x10f6bc=_0x28161d;_0x4f9204<0x0&&console['error']('**\x20f='+_0x4f9204);let _0x4bb3dc;if(_0x4f9204>0x63){if((_0x4f9204&0x10)!=0x0)_0x4bb3dc=SENTE|_0x4f9204&0x7;else _0x4bb3dc=_0x4f9204&0x7;}else _0x4bb3dc=this[_0x10f6bc(0x1c5)][_0x4f9204];return _0x4bb3dc;}['setk'](_0x324e5a){const _0x4d30e4=_0x28161d;let _0x6c8574,_0x2c264d,_0x4ed48c,_0x59a48c;_0x6c8574=pice_no[_0x324e5a&0x7][0x0],_0x2c264d=pice_no[_0x324e5a&0x7][0x1];for(_0x4ed48c=_0x6c8574,_0x59a48c=0xb;_0x4ed48c<=_0x2c264d&&_0x59a48c<=0x63;_0x59a48c++){(this['board'][_0x59a48c]&0x7)==_0x324e5a&&this[_0x4d30e4(0x1c5)][_0x59a48c]!=0xff&&(this[_0x4d30e4(0x2dd)][_0x4ed48c]=_0x59a48c,this[_0x4d30e4(0x243)][_0x59a48c]=_0x4ed48c,_0x4ed48c++);}let _0x27687f,_0x3f2abd;this[_0x4d30e4(0x1ef)][_0x324e5a]=0x0;for(_0x27687f=0x0;_0x27687f<this[_0x4d30e4(0x10a)][0x0][_0x324e5a];_0x27687f++){this['square'][_0x4ed48c]=0x0,_0x3f2abd=this[_0x4d30e4(0x1ef)][_0x324e5a]++,this[_0x4d30e4(0x249)][_0x324e5a][_0x3f2abd]=_0x4ed48c++;}for(_0x27687f=0x0;_0x27687f<this['motigoma'][0x1][_0x324e5a];_0x27687f++){this[_0x4d30e4(0x2dd)][_0x4ed48c]=0x0,_0x3f2abd=this[_0x4d30e4(0x1ef)][_0x324e5a]++,this[_0x4d30e4(0x249)][_0x324e5a][_0x3f2abd]=_0x4ed48c++;}for(;_0x4ed48c<=_0x2c264d;_0x4ed48c++)this['square'][_0x4ed48c]=0x0;}[_0x28161d(0x14e)](){const _0x2e05e4=_0x28161d;let _0x238b71;for(_0x238b71=0x0;_0x238b71<=0x63;_0x238b71++)this[_0x2e05e4(0x243)][_0x238b71]=0x0;for(let _0xd57f58=FU;_0xd57f58<=HI;_0xd57f58++)this['setk'](_0xd57f58);this[_0x2e05e4(0x2dd)][0x27]=0x0;for(_0x238b71=0xb;_0x238b71<=0x63;_0x238b71++)if(this[_0x2e05e4(0x1c5)][_0x238b71]==SGY){this[_0x2e05e4(0x2dd)][0x27]=_0x238b71,this['piece'][_0x238b71]=0x27;break;}this[_0x2e05e4(0x2dd)][0x28]=0x0;for(_0x238b71=0xb;_0x238b71<=0x63;_0x238b71++)if(this['board'][_0x238b71]==GY){this[_0x2e05e4(0x2dd)][0x28]=_0x238b71,this[_0x2e05e4(0x243)][_0x238b71]=0x28;break;}}['move_data_to_moti'](_0x545b19){const _0x184337=_0x28161d;let _0x52bb11=this[_0x184337(0x243)][_0x545b19];this[_0x184337(0x243)][_0x545b19]=0x0;let _0x2aff51=this[_0x184337(0x1c5)][_0x545b19];this['square'][_0x52bb11]=0x0;if((_0x2aff51&0xf)!=GY){let _0x1de933=(_0x2aff51&0x80)!=0x0?0x0:0x1,_0x57e5b9=_0x2aff51&0x7;this[_0x184337(0x10a)][_0x1de933][0x0]++,this[_0x184337(0x10a)][_0x1de933][_0x57e5b9]++;let _0x3de7e6=this[_0x184337(0x1ef)][_0x57e5b9]++;this[_0x184337(0x249)][_0x57e5b9][_0x3de7e6]=_0x52bb11;}this['board'][_0x545b19]=0x0;}['move_data_from_moti'](_0x189307,_0x4aab96){const _0x535b06=_0x28161d;this['board'][_0x4aab96]=_0x189307;let _0x2d838b=_0x189307&0x7,_0x39bd30=(_0x189307&0x80)!=0x0?0x1:0x0;if(this[_0x535b06(0x10a)][_0x39bd30][0x0]<=0x0){console[_0x535b06(0x30f)]('***\x20move_data_from_moti\x20error\x20n='+this['motigoma'][_0x39bd30][0x0]);return;}this['motigoma'][_0x39bd30][0x0]--,this[_0x535b06(0x10a)][_0x39bd30][_0x2d838b]--;var _0x4be9a4=--this[_0x535b06(0x1ef)][_0x2d838b],_0x51eef3=this[_0x535b06(0x249)][_0x2d838b][_0x4be9a4];this[_0x535b06(0x243)][_0x4aab96]=_0x51eef3,this[_0x535b06(0x2dd)][_0x51eef3]=_0x4aab96;}[_0x28161d(0x144)](_0x111a88,_0x535644){const _0xbb3508=_0x28161d;this[_0xbb3508(0x1c5)][_0x111a88]==0x0&&console[_0xbb3508(0x30f)](_0xbb3508(0x2d4)+_0x111a88);let _0x39a7f5=this['piece'][_0x111a88];this[_0xbb3508(0x2dd)][_0x39a7f5]=_0x535644,this['board'][_0x535644]=this[_0xbb3508(0x1c5)][_0x111a88],this[_0xbb3508(0x1c5)][_0x111a88]=0x0,this[_0xbb3508(0x243)][_0x111a88]=0x0,this[_0xbb3508(0x243)][_0x535644]=_0x39a7f5;}[_0x28161d(0x108)](_0x2e05f7){const _0x3c48ff=_0x28161d;if(_0x2e05f7['t']<=0xa)return;_0x2e05f7['k']=this[_0x3c48ff(0x1e6)](_0x2e05f7['f']);(_0x2e05f7['k']==0xff||_0x2e05f7['k']==0x0)&&console[_0x3c48ff(0x30f)](_0x3c48ff(0x12e)+_0x2e05f7['f']+_0x3c48ff(0x2b3)+_0x2e05f7['t']+_0x3c48ff(0x2e2)+_0x2e05f7['k']);let _0x373140=_0x2e05f7['t'];(_0x2e05f7['t']&0x80)!=0x0&&(_0x373140&=0x7f,this['board'][_0x2e05f7['f']]|=0x8);this[_0x3c48ff(0x1c5)][_0x373140]>0x0&&this[_0x3c48ff(0x31a)](_0x373140);if(_0x2e05f7['f']>0x63)this[_0x3c48ff(0x231)](_0x2e05f7['k'],_0x373140);else this[_0x3c48ff(0x144)](_0x2e05f7['f'],_0x373140);}[_0x28161d(0x2a4)](_0x323bd7){const _0x940b0e=_0x28161d;if(_0x323bd7['t']<=0xa)return;let _0x3e5ca7=_0x323bd7['t'],_0x1a398c=_0x323bd7['k'];(_0x323bd7['t']&0x80)!=0x0&&(_0x3e5ca7&=0x7f,_0x1a398c&=0x87);_0x323bd7['f']<0x64&&(this[_0x940b0e(0x1c5)][_0x323bd7['f']]=_0x1a398c);this['board'][_0x3e5ca7]=_0x323bd7['c'];let _0x214c93=0x0;if(_0x323bd7['c']!=0x0){let _0x56f34b=(_0x323bd7['c']&0x80)!=0x0?0x0:0x1,_0x4912e2=_0x323bd7['c']&0x7;this[_0x940b0e(0x10a)][_0x56f34b][0x0]--,this[_0x940b0e(0x10a)][_0x56f34b][_0x4912e2]--;let _0x25312a=--this[_0x940b0e(0x1ef)][_0x4912e2];_0x214c93=this[_0x940b0e(0x249)][_0x4912e2][_0x25312a],this[_0x940b0e(0x2dd)][_0x214c93]=_0x3e5ca7;}if(_0x323bd7['f']>0x63){let _0x508341=(_0x323bd7['k']&0x80)!=0x0?0x1:0x0,_0x5cf4a9=_0x323bd7['k']&0x7;this[_0x940b0e(0x10a)][_0x508341][0x0]++,this['motigoma'][_0x508341][_0x5cf4a9]++;let _0x49c99b=this[_0x940b0e(0x1ef)][_0x5cf4a9]++,_0x2931c2=this[_0x940b0e(0x249)][_0x5cf4a9][_0x49c99b]=this[_0x940b0e(0x243)][_0x323bd7['t']];this[_0x940b0e(0x243)][_0x3e5ca7]=_0x214c93,this[_0x940b0e(0x2dd)][_0x2931c2]=0x0;}else{let _0x4bc34f=this[_0x940b0e(0x243)][_0x323bd7['f']]=this['piece'][_0x3e5ca7];this[_0x940b0e(0x243)][_0x3e5ca7]=_0x214c93,this[_0x940b0e(0x2dd)][_0x4bc34f]=_0x323bd7['f'];}}[_0x28161d(0x2cb)](_0x18d0c3){const _0x3072fb=_0x28161d;if(_0x18d0c3['move_no']<=0x0)return;let _0x236650=_0x18d0c3[_0x3072fb(0x262)](_0x18d0c3['move_no']);if(_0x236650==null){console[_0x3072fb(0x30f)]('***\x20back_move\x20error\x20kp=null\x20move_no='+_0x18d0c3[_0x3072fb(0x242)]);return;}if(_0x236650['t']>=0xb)this[_0x3072fb(0x278)]();let _0x5a25dd=new Kifup();_0x5a25dd['f']=_0x236650['f'],_0x5a25dd['t']=_0x236650['t'],_0x5a25dd['k']=_0x236650['k'],_0x5a25dd['c']=_0x236650['c'],this[_0x3072fb(0x2a4)](_0x5a25dd),_0x18d0c3[_0x3072fb(0x28d)]();return;}[_0x28161d(0x2ff)](_0x17704e,_0x4199c0){const _0xa14308=_0x28161d;while(_0x17704e[_0xa14308(0x242)]>_0x4199c0&&_0x17704e[_0xa14308(0x242)]>0x0){this[_0xa14308(0x2cb)](_0x17704e);}}['genmovq'](_0x52108f,_0x70ace1){const _0x34f193=_0x28161d;if(_0x52108f>0x63)return console[_0x34f193(0x2f2)](_0x34f193(0x1d2)+_0x52108f),0x0;let _0x22216f=this['board'][_0x52108f],_0x3817c9=_0x22216f&0x80,_0x57c276=_0x22216f&0xf,_0xd5be3a=kiki_n[_0x57c276];for(var _0x4f226f=0x0;_0x4f226f<_0xd5be3a;_0x4f226f++){let _0x5b1e4e=kiki_vec[_0x57c276][_0x4f226f];if(_0x3817c9!=0x0)_0x5b1e4e=-_0x5b1e4e;let _0x197da1=_0x52108f+_0x5b1e4e;if(_0x197da1==_0x70ace1)return 0x1;if(kiki_long[_0x57c276][_0x4f226f]!=0x0&&this[_0x34f193(0x1c5)][_0x197da1]==0x0)for(_0x197da1+=_0x5b1e4e;;_0x197da1+=_0x5b1e4e){if(_0x197da1>0x63||_0x197da1<0xb)break;if(_0x197da1==_0x70ace1)return 0x1;if(this[_0x34f193(0x1c5)][_0x197da1]!=0x0)break;}}return 0x0;}[_0x28161d(0x282)](_0x2165ab,_0xeefeb2,_0x29ed08,_0xac6044){const _0x1f1620=_0x28161d;let _0x4d030f=0x0;for(let _0x2c355e=0x1;_0x2c355e<=0x28;_0x2c355e++){let _0x38bf0e=this[_0x1f1620(0x2dd)][_0x2c355e];if(_0x38bf0e==0x0||_0x38bf0e==_0x2165ab)continue;let _0xde8f79=this[_0x1f1620(0x1c5)][_0x38bf0e];if((_0xde8f79&0x80)!=_0xeefeb2)continue;if(this[_0x1f1620(0x228)](_0x38bf0e,_0x2165ab)!=0x0){_0xac6044[++_0x4d030f]=_0x38bf0e;if(_0x4d030f>=_0x29ed08)break;}}return _0xac6044[0x0]=_0x4d030f;}['caldir'](_0x474f73,_0x32a0ba){_0x32a0ba&=0x7f;_0x32a0ba>0x63&&console['error']('***\x20caldir\x20error\x20t='+_0x32a0ba);let _0x494a26=_0x32a0ba-_0x474f73,_0x3e5d43;if(_0x494a26>=0x0)_0x3e5d43=_0x494a26;else _0x3e5d43=-_0x494a26;if(_0x3e5d43==0xc)return _0x494a26;if(_0x3e5d43==0x8)return _0x494a26;let _0x25d516=parseInt(_0x474f73/0xa),_0x8270e1=parseInt(_0x32a0ba/0xa);if(_0x25d516==_0x8270e1){if(_0x494a26>0x0)return 0x1;else return-0x1;}let _0x15827e=_0x474f73%0xa,_0xc53e82=_0x32a0ba%0xa;if(_0x15827e==_0xc53e82){if(_0x494a26>0x0)return 0xa;else return-0xa;}if(_0x25d516+_0x15827e==_0x8270e1+_0xc53e82){if(_0x494a26>0x0)return 0x9;else return-0x9;}if(_0x25d516-_0x15827e==_0x8270e1-_0xc53e82){if(_0x494a26>0x0)return 0xb;else return-0xb;}return 0x64;}['promote'](_0x87f730,_0x46437f,_0x32650c){if(_0x87f730>0x63||(_0x46437f&0x80)!=0x0)return 0x0;let _0x4c0bfd=_0x32650c&0xf;if(_0x4c0bfd>=GY||_0x4c0bfd==KI)return 0x0;var _0x1edb7d=_0x46437f%0xa;let _0x1ccef8=_0x87f730%0xa;if((_0x32650c&0x80)==0x0){if(_0x1edb7d<0x7&&_0x1ccef8<0x7)return 0x0;if(_0x4c0bfd<=KY){if(_0x1edb7d==0x9)return 0x2;}else{if(_0x4c0bfd==KE){if(_0x1edb7d>0x7)return 0x2;}}}else{if(_0x1edb7d>0x3&&_0x1ccef8>0x3)return 0x0;if(_0x4c0bfd<=KY){if(_0x1edb7d==0x1)return 0x2;}else{if(_0x4c0bfd==KE){if(_0x1edb7d<0x3)return 0x2;}}}return 0x1;}}const KIFU_MAX=0x640,TORYO=0x0,CHUDAN=0x1,HANSOKU_MAKE=0x2,HANSOKU_KACHI=0x3,JISHOGI=0x4,KACHI=0x5,SENNITITE=0x6,KIREMAKE=0x7,SENTE_HANSOKU=0x8,GOTE_HANSOKU=0x9,TUMI=0xa,IKU=0x2,AGARU=0x3,HIKI=0x4,SUGU=0x5,YORI=0x6,MIGI=0x7,HIDARI=0x8,MIGIHIKI=0x9,MIGIYORI=0xa,MIGIAGARU=0xb,HIDARIHIKI=0xc,HIDARIYORI=0xd,HIDARIAGARU=0xe,kdirs=[[-0xc,-0xb,-0xa,-0x9,-0x1,0x1,0x8,0x9,0xa,0xb],[0x0],[-0xb,-0x1,0x9,0x0],[-0xb,-0x1,0x9,0x0],[+0xb,0x1,-0x9,0x0],[-0x1,0x0],[-0xa,0xa,0x0],[0x8,0x9,0xa,0xb,-0x1,0x1,0x0],[-0x9,-0xa,-0xb,-0xc,-0x1,0x1,0x0],[0xb,0x0],[0xa,0x0],[0x9,0x0],[-0x9,0x0],[-0xa,0x0],[-0xb,0x0]];class Kifup{constructor(){const _0x19c55e=_0x28161d;this['f']=0x0,this['t']=0x0,this['c']=0x0,this['comment']=null,this[_0x19c55e(0x2e5)]=null,this['branch']=null;}}class KifuData{constructor(){const _0x111f25=_0x28161d;this[_0x111f25(0x19d)]=new Array(KIFU_MAX),this[_0x111f25(0x242)]=0x0,this['clear_kifu'](),this['clear_info'](),this['abnormal_flg']=0x0,this[_0x111f25(0x23f)]=0x0;}[_0x28161d(0x2b5)](){const _0x39d18f=_0x28161d;this[_0x39d18f(0x242)]=0x0,this[_0x39d18f(0x2bc)]=this[_0x39d18f(0x290)];}[_0x28161d(0x28d)](){const _0x329a5f=_0x28161d;this[_0x329a5f(0x242)]>0x0&&(this[_0x329a5f(0x242)]--,this[_0x329a5f(0x2bc)]=this[_0x329a5f(0x279)](this[_0x329a5f(0x2bc)]));}['clear_kifu'](){const _0x1fd445=_0x28161d;for(let _0x4e32a4=0x0;_0x4e32a4<KIFU_MAX;_0x4e32a4++){let _0x567b16=new Kifup();this[_0x1fd445(0x19d)][_0x4e32a4]=_0x567b16;}this['kifu_root']=this['current_p']=this[_0x1fd445(0x19d)][0x0],this[_0x1fd445(0x2b5)]();}[_0x28161d(0x259)](){const _0x114dbf=_0x28161d;console[_0x114dbf(0x2f2)](_0x114dbf(0x210)+this[_0x114dbf(0x19d)][0x0]['f']+_0x114dbf(0x2b3)+this['kifu_array'][0x0]['t']),console[_0x114dbf(0x2f2)](_0x114dbf(0x161)+this[_0x114dbf(0x19d)][0x1]['f']+_0x114dbf(0x2b3)+this[_0x114dbf(0x19d)][0x1]['t']);}[_0x28161d(0x204)](){const _0x49ce36=_0x28161d;this[_0x49ce36(0x2a9)]=0x0,this[_0x49ce36(0x1a1)]='',this[_0x49ce36(0x233)]='',this[_0x49ce36(0x250)]='',this[_0x49ce36(0x23d)]='',this[_0x49ce36(0x2c3)]='',this['end_date']='',this[_0x49ce36(0x1c8)]='',this[_0x49ce36(0x190)]='',this[_0x49ce36(0x1d4)]='',this[_0x49ce36(0x1eb)]='',this[_0x49ce36(0x115)]='',this['syutten']='',this[_0x49ce36(0x2b7)]='',this[_0x49ce36(0x2ab)]='';}['find_oya'](_0x107a6a){const _0x4c6c16=_0x28161d;if(_0x107a6a==this[_0x4c6c16(0x290)]||_0x107a6a==null)return null;for(let _0x15d587=0x0;_0x15d587<KIFU_MAX;_0x15d587++){let _0x255588=this[_0x4c6c16(0x19d)][_0x15d587];if(_0x255588['next']==_0x107a6a)return _0x255588;if(_0x255588['branch']==_0x107a6a)return this[_0x4c6c16(0x279)](_0x255588);}return null;}[_0x28161d(0x21b)](){const _0x14c69c=_0x28161d;if(this[_0x14c69c(0x2bc)]==null)return 0x0;let _0x3478f2=0x0,_0x29a836;for(_0x29a836=this[_0x14c69c(0x2bc)];;_0x3478f2++){_0x29a836=this[_0x14c69c(0x279)](_0x29a836);if(_0x29a836==null)break;}for(_0x29a836=this[_0x14c69c(0x2bc)];;_0x3478f2++){_0x29a836=_0x29a836[_0x14c69c(0x2e5)];if(_0x29a836==null)break;}return _0x3478f2;}[_0x28161d(0x14c)](_0x1f74c0){const _0x4a1a75=_0x28161d;if(_0x1f74c0==null)return 0x0;let _0x19f3e9=0x0,_0x5b6fc6=0x0;for(;;){if(_0x1f74c0==null||_0x1f74c0==this[_0x4a1a75(0x290)])break;if((_0x5b6fc6&0x1)==0x0)_0x19f3e9+=_0x1f74c0[_0x4a1a75(0x291)];_0x1f74c0=this['find_oya'](_0x1f74c0),_0x5b6fc6++;}return _0x19f3e9;}['is_chess_clock'](){const _0x4b075b=_0x28161d;for(let _0x5e2723=this[_0x4b075b(0x290)];;){if(_0x5e2723==null)break;if(_0x5e2723!=this['kifu_root']){if(_0x5e2723['f']==0x0&&_0x5e2723['t']==0x0)break;if(_0x5e2723[_0x4b075b(0x291)]%0x3c!=0x0)return 0x1;}_0x5e2723=_0x5e2723[_0x4b075b(0x2e5)];}return 0x0;}['get_main_all_time'](){const _0x38a253=_0x28161d;let _0x415f13=0x0;for(let _0x150d35=this['kifu_root'];;){if(_0x150d35==null)break;if(_0x150d35!=this[_0x38a253(0x290)]){if(_0x150d35['f']==0x0&&_0x150d35['t']==0x0)break;_0x415f13+=_0x150d35[_0x38a253(0x291)];}_0x150d35=_0x150d35[_0x38a253(0x2e5)];}return _0x415f13;}['get_kifup'](_0x47da29){const _0x4d6f82=_0x28161d;if(_0x47da29<0x0)return console['log']('***\x20get_kifup\x20error\x20n='+_0x47da29),null;if(_0x47da29==0x0)return this['kifu_root'];if(_0x47da29==this[_0x4d6f82(0x242)])return this['current_p'];if(this[_0x4d6f82(0x2bc)]==null)return null;let _0x3a5b98=this[_0x4d6f82(0x2bc)],_0x57f5e0=this[_0x4d6f82(0x242)];if(_0x47da29>this[_0x4d6f82(0x242)])for(;;){_0x3a5b98=_0x3a5b98[_0x4d6f82(0x2e5)];if(_0x3a5b98==null)return console['error'](_0x4d6f82(0x1a0)+_0x47da29+_0x4d6f82(0x13d)+_0x57f5e0),null;_0x57f5e0++;if(_0x47da29==_0x57f5e0)return _0x3a5b98;}else for(;;){_0x3a5b98=this[_0x4d6f82(0x279)](_0x3a5b98);if(_0x3a5b98==null)return console[_0x4d6f82(0x30f)](_0x4d6f82(0x1a0)+_0x47da29+_0x4d6f82(0x13d)+_0x57f5e0),null;_0x57f5e0--;if(_0x47da29==_0x57f5e0)return _0x3a5b98;}return null;}['get_next_move'](){const _0x7e750b=_0x28161d;let _0x11d4ef=new Kifup();if(this[_0x7e750b(0x2bc)]==null)return _0x11d4ef['f']=_0x11d4ef['t']=0x0,_0x11d4ef;let _0x1599bc=this[_0x7e750b(0x2bc)][_0x7e750b(0x2e5)];if(_0x1599bc==null)return _0x11d4ef['f']=_0x11d4ef['t']=0x0,_0x11d4ef;return _0x11d4ef['f']=_0x1599bc['f'],_0x11d4ef['t']=_0x1599bc['t'],_0x11d4ef;}[_0x28161d(0x195)](){const _0x2e74dd=_0x28161d;let _0xc53b39=new Kifup();if(this[_0x2e74dd(0x2bc)]==null||this[_0x2e74dd(0x2bc)]==this['kifu_root'])_0xc53b39['f']=_0xc53b39['t']=0x0;else{_0xc53b39['f']=this['current_p']['f'],_0xc53b39['t']=this['current_p']['t'];if(_0xc53b39['t']<0xb){let _0x40165e=this[_0x2e74dd(0x279)](this['current_p']);_0x40165e==null||_0x40165e==this['kifu_root']?_0xc53b39['f']=_0xc53b39['t']=0x0:(_0xc53b39['f']=_0x40165e['f'],_0xc53b39['t']=_0x40165e['t']);}}return _0xc53b39;}[_0x28161d(0x28d)](){const _0x27adc0=_0x28161d;if(this[_0x27adc0(0x242)]<=0x0){console[_0x27adc0(0x30f)](_0x27adc0(0xf0));return;}this[_0x27adc0(0x242)]--,this[_0x27adc0(0x2bc)]=this[_0x27adc0(0x279)](this[_0x27adc0(0x2bc)]);}[_0x28161d(0x10e)](_0x50fdde){const _0x24e086=_0x28161d;if(this['current_p']==null)return console[_0x24e086(0x30f)](_0x24e086(0x2a6)),-0x1;var _0x539cf1=this[_0x24e086(0x2bc)][_0x24e086(0x2e5)];if(_0x539cf1==null)return console[_0x24e086(0x30f)](_0x24e086(0x1ec)),-0x1;if(_0x50fdde['f']==_0x539cf1['f']&&_0x50fdde['t']==_0x539cf1['t'])return this[_0x24e086(0x2bc)]=_0x539cf1,0x0;_0x539cf1=_0x539cf1['branch'];for(;;){if(_0x539cf1==null)return console[_0x24e086(0x30f)](_0x24e086(0x15b)),-0x1;if(_0x50fdde['f']==_0x539cf1['f']&&_0x50fdde['t']==_0x539cf1['t'])return this[_0x24e086(0x2bc)]=_0x539cf1,0x0;_0x539cf1=_0x539cf1['branch'];}return-0x1;}['can_susumeru'](){let _0x2a3c2f=this['get_next_move']();if(_0x2a3c2f['t']<0xb)return 0x0;if(_0x2a3c2f['f']!=0x0)return 0x1;return 0x0;}['is_syuukyoku'](){const _0x45ca30=_0x28161d;for(let _0x4e4dd1=this[_0x45ca30(0x290)];;){if(_0x4e4dd1==null)break;if(_0x4e4dd1!=this[_0x45ca30(0x290)]){if(_0x4e4dd1['f']==0x0&&_0x4e4dd1['t']==0x0)break;if(_0x4e4dd1['f']!=0x0&&_0x4e4dd1['t']<0xb)return 0x1;}_0x4e4dd1=_0x4e4dd1[_0x45ca30(0x2e5)];}return 0x0;}['BRANCH_______________'](){}['current_bunki'](){const _0x546e5e=_0x28161d;if(this[_0x546e5e(0x23f)]==0x0)return 0x0;if(this[_0x546e5e(0x2bc)]==null)return 0x0;let _0x58b939=this[_0x546e5e(0x2bc)][_0x546e5e(0x2e5)];if(_0x58b939==null)return 0x0;if(_0x58b939[_0x546e5e(0x2ac)]!=null)return 0x1;return 0x0;}[_0x28161d(0x112)](_0x3e7bc4){const _0x17c8b7=_0x28161d;if(this['bunki_flg']==0x0)return 0x0;let _0x5a7739=this[_0x17c8b7(0x262)](_0x3e7bc4);if(_0x5a7739==null)return 0x0;if(_0x5a7739[_0x17c8b7(0x2ac)]!=null)return 0x1;let _0x4a7e46=this[_0x17c8b7(0x279)](_0x5a7739);if(_0x4a7e46==null)return 0x0;if(_0x4a7e46['next']==_0x5a7739)return 0x0;if(_0x4a7e46[_0x17c8b7(0x2e5)]['branch']!=null)return 0x1;return 0x0;}['is_henka_kp'](_0x297e90){const _0x1faeda=_0x28161d;if(_0x297e90==null)return 0x0;let _0x1c8e66;for(_0x1c8e66=_0x297e90;;){let _0x5a2461=this['find_oya'](_0x1c8e66);if(_0x5a2461==null)break;if(_0x5a2461[_0x1faeda(0x2e5)]!=_0x1c8e66)return 0x1;if(_0x5a2461==this[_0x1faeda(0x290)])break;_0x1c8e66=_0x5a2461;}return 0x0;}[_0x28161d(0x1df)](_0x482e87){const _0x227f73=_0x28161d;let _0x422357=this[_0x227f73(0x262)](_0x482e87);if(_0x422357==null)return null;return _0x422357['comment'];}[_0x28161d(0x305)](_0x55550f,_0x1ed903){const _0x47484f=_0x28161d;let _0x1e61ef=this[_0x47484f(0x262)](_0x55550f);if(_0x1e61ef==null)return-0x4;let _0x4cf714=_0x1e61ef[_0x47484f(0x2cc)];return _0x4cf714==null?_0x1e61ef['comment']=_0x1ed903:_0x1e61ef['comment']+='\x0a'+_0x1ed903,0x0;}[_0x28161d(0x2ec)](){const _0x36cfe3=_0x28161d;let _0x2f387d=this[_0x36cfe3(0x1d4)];if(_0x2f387d==null)return 0x0;if(_0x2f387d[_0x36cfe3(0x2d8)]('各')==0x0){_0x2f387d=_0x2f387d[_0x36cfe3(0x14b)](0x1);if(_0x2f387d==null)return 0x0;}let _0x362442;if(_0x2f387d['charAt'](0x0)>='0'&&_0x2f387d[_0x36cfe3(0x124)](0x0)<='9')_0x362442=parseInt(_0x2f387d[_0x36cfe3(0x124)](0x0));else _0x362442=get_zen_num(_0x2f387d);let _0x1a0585=0x0,_0x58cce2=_0x2f387d['indexOf']('分');if(_0x58cce2>=0x0){let _0x103d30=_0x2f387d[_0x36cfe3(0x2d8)]('時間');if(_0x103d30>=0x0){if(_0x2f387d['charAt'](_0x103d30+0x2)>='0'&&_0x2f387d[_0x36cfe3(0x124)](_0x103d30+0x2)<='9'){let _0x2aee59=parseInt(_0x2f387d[_0x36cfe3(0x124)](_0x103d30+0x2));if(isNaN(_0x2aee59))return 0x0;if(_0x2f387d[_0x36cfe3(0x124)](_0x103d30+0x3)>='0'&&_0x2f387d[_0x36cfe3(0x124)](_0x103d30+0x3)<='9'){let _0x1e9bf6=parseInt(_0x2f387d[_0x36cfe3(0x124)](_0x103d30+0x3));if(isNaN(_0x1e9bf6))return 0x0;_0x1a0585=_0x2aee59*0xa+_0x1e9bf6;}else _0x1a0585=_0x2aee59;}}else _0x362442=0x0,_0x1a0585=parseInt(_0x2f387d);}return _0x362442*0x3c+_0x1a0585;}[_0x28161d(0x18f)](_0x324f42,_0x5619c6){const _0x1f145a=_0x28161d;let _0x1e3501=0x0,_0x5cfa86=0x0;for(var _0xc00c8a=0xb;_0xc00c8a<=0x63;_0xc00c8a++){if(_0x324f42[_0x1f145a(0x1c5)][_0xc00c8a]==_0x5619c6){if(_0x1e3501==0x0)_0x1e3501=_0xc00c8a;else _0x5cfa86=_0xc00c8a;}}let _0x509d4d=new Point();return _0x509d4d['x']=_0x1e3501,_0x509d4d['y']=_0x5cfa86,_0x509d4d;}['uniq'](_0x408123,_0x36c838,_0x1f2f6d,_0x18dcf1,_0x4420ac,_0x4d0b94,_0x2436f9,_0x460a79){const _0x1bd742=_0x28161d;let _0x356bd9=_0x4420ac&0xf;if((_0x356bd9==RY||_0x356bd9==UM)&&(_0x4d0b94==MIGI||_0x4d0b94==HIDARI)){let _0x1e75c7=this['get_koma_2posi'](_0x408123,_0x4420ac),_0x1d44a4=parseInt(_0x1e75c7['x']/0xa),_0x4d7917=parseInt(_0x1e75c7['y']/0xa);if(_0x1e75c7['y']>0x0&&_0x1d44a4!=_0x4d7917)return _0x4d0b94;}let _0x3e93d6=_0x2436f9[0x0];for(let _0x2d501e=0x1;_0x2d501e<=_0x3e93d6;_0x2d501e++){let _0x42f787=_0x2436f9[_0x2d501e];if(_0x42f787==_0x1f2f6d)continue;if(_0x408123[_0x1bd742(0x1c5)][_0x42f787]==_0x4420ac){let _0x1e4ee2=_0x408123['caldir'](_0x42f787,_0x18dcf1);for(let _0x2925db=0x0;_0x2925db<0xa;_0x2925db++){let _0x12573d=kdirs[_0x4d0b94][_0x2925db];if(_0x12573d==0x0)break;if(_0x460a79==0x0&&(_0x4d0b94==MIGI||_0x4d0b94==HIDARI)&&_0x12573d==-0x1)break;if(_0x36c838==GOTE)_0x12573d=-_0x12573d;if(_0x12573d==_0x1e4ee2)return 0x0;}}}return _0x4d0b94;}[_0x28161d(0x21e)](_0x45198c,_0x3e646c,_0x1c0b28,_0x448458,_0x59eeef,_0x5a1cf3){const _0x31527e=_0x28161d;let _0x3e7f35=_0x5a1cf3['f'],_0x11d464=_0x45198c['board'][_0x3e7f35],_0x42ea65=_0x11d464&0xf;if(_0x3e7f35!=0x0&&(_0x42ea65==RY||_0x42ea65==UM)){let _0x1a3caf=this[_0x31527e(0x18f)](_0x45198c,_0x11d464),_0x418241=_0x1a3caf['x'],_0x278ebb=_0x1a3caf['y'],_0x514f81=parseInt(_0x418241/0xa),_0x4842a7=parseInt(_0x278ebb/0xa);if(_0x278ebb>0x0&&_0x514f81!=_0x4842a7){let _0x368df1=_0x5a1cf3['t']&0x7f,_0xb7137f=_0x368df1%0xa,_0x289904=_0x418241%0xa,_0x260b82=_0x278ebb%0xa;if(_0x289904>_0xb7137f&&_0x260b82>_0xb7137f||_0x289904<_0xb7137f&&_0x260b82<_0xb7137f){var _0xe9047e=parseInt(_0x3e7f35/0xa);if(_0x11d464&0x80){if(_0x3e7f35==_0x418241){if(_0xe9047e>_0x4842a7)return HIDARI;else return MIGI;}else{if(_0xe9047e>_0x514f81)return HIDARI;else return MIGI;}}else{if(_0x3e7f35==_0x418241){if(_0xe9047e>_0x4842a7)return MIGI;else return HIDARI;}else{if(_0xe9047e>_0x514f81)return MIGI;else return HIDARI;}}}}}for(;_0x59eeef<=0xe;_0x59eeef++){if(_0x1c0b28&&_0x59eeef==SUGU)continue;for(let _0x98c1ad=0x0;_0x98c1ad<0xa;_0x98c1ad++){let _0xf2351d=kdirs[_0x59eeef][_0x98c1ad];if(_0xf2351d==0x0)break;if(_0x1c0b28==0x0&&(_0x59eeef==MIGI||_0x59eeef==HIDARI)&&_0xf2351d==-0x1)break;if(_0x3e646c==GOTE)_0xf2351d=-_0xf2351d;if(_0xf2351d==_0x448458){if((_0x42ea65==RY||_0x42ea65==UM)&&(_0x59eeef==MIGIHIKI||_0x59eeef==MIGIAGARU||_0x59eeef==HIDARIHIKI||_0x59eeef==HIDARIAGARU)){p=this[_0x31527e(0x18f)](_0x45198c,_0x11d464),posi1=p['x'],posi2=p['y'],posi1y=posi1%0xa,posi2y=posi2%0xa;if(posi2>0x0&&posi1y==posi2y){if(_0x59eeef==MIGIHIKI||_0x59eeef==MIGIAGARU)return MIGI;return HIDARI;}}return _0x59eeef;}}}return 0x0;}[_0x28161d(0x22e)](_0x252d48,_0x5abc8c){const _0x580221=_0x28161d;let _0x2cec84=new Array(0x14),_0x2e1f83=_0x5abc8c['f'],_0x53473e=_0x252d48['FromToK'](_0x2e1f83),_0x5a7bdf;if((_0x53473e&0x6)==0x6)_0x5a7bdf=0x1;else _0x5a7bdf=0x0;let _0x56a912=_0x53473e&0x80,_0x43b4ef=_0x5abc8c['t'],_0x49c94f=_0x43b4ef&0x7f,_0x1c2c56=0x0;if((_0x43b4ef&0x80)==0x0&&_0x252d48[_0x580221(0x302)](_0x2e1f83,_0x49c94f,_0x53473e)!=0x0)_0x1c2c56=0x40;let _0x1cb3bb=_0x252d48['gen_kiki'](_0x49c94f,_0x56a912,0xa,_0x2cec84),_0x4786af;if((_0x43b4ef&0x80)!=0x0)_0x4786af=_0x53473e&0x87;else _0x4786af=_0x53473e;let _0x1b0cfc=0x0;for(let _0x4f8f2c=0x1;_0x4f8f2c<=_0x1cb3bb;_0x4f8f2c++){let _0x485141=_0x2cec84[_0x4f8f2c];if(_0x485141==_0x2e1f83)continue;if(_0x252d48[_0x580221(0x1c5)][_0x485141]==_0x4786af){_0x1b0cfc++;break;}}let _0xebcabe;if(_0x1b0cfc==0x0)return _0xebcabe=0x1,_0xebcabe|_0x1c2c56;if(_0x2e1f83>0x63)return _0x1c2c56;let _0x4bb292=_0x252d48[_0x580221(0x317)](_0x2e1f83,_0x49c94f);for(let _0x6907e9=0x3;;_0x6907e9++){_0x6907e9=this['set_modify_sub'](_0x252d48,_0x56a912,_0x5a7bdf,_0x4bb292,_0x6907e9,_0x5abc8c);if(_0x6907e9==0x0)return console[_0x580221(0x30f)](_0x580221(0x29d)+_0x2e1f83),_0x1c2c56;let _0x4da306=this[_0x580221(0x17b)](_0x252d48,_0x56a912,_0x2e1f83,_0x49c94f,_0x53473e,_0x6907e9,_0x2cec84,_0x5a7bdf);if(_0x4da306!=0x0){_0xebcabe=_0x4da306;break;}}return _0xebcabe|_0x1c2c56;}['set_modify_kp'](_0xc7c138,_0x20a217,_0x1eecd7){const _0x4d3844=_0x28161d;_0x20a217[_0x4d3844(0x281)]=this[_0x4d3844(0x22e)](_0xc7c138,_0x1eecd7);}[_0x28161d(0x132)](){const _0x156350=_0x28161d;for(let _0x202458=0x1;_0x202458<KIFU_MAX;_0x202458++){if(this[_0x156350(0x19d)][_0x202458]['f']==0x0)return this[_0x156350(0x19d)][_0x202458];}return console[_0x156350(0x30f)](_0x156350(0x19f)),null;}['store'](_0x85b0ba,_0x131b3a,_0x2a2857,_0x3e9f3f){const _0x1c78fd=_0x28161d;typeof _0x2a2857['k']===_0x1c78fd(0x241)&&console[_0x1c78fd(0x30f)](_0x1c78fd(0x1be));if(this[_0x1c78fd(0x2bc)]==null)return console[_0x1c78fd(0x30f)](_0x1c78fd(0x2d5)),-0x1;let _0x34f4fa=this[_0x1c78fd(0x2bc)][_0x1c78fd(0x2e5)],_0x5cc6f5;if(_0x34f4fa==null){_0x5cc6f5=this[_0x1c78fd(0x132)]();if(_0x5cc6f5==null)return-0x1;this[_0x1c78fd(0x2bc)]['next']=_0x5cc6f5;}else{if(_0x34f4fa['t']==CHUDAN)_0x5cc6f5=_0x34f4fa;else{if(_0x34f4fa['t']<0xb&&_0x2a2857['t']<0xb)_0x5cc6f5=_0x34f4fa;else{if(_0x34f4fa['f']==_0x2a2857['f']&&_0x34f4fa['t']==_0x2a2857['t'])_0x5cc6f5=_0x34f4fa;else{if(_0x2a2857['t']==CHUDAN)return 0x0;let _0x35f4bf=_0x34f4fa;for(;;){if(_0x35f4bf['branch']==null){_0x5cc6f5=this[_0x1c78fd(0x132)]();if(_0x5cc6f5==null)return-0x1;_0x35f4bf['branch']=_0x5cc6f5;break;}_0x35f4bf=_0x35f4bf[_0x1c78fd(0x2ac)];if(_0x35f4bf['f']==_0x2a2857['f']&&_0x35f4bf['t']==_0x2a2857['t']){_0x5cc6f5=_0x35f4bf;break;}}}}}}if(_0x5cc6f5==null)return console[_0x1c78fd(0x30f)]('***\x20store\x20kp\x20==\x20null\x0a'),-0x1;return _0x5cc6f5['f']=_0x2a2857['f'],_0x5cc6f5['k']=_0x2a2857['k'],_0x5cc6f5['t']=_0x2a2857['t'],_0x2a2857['t']>0xa?_0x5cc6f5['c']=_0x85b0ba[_0x1c78fd(0x1c5)][_0x2a2857['t']&0x7f]:(_0x5cc6f5['c']=0x0,_0x5cc6f5['f']=0x1),this['current_p']=_0x5cc6f5,this['set_modify_kp'](_0x85b0ba,_0x5cc6f5,_0x2a2857),_0x5cc6f5['time']=_0x3e9f3f,0x0;}[_0x28161d(0x313)](_0x3d0389,_0x5969d2,_0x53fcbe,_0x14bab3){const _0x2adcfc=_0x28161d;typeof _0x53fcbe['k']===_0x2adcfc(0x241)&&console[_0x2adcfc(0x30f)](_0x2adcfc(0x2ba));if(_0x53fcbe['t']==CHUDAN)return 0x0;if(_0x5969d2[_0x2adcfc(0x1fa)]==SENTE){if((this[_0x2adcfc(0x242)]&0x1)==0x0)_0x53fcbe['k']|=SENTE;}else{if((this[_0x2adcfc(0x242)]&0x1)!=0x0)_0x53fcbe['k']|=SENTE;}if(_0x53fcbe['t']<0xb){let _0x3add94=this[_0x2adcfc(0x238)](_0x3d0389,_0x5969d2,_0x53fcbe,_0x14bab3);return this['move_no']++,_0x3add94;}if(_0x53fcbe['f']==0x0){console[_0x2adcfc(0x2f2)](_0x2adcfc(0x296)+_0x53fcbe['f']+'\x20cbd.teban='+_0x3d0389['teban']);if(_0x3d0389[_0x2adcfc(0x1fa)])_0x53fcbe['f']=0x90|_0x53fcbe['k']&0x7;else _0x53fcbe['f']=0x80|_0x53fcbe['k']&0x7;}else _0x53fcbe['k']=_0x3d0389[_0x2adcfc(0x1e6)](_0x53fcbe['f']),typeof _0x53fcbe['k']==='undefined'&&console[_0x2adcfc(0x30f)](_0x2adcfc(0x1ce)+_0x53fcbe['f']);let _0x261dc1=_0x3d0389[_0x2adcfc(0x1c5)][_0x53fcbe['t']&0x7f];if(_0x53fcbe['f']>0x63){if(_0x261dc1!=0x0)return console['error']('***\x20駒に打つ'),-0x1;if((_0x53fcbe['t']&0x80)!=0x0)return console['error'](_0x2adcfc(0xfd)),-0x1;}else{if(_0x53fcbe['t']>0xa){if(_0x3d0389[_0x2adcfc(0x1c5)][_0x53fcbe['f']]==0x0)return console[_0x2adcfc(0x30f)](_0x2adcfc(0x166)+_0x53fcbe['f']+_0x2adcfc(0x13f)+_0x3d0389[_0x2adcfc(0x1c5)][_0x53fcbe['f']]),-0x1;if(_0x261dc1!=0x0){if((_0x3d0389['board'][_0x53fcbe['f']]&0x80)==(_0x261dc1&0x80))return console[_0x2adcfc(0x30f)]('***\x20自分の駒を取る\x20kt='+_0x261dc1+_0x2adcfc(0x13f)+_0x3d0389[_0x2adcfc(0x1c5)][_0x53fcbe['f']]),-0x1;}}}let _0x4bd184=this[_0x2adcfc(0x238)](_0x3d0389,_0x5969d2,_0x53fcbe,_0x14bab3);if(_0x4bd184!=0x0)return-0x2;_0x3d0389[_0x2adcfc(0x108)](_0x53fcbe),this[_0x2adcfc(0x242)]++;if(_0x53fcbe['t']>0xa)_0x3d0389['flip_teban']();return 0x0;}[_0x28161d(0x2cf)](_0x4794c0,_0x51310a,_0x3a9fe2,_0x154106,_0x31c3d1,_0x43b699,_0x59ae00,_0x1e74a5){const _0x438f30=_0x28161d,_0x505b58=['０','１','２','３','４','５','６','７','８','９'],_0x1d75c1=['零','一','二','三','四','五','六','七','八','九'],_0x154925=['\u3000','歩','香','桂','銀','金','角','飛','玉','と','杏','圭','全','金','馬','龍'],_0x32d949=['','','行','上','引','直','寄','右','左','右引','右寄','右上','左引','左寄','左上'];let _0x3bf35c;if(_0x59ae00==0x0)_0x3bf35c='';else{if((_0x3a9fe2&0x80)!=0x0){if(_0x59ae00==0x3)_0x3bf35c='☗';else _0x3bf35c='▲';}else{if(_0x59ae00==0x3)_0x3bf35c='☖';else{if(_0x59ae00==0x1)_0x3bf35c='△';else _0x3bf35c='▽';}}}_0x3a9fe2&=0xf;let _0x15633c=_0x51310a&0x7f,_0x111214='';if(_0x51310a==TORYO)_0x111214='投了';else{if(_0x51310a==CHUDAN)_0x111214='中断';else{if(_0x51310a==JISHOGI)_0x111214=_0x438f30(0x27e);else{if(_0x51310a==TUMI)_0x111214='詰み';else{if(_0x51310a==SENNITITE)_0x111214='千日手';else{if(_0x51310a==KIREMAKE)_0x111214=_0x438f30(0x181);else{if(_0x51310a==KACHI)_0x111214='入玉宣言勝ち';else{if(_0x51310a==HANSOKU_KACHI)_0x111214=_0x438f30(0x2dc);else{if(_0x51310a==HANSOKU_MAKE)_0x111214=_0x438f30(0x29a);else{if(_0x51310a==SENTE_HANSOKU)_0x111214='先手反則負け';else{if(_0x51310a==GOTE_HANSOKU)_0x111214=_0x438f30(0x308);else{let _0x2b9803=parseInt(_0x15633c/0xa);if(_0x43b699==0x0&&_0x15633c==_0x31c3d1)_0x111214='同\u3000';else{if(_0x43b699==0x2&&_0x15633c==_0x31c3d1)_0x111214+=_0x505b58[_0x2b9803]+_0x1d75c1[_0x15633c%0xa]+'同';else{if(_0x43b699==0x3&&_0x15633c==_0x31c3d1)_0x111214='同';else _0x111214+=_0x505b58[_0x2b9803]+_0x1d75c1[_0x15633c%0xa];}}if(_0x3a9fe2<FU||_0x3a9fe2>RY){}else{if(_0x3a9fe2==NY)_0x111214+='成香';else{if(_0x3a9fe2==NE)_0x111214+='成桂';else{if(_0x3a9fe2==NG)_0x111214+='成銀';else _0x111214+=_0x154925[_0x3a9fe2];}}}if(_0x4794c0<0x64&&_0x4794c0!=0x0){_0x111214+=_0x32d949[_0x154106&0x3f];if((_0x51310a&0x80)!=0x0)_0x111214+='成';else{if((_0x154106&0x40)!=0x0)_0x111214+='不成';}}else{if(_0x154106==0x0)_0x111214+='打';else{if(_0x43b699==0x2){}}}}}}}}}}}}}}let _0x4e8abd=_0x111214;if(_0x4e8abd['indexOf']('同')==0x0&&_0x4e8abd[_0x438f30(0x2a7)]>=0x4){let _0x48ccdc=_0x4e8abd[_0x438f30(0x14b)](0x2);_0x111214='同'+_0x48ccdc;}_0x111214=_0x3bf35c+_0x111214;let _0x344982=_0x111214[_0x438f30(0x2a7)];for(;_0x344982<_0x1e74a5;_0x344982++){_0x111214+='\u3000';}return _0x111214;}[_0x28161d(0x295)](_0x55f42b,_0x358887,_0x426e97,_0x105a99){const _0x2e1047=_0x28161d;if(_0x426e97==null)return'';let _0xefb26,_0x584f75,_0x3c2a46,_0x3be566;_0xefb26=_0x426e97['f'],_0x584f75=_0x426e97['t'],_0x3c2a46=_0x426e97['k'];((_0x3c2a46&0xf)<FU||(_0x3c2a46&0xf)>RY)&&(_0xefb26>0x2&&console[_0x2e1047(0x30f)]('***\x20mov_strm_kp\x20error\x20k='+_0x426e97['k']+_0x2e1047(0x24a)+_0x426e97['f']+'\x20move_no='+this['move_no']));let _0x56f53a=_0x426e97[_0x2e1047(0x281)],_0x563a3a=this[_0x2e1047(0x279)](_0x426e97);if(_0x563a3a==null)_0x3be566=0x0;else _0x3be566=_0x563a3a['t']&0x7f;return this['mov_strm_sub'](_0xefb26,_0x584f75,_0x3c2a46,_0x56f53a,_0x3be566,_0x55f42b,_0x358887,_0x105a99);}}typeof KIF_FILE_NAME==='undefined'&&alert(_0x28161d(0x209));typeof KJ_DIR===_0x28161d(0x241)&&alert(_0x28161d(0x24d));var left_is_sente_flg=![];typeof LEFT_IS_SENTE!==_0x28161d(0x241)&&(left_is_sente_flg=LEFT_IS_SENTE);var muji_flg=![],english_flg=![],bdinv_flg=![];const RATE=devicePixelRatio;console[_0x28161d(0x2f2)](_0x28161d(0x18a)+RATE);function getScaleContext(_0x479b2f){const _0x493002=_0x28161d;let _0x5e3158=_0x479b2f[_0x493002(0x2a5)]('2d');return _0x5e3158['setTransform'](RATE,0x0,0x0,RATE,0x0,0x0),_0x5e3158;}var cbd=new Board(),start=new Board(),Kifu=new KifuData(),piece_img,TOP_INFO_H=0x46,BD_ORG_X=0x9a;if(FREE)BD_ORG_X=0x86;var BD_ORG_Y=TOP_INFO_H+0x28;const KOMA_SIZE_X=0x1f,KOMA_SIZE_Y=0x20,SQ_SIZE_X=KOMA_SIZE_X+0x3,SQ_SIZE_Y=KOMA_SIZE_Y+0x3,EDGE_X=0xc,EDGE_Y=0xc,LEFT_GAP=0x4,RIGHT_GAP=0x4,MOTI_EDGE_X=0x5,MOTI_EDGE_Y=0x3,MOTI_SQ_SIZE_X=SQ_SIZE_X*0x3/0x2+0x1,MOTI_SIZE_X=0x3*SQ_SIZE_X+0x2+0x2*MOTI_EDGE_X,MOTI_SIZE_Y=0x4*SQ_SIZE_Y+EDGE_Y,FU_PITCH=KOMA_SIZE_X-0x3,KOMADAI_LEFT_X=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;var KOMADAI_LEFT_Y=BD_ORG_Y-EDGE_Y;const KOMADAI_RIGHT_X=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP;var KOMADAI_RIGHT_Y=BD_ORG_Y+0x5*SQ_SIZE_Y;const MOTI_OVERLAP=0x3,KSQ_SIZE_Y=SQ_SIZE_Y-0x1,OX=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP;var COMMENT_TOP=BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y+0x4,comment_hight=0x6e;!FREE&&(comment_hight=0x88);var board_color='rgb(224,\x20178,\x20131)';class Point{}function drawLine(_0x20d532,_0xfbb64b,_0x45283c,_0x317556,_0x35db74){const _0x21ef97=_0x28161d;_0x20d532[_0x21ef97(0x235)](),_0x20d532[_0x21ef97(0x24b)](_0xfbb64b,_0x45283c),_0x20d532[_0x21ef97(0x1d0)](_0x317556,_0x35db74),_0x20d532[_0x21ef97(0x21a)]();}function drawRect(_0x5695e8,_0x684b00,_0x45b7ff,_0xa134a6){const _0x4334a9=_0x28161d;let _0x156077=getScaleContext(canvas);_0x156077[_0x4334a9(0x23a)](_0x5695e8,_0x684b00,_0x45b7ff,_0xa134a6);}const teai_name=['平手',_0x28161d(0x2b9),_0x28161d(0x2e9),_0x28161d(0x1b1),_0x28161d(0x137),_0x28161d(0x1a3),_0x28161d(0x20c),_0x28161d(0x29c),_0x28161d(0x177),_0x28161d(0x1f9),_0x28161d(0xf8),_0x28161d(0x307),'八枚落ち',_0x28161d(0xf2),_0x28161d(0x1cb)];function get_shohi(_0x4afdb7){const _0x151d45=_0x28161d;let _0xd8d149,_0x49a5b2,_0x50fe00,_0x2522ec=Kifu[_0x151d45(0x16e)]();if(_0x2522ec>0x0){let _0x1bd089=Kifu[_0x151d45(0x262)](Kifu[_0x151d45(0x242)]);if(_0x1bd089==null)return-0x1;let _0x1e4bfd=Kifu[_0x151d45(0x14c)](_0x1bd089);console[_0x151d45(0x2f2)](_0x151d45(0x2f5)+_0x1e4bfd);let _0xe26e37;if(Kifu[_0x151d45(0x242)]<=0x0)_0xe26e37=0x0;else{let _0xd61d3a=Kifu[_0x151d45(0x262)](Kifu['move_no']-0x1);if(_0xd61d3a==null)return-0x1;_0xe26e37=Kifu[_0x151d45(0x14c)](_0xd61d3a);}_0x1e4bfd=parseInt(_0x1e4bfd/0x3c),_0xe26e37=parseInt(_0xe26e37/0x3c);(Kifu[_0x151d45(0x242)]&0x1)==0x0?(_0x50fe00=_0x1e4bfd,_0x49a5b2=_0xe26e37):(_0x49a5b2=_0x1e4bfd,_0x50fe00=_0xe26e37);_0xd8d149=Kifu[_0x151d45(0x242)];if(Kifu['move_no']>0x0&&_0x1bd089['t']<0xb)_0xd8d149=-0x1;}else{console[_0x151d45(0x2f2)]('###\x20get_shohi\x20shohi_jikan='+Kifu[_0x151d45(0x190)]);if(Kifu['shohi_jikan']==null)return-0x1;let _0x4e5e49=Kifu[_0x151d45(0x190)]['indexOf']('▲');if(_0x4e5e49<0x0)return-0x1;let _0x112f8c=Kifu[_0x151d45(0x190)][_0x151d45(0x14b)](0x0,_0x4e5e49);_0xd8d149=parseInt(_0x112f8c);if(isNaN(_0xd8d149))return console['error'](_0x151d45(0x2da)+_0x112f8c),-0x1;if(Kifu[_0x151d45(0x130)]()!=0x0&&_0xd8d149>=Kifu[_0x151d45(0x21b)]()-0x1)_0xd8d149=-0x1;let _0x30cf9f=Kifu['shohi_jikan'][_0x151d45(0x14b)](_0x4e5e49),_0xab4302=_0x30cf9f['indexOf']('△');if(_0xab4302<0x0)return;let _0x52307c=_0x30cf9f['substring'](0x1,_0xab4302),_0x51553e=_0x30cf9f[_0x151d45(0x14b)](_0xab4302+0x1);_0x49a5b2=parseInt(_0x52307c),_0x50fe00=parseInt(_0x51553e);if(isNaN(_0x49a5b2)||isNaN(_0x50fe00))return console[_0x151d45(0x30f)](_0x151d45(0x19e)+Kifu[_0x151d45(0x190)]),-0x1;}return _0x4afdb7==SENTE?_0x49a5b2:_0x50fe00;}function get_shohi_tesuu(){const _0x51c559=_0x28161d;let _0x166dfb,_0x67eabd=Kifu[_0x51c559(0x16e)]();if(_0x67eabd>0x0){let _0x37ec21=Kifu['get_kifup'](Kifu[_0x51c559(0x242)]);if(_0x37ec21==null)return-0x1;_0x166dfb=Kifu['move_no'];if(Kifu[_0x51c559(0x242)]>0x0&&_0x37ec21['t']<0xb)_0x166dfb=-0x2;}else{if(Kifu['shohi_jikan']==null)return-0x1;let _0x526e0b=Kifu[_0x51c559(0x190)][_0x51c559(0x2d8)]('▲');if(_0x526e0b<0x0)return-0x1;let _0x462e7d=Kifu['shohi_jikan'][_0x51c559(0x14b)](0x0,_0x526e0b);_0x166dfb=parseInt(_0x462e7d);if(isNaN(_0x166dfb))return console[_0x51c559(0x30f)](_0x51c559(0x2da)+_0x462e7d),-0x1;if(Kifu[_0x51c559(0x130)]()!=0x0&&_0x166dfb>=Kifu[_0x51c559(0x21b)]()-0x1)_0x166dfb=-0x2;}return _0x166dfb;}function Info(_0x223655){const _0x5c852f=_0x28161d,_0x14bf01=0x1,_0x1fbb01=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+_0x14bf01,_0x3b5b12=BD_ORG_Y-EDGE_Y,_0x7e9b2=0x3,_0x5d8003=MOTI_SIZE_Y+SQ_SIZE_Y-_0x7e9b2,_0x4e9e45=_0x3b5b12,_0x36b6b1=MOTI_SIZE_X+0x1-_0x14bf01;let _0x41e319=_0x4e9e45+_0x5d8003,_0x5eff4b=getScaleContext(canvas);_0x5eff4b['fillStyle']='rgb(255,\x20255,\x20255)',_0x5eff4b[_0x5c852f(0x2aa)](_0x1fbb01,_0x4e9e45,_0x36b6b1,_0x41e319-_0x4e9e45),_0x5eff4b[_0x5c852f(0x280)]=_0x5c852f(0x149),_0x5eff4b[_0x5c852f(0x1e5)]=0x1,_0x5eff4b[_0x5c852f(0x23a)](_0x1fbb01,_0x4e9e45,_0x36b6b1,_0x41e319-_0x4e9e45),_0x5eff4b[_0x5c852f(0xef)]='rgb(0,\x200,\x200)',_0x5eff4b[_0x5c852f(0x28b)]=_0x5c852f(0x1f8);let _0x13531a=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+0x1e;_0x5eff4b[_0x5c852f(0x143)](''+version,_0x13531a,KOMADAI_LEFT_Y-0x8),_0x5eff4b['font']='12px\x20\x27メイリオ\x27';let _0x30fa96=_0x1fbb01+0x2;const _0x27491f=0x9,_0x533616=0x12;let _0x264e6e,_0x3166fa;if(_0x223655[_0x5c852f(0x1eb)]!=null&&_0x223655['sakusya'][_0x5c852f(0x2a7)]>0x0){_0x264e6e=_0x3b5b12+0xe,_0x5eff4b[_0x5c852f(0x143)](_0x5c852f(0x2e7)+_0x223655[_0x5c852f(0x1eb)],_0x30fa96,_0x264e6e),_0x264e6e=_0x3b5b12+_0x533616+0xe,_0x5eff4b[_0x5c852f(0x143)](_0x223655[_0x5c852f(0x115)],_0x30fa96,_0x264e6e,_0x36b6b1),_0x264e6e=_0x3b5b12+0x2*_0x533616+0xe;if(_0x223655['syutten']!=null&&_0x223655[_0x5c852f(0x1d9)][_0x5c852f(0x2a7)]>0x0)_0x5eff4b['fillText']('出典：'+_0x223655[_0x5c852f(0x1d9)],_0x30fa96,_0x264e6e,_0x36b6b1);else{if(_0x223655[_0x5c852f(0x2ab)]!=null&&_0x223655['happyoushi'][_0x5c852f(0x2a7)]>0x0)_0x5eff4b[_0x5c852f(0x143)](_0x5c852f(0x19b)+_0x223655[_0x5c852f(0x2ab)],_0x30fa96,_0x264e6e,_0x36b6b1);}_0x264e6e=_0x3b5b12+0x3*_0x533616+0xe,_0x5eff4b['fillText']('発表：'+_0x223655[_0x5c852f(0x2b7)],_0x30fa96,_0x264e6e,_0x36b6b1);return;}if(_0x223655[_0x5c852f(0x2c3)]!=null){let _0x282f93=_0x223655[_0x5c852f(0x2c3)],_0x49a80c=_0x282f93[_0x5c852f(0x2d8)]('\x20');if(_0x49a80c>0x0)_0x282f93=_0x282f93[_0x5c852f(0x14b)](0x0,_0x49a80c);_0x49a80c=_0x282f93[_0x5c852f(0x2d8)]('(');if(_0x49a80c>0x0)_0x282f93=_0x282f93[_0x5c852f(0x14b)](0x0,_0x49a80c);let _0x52a6bf=_0x223655[_0x5c852f(0x2c3)];_0x49a80c=_0x52a6bf[_0x5c852f(0x2d8)]('\x20');if(_0x49a80c>=0x0){_0x3166fa=_0x52a6bf[_0x5c852f(0x2a7)];let _0xa9b015=_0x49a80c+0x1;for(;;){if(_0xa9b015>=_0x3166fa)break;if(_0x52a6bf[_0x5c852f(0x124)](_0xa9b015)=='\x20')_0xa9b015++;else break;}_0xa9b015<_0x3166fa&&(_0x52a6bf=_0x52a6bf['substring'](_0xa9b015),_0x282f93+='\x20'+_0x52a6bf);}_0x264e6e=_0x3b5b12+0xe,_0x5eff4b[_0x5c852f(0x143)](_0x282f93,_0x30fa96,_0x264e6e,_0x36b6b1);}if(_0x223655['kisen']!=null){let _0x4e955e=_0x223655[_0x5c852f(0x250)];_0x3166fa=_0x4e955e[_0x5c852f(0x2a7)],_0x3166fa>=_0x27491f&&(_0x4e955e=_0x4e955e[_0x5c852f(0x159)](0x0,_0x27491f)),_0x264e6e=_0x3b5b12+_0x533616+0xe,_0x5eff4b[_0x5c852f(0x143)](_0x4e955e,_0x30fa96,_0x264e6e,_0x36b6b1);}if(_0x223655[_0x5c852f(0x23d)]!=null){let _0x576c8b=_0x223655['site'];_0x3166fa=_0x576c8b[_0x5c852f(0x2a7)],_0x3166fa>=_0x27491f&&(_0x576c8b=_0x576c8b[_0x5c852f(0x159)](0x0,_0x27491f)),_0x264e6e=_0x3b5b12+0x2*_0x533616+0xe,_0x5eff4b[_0x5c852f(0x143)](_0x576c8b,_0x30fa96,_0x264e6e,_0x36b6b1);}_0x223655[_0x5c852f(0x1d4)]!=null&&_0x223655['motijikan'][_0x5c852f(0x2a7)]>0x0&&(_0x264e6e=_0x3b5b12+0x3*_0x533616+0xe,_0x5eff4b[_0x5c852f(0x143)](_0x5c852f(0x2e6)+_0x223655[_0x5c852f(0x1d4)],_0x30fa96,_0x264e6e,_0x36b6b1));let _0x300709=Kifu['get_motijikan'](),_0x4c67c6=Kifu[_0x5c852f(0x16e)](),_0x48101a=get_shohi(SENTE),_0x4a085f=get_shohi(GOTE);_0x48101a>_0x300709&&(_0x48101a=_0x300709);_0x4a085f>_0x300709&&(_0x4a085f=_0x300709);console[_0x5c852f(0x2f2)](_0x5c852f(0x191)+_0x48101a);{_0x264e6e=_0x3b5b12+0x4*_0x533616+0xe,_0x5eff4b[_0x5c852f(0x143)](_0x5c852f(0x1f2),_0x30fa96,_0x264e6e,_0x36b6b1);if(_0x48101a>=0x0){let _0x4ecfdd=time_to_str(_0x48101a);_0x264e6e=_0x3b5b12+0x5*_0x533616+0xe,_0x5eff4b[_0x5c852f(0x143)](_0x5c852f(0x2df)+_0x4ecfdd,_0x30fa96,_0x264e6e,_0x36b6b1);}if(_0x4a085f>=0x0){let _0x565eaf=time_to_str(_0x4a085f);_0x264e6e=_0x3b5b12+0x6*_0x533616+0xe,_0x5eff4b['fillText'](_0x5c852f(0x276)+_0x565eaf,_0x30fa96,_0x264e6e,_0x36b6b1);}}if(_0x300709>0x0){let _0x52d3b2=get_shohi_tesuu();_0x264e6e=_0x3b5b12+0x7*_0x533616+0xe;if(_0x52d3b2==-0x2)_0x5eff4b[_0x5c852f(0x143)](_0x5c852f(0x173),_0x30fa96,_0x264e6e,_0x36b6b1);else{if(_0x52d3b2==-0x1)return;else _0x5eff4b[_0x5c852f(0x143)](_0x5c852f(0x2ef)+_0x52d3b2+_0x5c852f(0x266),_0x30fa96,_0x264e6e,_0x36b6b1);}let _0x521def=_0x300709-_0x48101a;if(_0x521def<0x0)_0x521def=0x0;{if(_0x521def<=0x1)_0x5eff4b[_0x5c852f(0xef)]=_0x5c852f(0x1b2);else{if(_0x521def<=0xa)_0x5eff4b[_0x5c852f(0xef)]=_0x5c852f(0x1f7);else _0x5eff4b['fillStyle']='rgb(0,\x200,\x200)';}}let _0x10240c=time_to_str(_0x521def);_0x264e6e=_0x3b5b12+0x8*_0x533616+0xf,_0x5eff4b[_0x5c852f(0x143)]('\u3000\u3000☗'+_0x10240c,_0x30fa96,_0x264e6e,_0x36b6b1);let _0x369f13=_0x300709-_0x4a085f;if(_0x369f13<0x0)_0x369f13=0x0;if(_0x369f13<=0x1)_0x5eff4b[_0x5c852f(0xef)]='rgb(255,\x200,\x200)';else{if(_0x369f13<=0xa)_0x5eff4b[_0x5c852f(0xef)]='rgb(0,\x200,\x20255)';else _0x5eff4b[_0x5c852f(0xef)]=_0x5c852f(0x220);}_0x10240c=time_to_str(_0x369f13),_0x264e6e=_0x3b5b12+0x9*_0x533616+0xf,_0x5eff4b[_0x5c852f(0x143)](_0x5c852f(0x276)+_0x10240c,_0x30fa96,_0x264e6e,_0x36b6b1);}_0x5eff4b[_0x5c852f(0xef)]='rgb(0,\x200,\x200)',console['log'](_0x5c852f(0x2d6)+cbd['teai']),cbd[_0x5c852f(0x211)]!=0x0&&(_0x264e6e=_0x3b5b12+0xa*_0x533616+0xe);}function TopInfo(_0x4fee21){const _0x39e691=_0x28161d;console['log'](_0x39e691(0x2c2));if(FREE){Info(_0x4fee21);return;}let _0x1b0515=canvas['getBoundingClientRect'](),_0xf9a9c2=_0x1b0515['left'],_0x380b69=_0x1b0515['top'],_0x4c6486=document[_0x39e691(0x247)][_0x39e691(0x21f)],_0x5e4420=document[_0x39e691(0x30a)][_0x39e691(0x21f)];if(_0x5e4420>_0x4c6486)_0x380b69+=_0x5e4420;else _0x380b69+=_0x4c6486;console[_0x39e691(0x2f2)](_0x39e691(0x1ba)+_0x380b69);const _0x545dd3=0x4;let _0x1f1647=_0xf9a9c2+_0x545dd3;const _0x2bee32=0x2,_0x2e0a01=COMM_LEFT+COM_WIDTH,_0x307875=_0x2e0a01-_0x1f1647,_0xdf7ad5=_0x2bee32+TOP_INFO_H-0x2;let _0x35fb02=getScaleContext(canvas);_0x35fb02['fillStyle']=_0x39e691(0xfc),_0x35fb02[_0x39e691(0x2aa)](_0x545dd3,_0x2bee32,_0x307875,_0xdf7ad5-_0x2bee32),_0x35fb02[_0x39e691(0x280)]='black',_0x35fb02[_0x39e691(0x1e5)]=0x1,_0x35fb02[_0x39e691(0x23a)](_0x545dd3,_0x2bee32,_0x307875,_0xdf7ad5-_0x2bee32);if(!small_header_flg){let _0x3153ae='';if(_0x4fee21[_0x39e691(0x2c3)]!=null){let _0x24a08b=_0x4fee21['date'],_0xbd1fd=_0x24a08b[_0x39e691(0x2d8)]('\x20');if(_0xbd1fd>0x0)_0x24a08b=_0x24a08b[_0x39e691(0x14b)](0x0,_0xbd1fd);_0xbd1fd=_0x24a08b['indexOf']('(');if(_0xbd1fd>0x0)_0x24a08b=_0x24a08b[_0x39e691(0x14b)](0x0,_0xbd1fd);_0x3153ae+=_0x24a08b;}if(_0x4fee21[_0x39e691(0x250)]!=null)_0x3153ae+='\x20\u3000'+_0x4fee21[_0x39e691(0x250)];_0x35fb02[_0x39e691(0xef)]=_0x39e691(0x220),_0x35fb02[_0x39e691(0x28b)]=_0x39e691(0x31f);top_label1==null&&(top_label1=document[_0x39e691(0x21c)](_0x39e691(0x128)),document[_0x39e691(0x247)][_0x39e691(0x292)](top_label1));top_label1[_0x39e691(0x213)]['position']='absolute',top_label1['style'][_0x39e691(0x1d1)]=String(_0x380b69+_0x2bee32)+'px',top_label1[_0x39e691(0x213)][_0x39e691(0x2ae)]=String(_0x1f1647)+'px',top_label1[_0x39e691(0x213)][_0x39e691(0x2b4)]=String(_0x2e0a01-_0x1f1647)+'px',top_label1[_0x39e691(0x213)][_0x39e691(0x314)]='15px',top_label1[_0x39e691(0x213)]['textAlign']=_0x39e691(0x1c9);top_label1[_0x39e691(0x255)]()&&top_label1[_0x39e691(0x321)](top_label1['firstChild']);top_label1[_0x39e691(0x292)](document[_0x39e691(0x17a)](_0x3153ae));let _0x3c1038='',_0x3a6f49=null,_0x72d3fa=null;if(_0x4fee21[_0x39e691(0x1c8)]!=null){let _0x3b2d37=_0x4fee21[_0x39e691(0x1c8)],_0x480ebb=_0x3b2d37[_0x39e691(0x2d8)]('▽');_0x480ebb>=0x0?(_0x3a6f49=_0x3b2d37['substring'](0x1,_0x480ebb),_0x72d3fa=_0x3b2d37[_0x39e691(0x14b)](_0x480ebb+0x1)):(_0x480ebb=_0x3b2d37[_0x39e691(0x2d8)]('△'),_0x480ebb>=0x0&&(_0x3a6f49=_0x3b2d37[_0x39e691(0x14b)](0x1,_0x480ebb),_0x72d3fa=_0x3b2d37[_0x39e691(0x14b)](_0x480ebb+0x1)));}_0x3c1038+=_0x4fee21[_0x39e691(0x1a1)];if(_0x3a6f49!=null)_0x3c1038+='（'+_0x3a6f49+'）';_0x3c1038+=_0x39e691(0x15a)+_0x4fee21[_0x39e691(0x233)];if(_0x72d3fa!=null)_0x3c1038+='（'+_0x72d3fa+'）';cbd[_0x39e691(0x211)]!=0x0&&(_0x3c1038+='\u3000\u3000'+teai_name[cbd[_0x39e691(0x211)]]),_0x35fb02[_0x39e691(0x28b)]=_0x39e691(0x19a),top_label2==null&&(top_label2=document[_0x39e691(0x21c)](_0x39e691(0x128)),document[_0x39e691(0x247)]['appendChild'](top_label2)),top_label2[_0x39e691(0x213)]['position']='absolute',top_label2[_0x39e691(0x213)][_0x39e691(0x1d1)]=String(_0x380b69+_0x2bee32+0x14)+'px',top_label2[_0x39e691(0x213)][_0x39e691(0x2ae)]=String(_0x1f1647)+'px',top_label2[_0x39e691(0x213)][_0x39e691(0x2b4)]=String(_0x2e0a01-_0x1f1647)+'px',top_label2[_0x39e691(0x213)][_0x39e691(0x314)]=_0x39e691(0x1ed),top_label2[_0x39e691(0x213)]['textAlign']=_0x39e691(0x1c9),top_label2['hasChildNodes']()&&top_label2['removeChild'](top_label2[_0x39e691(0x316)]),top_label2[_0x39e691(0x292)](document[_0x39e691(0x17a)](_0x3c1038));}let _0x593a87='';_0x4fee21[_0x39e691(0x23d)]!=null&&(_0x593a87+=_0x4fee21[_0x39e691(0x23d)]+'\x20\u3000');if(_0x4fee21['date']!=null){var _0x184263=_0x4fee21[_0x39e691(0x2c3)];let _0x467267=_0x184263[_0x39e691(0x2d8)]('\x20');if(_0x467267>=0x0){let _0x3b5f69=_0x184263[_0x39e691(0x2a7)],_0x47f207=_0x467267+0x1;for(;;){if(_0x47f207>=_0x3b5f69)break;if(_0x184263[_0x39e691(0x124)](_0x47f207)=='\x20')_0x47f207++;else break;}if(_0x47f207<_0x3b5f69){_0x184263=_0x184263[_0x39e691(0x14b)](_0x47f207,_0x3b5f69);if(english_flg)_0x593a87+=_0x39e691(0x205)+_0x184263+'\x20\u3000';else _0x593a87+=_0x39e691(0x244)+_0x184263+'\x20\u3000';}}}if(_0x4fee21[_0x39e691(0x139)]!=null){let _0x5898e0=_0x4fee21['end_date'],_0x58b4de=_0x5898e0[_0x39e691(0x2d8)]('\x20');if(_0x58b4de>=0x0){_0x5898e0=_0x5898e0[_0x39e691(0x14b)](_0x58b4de+0x1);if(english_flg)_0x593a87+=_0x39e691(0x2e4)+_0x5898e0;else _0x593a87+='終了\x20'+_0x5898e0;}}let _0x1f2d63;if(small_header_flg)_0x1f2d63=_0x2bee32+0x10;else _0x1f2d63=_0x2bee32+0x3c;_0x35fb02[_0x39e691(0xef)]=_0x39e691(0x220),_0x35fb02[_0x39e691(0x28b)]=_0x39e691(0x31f);top_label3==null&&(top_label3=document['createElement']('label'),document[_0x39e691(0x247)]['appendChild'](top_label3));top_label3[_0x39e691(0x213)][_0x39e691(0x104)]=_0x39e691(0x1de),top_label3[_0x39e691(0x213)]['left']=String(_0x1f1647)+'px',top_label3[_0x39e691(0x213)][_0x39e691(0x2b4)]=String(_0x2e0a01-_0x1f1647)+'px',console['log'](_0x39e691(0x2d3)+(_0x2e0a01-_0x1f1647)),console[_0x39e691(0x2f2)](_0x39e691(0x2c6)+_0x593a87[_0x39e691(0x2a7)]);let _0x27232b=0xf;_0x593a87[_0x39e691(0x2a7)]>0x32&&(_0x27232b=0xf*0x32/_0x593a87[_0x39e691(0x2a7)],console[_0x39e691(0x2f2)]('###\x20font_size='+_0x27232b));top_label3[_0x39e691(0x213)][_0x39e691(0x314)]=String(_0x27232b)+'px';let _0x23f71e=0x1+_0x27232b;top_label3[_0x39e691(0x213)][_0x39e691(0x1d1)]=String(_0x380b69+_0x1f2d63-_0x23f71e)+'px',top_label3[_0x39e691(0x213)][_0x39e691(0x257)]=_0x39e691(0x1c9);top_label3[_0x39e691(0x255)]()&&top_label3[_0x39e691(0x321)](top_label3[_0x39e691(0x316)]);top_label3[_0x39e691(0x292)](document['createTextNode'](_0x593a87)),_0x35fb02[_0x39e691(0x28b)]=_0x39e691(0x2bf);let _0x185ad8=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+0xc;_0x35fb02[_0x39e691(0xff)](_0x185ad8,KOMADAI_LEFT_Y-0x14,0x50,0xf),_0x35fb02[_0x39e691(0xef)]=_0x39e691(0x220),_0x35fb02[_0x39e691(0x143)]('Kifu\x20'+version,_0x185ad8,KOMADAI_LEFT_Y-0xa);}function LoadKoma(){const _0x5117a7=_0x28161d;console[_0x5117a7(0x2f2)](_0x5117a7(0x2b6)),piece_img=new Image(),piece_img[_0x5117a7(0x145)]=KJ_DIR+'piece_4g.png?'+new Date()[_0x5117a7(0x15f)](),piece_img[_0x5117a7(0x1d8)]=function(){const _0x1a2a4f=_0x5117a7;console[_0x1a2a4f(0x2f2)](_0x1a2a4f(0x2f4));},piece_img['onerror']=function(){const _0x4de027=_0x5117a7;console[_0x4de027(0x30f)](_0x4de027(0x162));};}function get_moti_x_rr(){return BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+MOTI_EDGE_X+MOTI_SQ_SIZE_X-MOTI_OVERLAP;}function get_moti_x_rl(){return BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+MOTI_EDGE_X;}function get_moti_x_lr(){let _0x5560a3=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;return _0x5560a3+MOTI_EDGE_X+MOTI_SQ_SIZE_X-MOTI_OVERLAP;}function get_moti_x_ll(){let _0x1c398c=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;return _0x1c398c+MOTI_EDGE_X;}function get_moti_r_yo(){return BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y-0x4*KSQ_SIZE_Y-MOTI_EDGE_Y;}function get_moti_l_yo(){return BD_ORG_Y-EDGE_Y+MOTI_EDGE_Y-0x1;}function no_to_p(_0x3ced29,_0x1da915){let _0x8a7edb=_0x1da915-0x1,_0x2153cb=_0x8a7edb>>0x1,_0x2f0b9b,_0x4cadbf;if(_0x3ced29!=0x0){if((_0x8a7edb&0x1)==0x0)_0x2f0b9b=get_moti_x_lr();else _0x2f0b9b=get_moti_x_ll();let _0xfd08d0=0x3-_0x2153cb;_0x4cadbf=get_moti_l_yo()+_0xfd08d0*KSQ_SIZE_Y;}else{if((_0x8a7edb&0x1)==0x0)_0x2f0b9b=get_moti_x_rl();else _0x2f0b9b=get_moti_x_rr();_0x4cadbf=get_moti_r_yo()+_0x2153cb*KSQ_SIZE_Y;}let _0x3bd526=new Point();return _0x3bd526['x']=_0x2f0b9b+0x2,_0x3bd526['y']=_0x4cadbf+0x2,_0x3bd526;}function GetMotiXy(_0x37a1ce,_0x3e7ae8,_0x5e1e0){const _0xf0b53c=_0x28161d;let _0x8ab086,_0x19d3ba;if(_0x3e7ae8==SENTE)_0x8ab086=0x0;else _0x8ab086=0x1;if(bdinv_flg!=0x0)_0x8ab086=0x1-_0x8ab086;let _0x52d2ef=0x0,_0x2a8b72=_0x3e7ae8!=0x0?0x1:0x0;for(_0x19d3ba=HI;_0x19d3ba>=FU;_0x19d3ba--){if(_0x37a1ce[_0xf0b53c(0x10a)][_0x2a8b72][_0x19d3ba]>0x0){_0x52d2ef++;if(_0x19d3ba==(_0x5e1e0&0xf))break;}if(_0x19d3ba==(_0x5e1e0&0xf)){_0x52d2ef++;break;}}if(_0x19d3ba==FU){if(_0x8ab086==0x0){if((_0x52d2ef&0x1)==0x0)_0x52d2ef++;}else{if((_0x52d2ef&0x1)!=0x0)_0x52d2ef++;else _0x52d2ef+=0x2;}}return no_to_p(_0x8ab086,_0x52d2ef);}function star(_0x31ecb1,_0xbb4ea0){const _0x407448=_0x28161d;let _0x8e3f03=BD_ORG_X+SQ_SIZE_X*_0x31ecb1,_0x3cb594=BD_ORG_Y+SQ_SIZE_Y*_0xbb4ea0,_0x205deb=getScaleContext(canvas);_0x205deb[_0x407448(0x235)](),_0x205deb[_0x407448(0x214)](_0x8e3f03,_0x3cb594,2.5,0x0*Math['PI']/0xb4,0x168*Math['PI']/0xb4,![]),_0x205deb[_0x407448(0xef)]='rgba(0,\x200,\x200,\x201)',_0x205deb['fill'](),_0x205deb[_0x407448(0x280)]=_0x407448(0x149),_0x205deb[_0x407448(0x1e5)]=0x1,_0x205deb[_0x407448(0x21a)]();}function _0x5f60(_0x28bbd2,_0x536650){const _0x3c516d=_0x3c51();return _0x5f60=function(_0x5f6026,_0x32f61b){_0x5f6026=_0x5f6026-0xee;let _0x357f14=_0x3c516d[_0x5f6026];return _0x357f14;},_0x5f60(_0x28bbd2,_0x536650);}function stars(){star(0x3,0x3),star(0x6,0x3),star(0x3,0x6),star(0x6,0x6);}function DrawPieceXY(_0x3d14c9,_0x5a38d2,_0x43528d){const _0x3e9ab3=_0x28161d;if(bdinv_flg!=0x0){let _0x5a4022=_0x43528d&0x80;_0x5a4022=0x80-_0x5a4022,_0x43528d=_0x5a4022|_0x43528d&0x7f;}let _0x8382d8;if(_0x43528d==0x8||_0x43528d==0x0||_0x43528d==SGY)_0x8382d8=0x0;else _0x8382d8=(0x8-(_0x43528d&0x7))*KOMA_SIZE_X;let _0x22bc2c=0x0;if(_0x43528d&0x80){if(_0x43528d&0x8)_0x22bc2c=KOMA_SIZE_Y;}else{if(_0x43528d&0x8)_0x22bc2c=KOMA_SIZE_Y*0x3;else _0x22bc2c=KOMA_SIZE_Y*0x2;}let _0x526241=getScaleContext(canvas);_0x526241[_0x3e9ab3(0x2c9)](piece_img,_0x8382d8*0x2,_0x22bc2c*0x2,KOMA_SIZE_X*0x2,KOMA_SIZE_Y*0x2,_0x3d14c9,_0x5a38d2,KOMA_SIZE_X,KOMA_SIZE_Y);}function DrawPiece(_0x2694e3,_0x108201){const _0x33f296=_0x28161d;if(_0x108201==0x0)return;let _0x11c584=parseInt(_0x2694e3/0xa),_0x550b12=_0x2694e3%0xa;bdinv_flg!=0x0&&(_0x11c584=0xa-_0x11c584,_0x550b12=0xa-_0x550b12);if(_0x11c584<0x1||_0x550b12<0x1){console[_0x33f296(0x30f)]('DrawPiece\x20s='+_0x2694e3);return;}let _0x15addc=BD_ORG_X+(0x9-_0x11c584)*SQ_SIZE_X+0x2,_0x4f666f=BD_ORG_Y+(_0x550b12-0x1)*SQ_SIZE_Y+0x2;DrawPieceXY(_0x15addc,_0x4f666f,_0x108201);}function clear_sq(_0x123f36){const _0x3237c5=_0x28161d;if(_0x123f36>0x63||_0x123f36<0xb){console[_0x3237c5(0x30f)](_0x3237c5(0x116)+_0x123f36);return;}let _0x2c00b1=parseInt(_0x123f36/0xa),_0x234f30=_0x123f36%0xa;bdinv_flg&&(_0x2c00b1=0xa-_0x2c00b1,_0x234f30=0xa-_0x234f30);let _0x2402b5=BD_ORG_Y+(_0x234f30-0x1)*SQ_SIZE_Y+0x2,_0xa75e0a=BD_ORG_X+(0x9-_0x2c00b1)*SQ_SIZE_X+0x2,_0x4c8b4c=_0xa75e0a-0x1,_0x334d6d=_0x2402b5-0x1,_0x274ba3=getScaleContext(canvas);if(muji_flg)_0x274ba3[_0x3237c5(0xef)]='rgb(242,\x20192,\x20119)',_0x274ba3[_0x3237c5(0x2aa)](_0x4c8b4c,_0x334d6d,SQ_SIZE_X-0x3,SQ_SIZE_Y-0x2);else{ban_img==null&&(console[_0x3237c5(0x30f)](_0x3237c5(0xf6)+_0x123f36),retrurn);console[_0x3237c5(0x2f2)](_0x3237c5(0x2eb)+_0x123f36);let _0x2d3c3b=SQ_SIZE_X-0x3,_0x591d6b=SQ_SIZE_Y-0x2;_0x274ba3[_0x3237c5(0x2c9)](ban_img,(0x9-_0x2c00b1)*SQ_SIZE_X+0x2,(_0x234f30-0x1)*SQ_SIZE_Y+0x2,_0x2d3c3b,_0x591d6b,_0x4c8b4c,_0x334d6d,_0x2d3c3b,_0x591d6b);}}function DrawLastPiece(_0xdcde2a,_0x1a8c4e){const _0xad76e2=_0x28161d;if(_0x1a8c4e<0xb)return;let _0x1e4347=parseInt(_0x1a8c4e/0xa),_0x58afb8=_0x1a8c4e%0xa;bdinv_flg!=0x0&&(_0x1e4347=0xa-_0x1e4347,_0x58afb8=0xa-_0x58afb8);let _0xe2d54b=BD_ORG_X+(0x9-_0x1e4347)*SQ_SIZE_X+0x2,_0x3570f3=BD_ORG_Y+(_0x58afb8-0x1)*SQ_SIZE_Y+0x2,_0x58416a=_0xe2d54b+SQ_SIZE_X-0x3,_0x4e06a9=_0x3570f3+SQ_SIZE_Y-0x3,_0x4ff111=getScaleContext(canvas);_0x4ff111[_0xad76e2(0xef)]=_0xad76e2(0x110),_0x4ff111['fillRect'](_0xe2d54b-0x1,_0x3570f3-0x1,_0x58416a-_0xe2d54b+0x1,_0x4e06a9-_0x3570f3+0x1),stars();let _0xd5f17b=_0xdcde2a[_0xad76e2(0x1c5)][_0x1a8c4e];DrawPiece(_0x1a8c4e,_0xd5f17b);}function get_last_move_from(){const _0x475605=_0x28161d;if(Kifu[_0x475605(0x242)]<=0x0)return 0x0;let _0x526916=Kifu[_0x475605(0x195)](),_0x4a8084=_0x526916['t']&0x7f;if(_0x4a8084<0xb){if(Kifu[_0x475605(0x242)]>0x1){let _0x5c83c8=Kifu[_0x475605(0x262)](Kifu[_0x475605(0x242)]-0x1);if(_0x5c83c8==null)return 0x0;return _0x5c83c8['f'];}else return 0x0;}else return _0x526916['f'];return 0x0;}function DrawLastPieceFrom(){const _0x15c15a=_0x28161d;if(Kifu[_0x15c15a(0x242)]==0x0)return;let _0x18ca49=get_last_move_from();if(_0x18ca49<0xb||_0x18ca49>0x63)return;let _0x27541b=parseInt(_0x18ca49/0xa),_0x23cfde=_0x18ca49%0xa;bdinv_flg!=0x0&&(_0x27541b=0xa-_0x27541b,_0x23cfde=0xa-_0x23cfde);let _0x383e04=BD_ORG_X+(0x9-_0x27541b)*SQ_SIZE_X+0x2,_0x35b196=BD_ORG_Y+(_0x23cfde-0x1)*SQ_SIZE_Y+0x2,_0x5d0d92=_0x383e04+SQ_SIZE_X-0x3,_0x2a8bc4=_0x35b196+SQ_SIZE_Y-0x3,_0x1efa5f=getScaleContext(canvas);_0x1efa5f['fillStyle']=_0x15c15a(0x202),_0x1efa5f[_0x15c15a(0x2aa)](_0x383e04-0x1,_0x35b196-0x1,_0x5d0d92-_0x383e04+0x1,_0x2a8bc4-_0x35b196+0x1),stars();}function DrawMotigomaPiece(_0x5b87f0,_0x53f907){DrawPieceXY(_0x5b87f0['x'],_0x5b87f0['y'],_0x53f907);}function DrawMotiN(_0x1ffef5,_0x332c8d,_0x6d626,_0x86c1b){let _0x5ca10d=_0x332c8d&0x80;if(_0x6d626==0x2)_0x86c1b--;if(_0x86c1b<=0x0)return;let _0x3aabfc=GetMotiXy(_0x1ffef5,_0x5ca10d,_0x332c8d),_0x51a90c=_0x3aabfc['x'],_0xa54850;if(_0x86c1b<=0x1)_0xa54850=0x0;else{if((_0x332c8d&0xf)==FU){if(_0x86c1b<=0x3)_0xa54850=FU_PITCH;else _0xa54850=(MOTI_SQ_SIZE_X*0x2-KOMA_SIZE_X-0x4+MOTI_OVERLAP)/(_0x86c1b-0x1);}else _0xa54850=(MOTI_SQ_SIZE_X-KOMA_SIZE_X-0x4+MOTI_OVERLAP)/(_0x86c1b-0x1);}for(var _0x450862=_0x86c1b-0x1;_0x450862>=0x0;_0x450862--){if(_0x6d626==0x1){if(_0x450862<0x1)continue;if((_0x332c8d&0xf)!=FU){if(_0x86c1b==0x4){if(_0x450862>0x2)continue;}else{if(_0x450862!=0x1)continue;}}else{if(_0x86c1b>=0xe){if(_0x450862>0x4)continue;}else{if(_0x450862>0x2)continue;}}}_0x3aabfc['x']=_0x51a90c+_0x450862*_0xa54850,DrawMotigomaPiece(_0x3aabfc,_0x332c8d);}}function DrawKomadaiTeban(_0x27d62a,_0x90fe68,_0x57118d){const _0x2c45b4=_0x28161d;let _0x12f350;if(_0x90fe68==_0x27d62a['teban'])_0x12f350=0x1;else _0x12f350=0x0;let _0x5b6ed0,_0x153eec,_0x3020ee;if(bdinv_flg!=0x0)_0x3020ee=GOTE;else _0x3020ee=SENTE;_0x90fe68!=_0x3020ee?(_0x5b6ed0=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X,_0x153eec=BD_ORG_Y-EDGE_Y-0x5):(_0x5b6ed0=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP,_0x153eec=BD_ORG_Y+0x5*SQ_SIZE_Y);let _0x487f8d,_0x340f08;_0x487f8d=_0x5b6ed0+0x1;if(_0x90fe68!=_0x3020ee)_0x340f08=_0x153eec+MOTI_SIZE_Y-0xd+0x2;else _0x340f08=_0x153eec+0x1-0x2;let _0x25b78e=0x1,_0x5a9be9;if(_0x90fe68!=0x0){if(_0x25b78e){if(_0x57118d[_0x2c45b4(0x2a9)])_0x5a9be9=_0x2c45b4(0x160);else _0x5a9be9='☗'+_0x57118d['sente_name'];}else{if(_0x57118d[_0x2c45b4(0x2a9)])_0x5a9be9=_0x2c45b4(0x179);else _0x5a9be9='▲'+_0x57118d['sente_name'];}}else{if(_0x25b78e){if(_0x57118d[_0x2c45b4(0x2a9)])_0x5a9be9=_0x2c45b4(0x15c);else _0x5a9be9='☖'+_0x57118d[_0x2c45b4(0x233)];}else{if(_0x57118d[_0x2c45b4(0x2a9)])_0x5a9be9=_0x2c45b4(0x1e9);else _0x5a9be9='▽'+_0x57118d[_0x2c45b4(0x233)];}}let _0x17010d=getScaleContext(canvas);_0x12f350!=0x0?_0x17010d['fillStyle']=_0x2c45b4(0x2cd):_0x17010d[_0x2c45b4(0xef)]=_0x2c45b4(0x110),_0x17010d['fillRect'](_0x487f8d,_0x340f08+0x2,MOTI_SIZE_X-0x2,0xd),_0x17010d['fillStyle']=_0x2c45b4(0x220),_0x17010d['font']='13px\x20\x27メイリオ\x27',_0x17010d['fillText'](_0x5a9be9,_0x487f8d,_0x340f08+0xd,MOTI_SIZE_X-0x2);}function DrawKomadai(_0x97c717){const _0x1a5940=_0x28161d;let _0x360e58;if(bdinv_flg!=0x0)_0x360e58=GOTE;else _0x360e58=SENTE;let _0x269222,_0x2d0e8b;_0x97c717!=_0x360e58?(_0x269222=KOMADAI_LEFT_X,_0x2d0e8b=KOMADAI_LEFT_Y):(_0x269222=KOMADAI_RIGHT_X,_0x2d0e8b=KOMADAI_RIGHT_Y);var _0xecbf2b=new Image();_0xecbf2b[_0x1a5940(0x145)]=KJ_DIR+_0x1a5940(0x222)+new Date()[_0x1a5940(0x15f)](),_0xecbf2b[_0x1a5940(0x1d8)]=function(){const _0x1d53de=_0x1a5940;let _0x4e9284=getScaleContext(canvas);muji_flg?(_0x4e9284['fillStyle']=_0x1d53de(0x110),_0x4e9284['fillRect'](_0x269222,_0x2d0e8b,MOTI_SIZE_X,MOTI_SIZE_Y),_0x4e9284[_0x1d53de(0x280)]=_0x1d53de(0x2f3),_0x4e9284['lineWidth']=0x1,_0x4e9284[_0x1d53de(0x235)](),_0x4e9284[_0x1d53de(0x24b)](_0x269222+MOTI_SIZE_X+0x1,_0x2d0e8b),_0x4e9284[_0x1d53de(0x1d0)](_0x269222+MOTI_SIZE_X+0x1,_0x2d0e8b+MOTI_SIZE_Y+0x1),_0x4e9284[_0x1d53de(0x24b)](_0x269222,_0x2d0e8b+MOTI_SIZE_Y+0x1),_0x4e9284[_0x1d53de(0x1d0)](_0x269222+MOTI_SIZE_X+0x2,_0x2d0e8b+MOTI_SIZE_Y+0x1),_0x4e9284[_0x1d53de(0x21a)]()):_0x4e9284[_0x1d53de(0x2c9)](_0xecbf2b,_0x269222,_0x2d0e8b);DrawKomadaiTeban(cbd,_0x97c717,Kifu);let _0x4605a6=_0x97c717!=0x0?0x1:0x0;for(var _0x34efe7=HI;_0x34efe7>=FU;_0x34efe7--){let _0x1e9cdb=cbd[_0x1d53de(0x10a)][_0x4605a6][_0x34efe7];if(_0x1e9cdb==0x0)continue;DrawMotiN(cbd,_0x34efe7|_0x97c717,0x0,_0x1e9cdb);}};}function draw_coord(){const _0x4b1d1e=_0x28161d,_0x29d76d=['0','1','2','3','4','5','6','7','8','9'],_0x41c0ed=['零','一','二','三','四','五','六','七','八','九'],_0x57c989=['','a','b','c','d','e','f','g','h','i'];let _0x14eb81=getScaleContext(canvas);_0x14eb81['fillStyle']=_0x4b1d1e(0x220);var _0x23e3bc,_0x5a4b23,_0x25e59a;if(bdinv_flg==0x0){_0x14eb81['font']=_0x4b1d1e(0x2be),_0x25e59a=BD_ORG_Y-0x1;for(_0x23e3bc=0x1;_0x23e3bc<=0x9;_0x23e3bc++){_0x5a4b23=BD_ORG_X+(0x9-_0x23e3bc)*SQ_SIZE_X+SQ_SIZE_X/0x2-0x4,_0x14eb81['fillText'](_0x29d76d[_0x23e3bc],_0x5a4b23,_0x25e59a);}_0x14eb81['font']=_0x4b1d1e(0x1ac),_0x5a4b23=BD_ORG_X+0x9*SQ_SIZE_X;for(_0x23e3bc=0x1;_0x23e3bc<=0x9;_0x23e3bc++){_0x25e59a=BD_ORG_Y+(_0x23e3bc-0x1)*SQ_SIZE_Y+SQ_SIZE_Y/0x2+0x2,_0x14eb81[_0x4b1d1e(0x143)](_0x41c0ed[_0x23e3bc],_0x5a4b23,_0x25e59a);}}else{_0x14eb81[_0x4b1d1e(0x28b)]=_0x4b1d1e(0x27f),_0x25e59a=BD_ORG_Y+SQ_SIZE_Y*0x9+0xc;for(_0x23e3bc=0x1;_0x23e3bc<=0x9;_0x23e3bc++){_0x5a4b23=BD_ORG_X+(_0x23e3bc-0x1)*SQ_SIZE_X+SQ_SIZE_X/0x2,_0x14eb81[_0x4b1d1e(0x143)](_0x29d76d[_0x23e3bc],_0x5a4b23,_0x25e59a);}_0x14eb81[_0x4b1d1e(0x28b)]=_0x4b1d1e(0x1ac),_0x5a4b23=BD_ORG_X-EDGE_X;for(_0x23e3bc=0x1;_0x23e3bc<=0x9;_0x23e3bc++){_0x25e59a=BD_ORG_Y+(_0x23e3bc-0x1)*SQ_SIZE_Y+SQ_SIZE_Y/0x2-0x6,_0x14eb81[_0x4b1d1e(0x143)](_0x41c0ed[0xa-_0x23e3bc],_0x5a4b23,_0x25e59a);}}}function DrawAllPiece(_0x39dc2e){const _0x29a963=_0x28161d;for(var _0x587e2b=0xb;_0x587e2b<=0x63;_0x587e2b++){let _0x24c085=_0x39dc2e[_0x29a963(0x1c5)][_0x587e2b];if(_0x24c085==0x0||_0x24c085==0xff)continue;DrawPiece(_0x587e2b,_0x24c085);}}var ban_img;function draw_board_sub(){const _0x27ee1b=_0x28161d;console[_0x27ee1b(0x2f2)]('draw_board\x20onload');let _0x1cc0af=getScaleContext(canvas);muji_flg?(_0x1cc0af[_0x27ee1b(0xef)]='rgb(242,\x20192,\x20119)',_0x1cc0af[_0x27ee1b(0x2aa)](BD_ORG_X-EDGE_X,BD_ORG_Y-EDGE_Y,SQ_SIZE_X*0x9+EDGE_X*0x2,SQ_SIZE_Y*0x9+EDGE_Y*0x2),_0x1cc0af['strokeStyle']='rgb(30,\x2030,\x2030)',_0x1cc0af[_0x27ee1b(0x1e5)]=0x1,_0x1cc0af['beginPath'](),_0x1cc0af['moveTo'](BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X+0x1,BD_ORG_Y-EDGE_Y+0x0),_0x1cc0af[_0x27ee1b(0x1d0)](BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X+0x1,BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y+0x1),_0x1cc0af[_0x27ee1b(0x24b)](BD_ORG_X-EDGE_X,BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y+0x1),_0x1cc0af[_0x27ee1b(0x1d0)](BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X+0x2,BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y+0x1),_0x1cc0af[_0x27ee1b(0x21a)]()):_0x1cc0af[_0x27ee1b(0x2c9)](ban_img,BD_ORG_X-EDGE_X,BD_ORG_Y-EDGE_Y);if(Kifu[_0x27ee1b(0x242)]>0x0){var _0x206bb5=Kifu[_0x27ee1b(0x195)]();DrawLastPiece(cbd,_0x206bb5['t']&0x7f),DrawLastPieceFrom();}_0x1cc0af[_0x27ee1b(0x280)]=_0x27ee1b(0x220),_0x1cc0af[_0x27ee1b(0x1e5)]=0x1;for(let _0x49925a=0x0;_0x49925a<0xa;_0x49925a++){let _0x3e3de7=_0x49925a*SQ_SIZE_Y;_0x1cc0af['beginPath'](),_0x1cc0af[_0x27ee1b(0x24b)](BD_ORG_X,BD_ORG_Y+_0x3e3de7),_0x1cc0af['lineTo'](BD_ORG_X+SQ_SIZE_X*0x9,BD_ORG_Y+_0x3e3de7),_0x1cc0af['stroke']();let _0x2f700d=_0x49925a*SQ_SIZE_X;_0x1cc0af[_0x27ee1b(0x235)](),_0x1cc0af['moveTo'](BD_ORG_X+_0x2f700d,BD_ORG_Y),_0x1cc0af['lineTo'](BD_ORG_X+_0x2f700d,BD_ORG_Y+SQ_SIZE_Y*0x9),_0x1cc0af[_0x27ee1b(0x21a)]();}draw_coord(),piece_img==null?(piece_img=new Image(),piece_img[_0x27ee1b(0x145)]=KJ_DIR+_0x27ee1b(0x30c)+new Date()['getTime'](),piece_img['onload']=function(){const _0x140f6d=_0x27ee1b;console[_0x140f6d(0x2f2)]('#\x20piece_img.onload'),DrawAllPiece(cbd),stars(),DrawKomadai(0x80),DrawKomadai(0x0);}):(DrawAllPiece(cbd),stars(),DrawKomadai(0x80),DrawKomadai(0x0));}function draw_board(){const _0x54ca5e=_0x28161d;ban_img==null?(ban_img=new Image(),ban_img['src']=KJ_DIR+_0x54ca5e(0x263)+new Date()[_0x54ca5e(0x15f)](),ban_img[_0x54ca5e(0x1d8)]=function(){const _0x24a7a4=_0x54ca5e;console[_0x24a7a4(0x2f2)]('draw_board\x20onload'),draw_board_sub();}):draw_board_sub(),ban_img[_0x54ca5e(0x154)]=function(){const _0x37c2fd=_0x54ca5e;console[_0x37c2fd(0x30f)](_0x37c2fd(0x2d7));};}function time_to_str(_0x448a6e){const _0x4e15ff=_0x28161d;let _0x4e0b37='',_0xca6909=parseInt(_0x448a6e/0x3c);if(_0x448a6e<0x258)_0x4e0b37+=zen[_0xca6909];else _0x4e0b37+=_0xca6909;if(english_flg)_0x4e0b37+='hour\x20';else _0x4e0b37+='時間';if(_0x448a6e%0x3c<0xa)_0x4e0b37+='0';_0x4e0b37+=_0x448a6e%0x3c;if(english_flg)_0x4e0b37+=_0x4e15ff(0x12b);else _0x4e0b37+='分';return _0x4e0b37;}function time_to_str2(_0x581e79){const _0x319e35=_0x28161d;let _0x3b7164='各',_0x3c4b56=parseInt(_0x581e79/0x3c);if(_0x581e79<0x258)_0x3b7164+=zen[_0x3c4b56];else _0x3b7164+=_0x3c4b56;if(english_flg)_0x3b7164+='hour\x20';else _0x3b7164+='時間';if(_0x581e79%0x3c>0x0){if(_0x581e79%0x3c<0xa)_0x3b7164+='0';_0x3b7164+=_0x581e79%0x3c;if(english_flg)_0x3b7164+=_0x319e35(0x12b);else _0x3b7164+='分';}return _0x3b7164;}function ShohiGraph(_0x344f1f,_0x455d1b){const _0x1c1be3=_0x28161d;if(FREE)return;console[_0x1c1be3(0x2f2)](_0x1c1be3(0x2a0),COMM_LEFT+_0x1c1be3(0x169)+COM_WIDTH);let _0x25b23e=getScaleContext(canvas);const _0x258538=BD_ORG_X+0x16,_0x10dd74=_0x258538+COM_WIDTH;let _0x464884=COMMENT_TOP+comment_hight+0x5;const _0x455c2c=0x14;let _0xd61257=_0x464884+_0x455c2c*0x3;_0x25b23e[_0x1c1be3(0xef)]='rgb(255,\x20255,\x20255)',_0x25b23e[_0x1c1be3(0x2aa)](_0x258538,_0x464884,_0x10dd74-_0x258538,_0xd61257-_0x464884),_0x25b23e[_0x1c1be3(0x280)]=_0x1c1be3(0x10c),_0x25b23e[_0x1c1be3(0x23a)](_0x258538,_0x464884,_0x10dd74-_0x258538,_0xd61257-_0x464884);const _0x1ea291=_0x10dd74-_0x258538;for(var _0x53f9fe=0x1;_0x53f9fe<0x3;_0x53f9fe++){let _0x50c9c2=_0x464884+_0x455c2c*_0x53f9fe;drawLine(_0x25b23e,_0x258538,_0x50c9c2,_0x258538+_0x1ea291,_0x50c9c2);}const _0x1d9955=0x8c,_0xf52ea6=_0x258538+_0x1d9955;drawLine(_0x25b23e,_0xf52ea6,_0x464884,_0xf52ea6,_0x464884+_0x455c2c*0x3),_0x25b23e[_0x1c1be3(0xef)]=_0x1c1be3(0x10c),_0x25b23e['fillRect'](_0xf52ea6,_0x464884,_0x10dd74-_0x258538-_0x1d9955,_0x455c2c);let _0x5056f5=0x4;var _0x36fae1=_0x464884+_0x455c2c*0x2-_0x5056f5;_0x25b23e[_0x1c1be3(0x28b)]=_0x1c1be3(0x2ee),_0x25b23e[_0x1c1be3(0xef)]=_0x1c1be3(0x220);let _0x285e13;_0x344f1f['sengo_mitei_flg']?_0x285e13='☗\u3000':_0x285e13='☗'+_0x344f1f[_0x1c1be3(0x1a1)];_0x25b23e[_0x1c1be3(0x143)](_0x285e13,_0x258538+0x5,_0x36fae1,_0x1d9955-0x5);let _0xb5e0b5;_0x344f1f[_0x1c1be3(0x2a9)]?_0xb5e0b5='☖\u3000':_0xb5e0b5='☖'+_0x344f1f[_0x1c1be3(0x233)];let _0x565d04=_0x464884+_0x455c2c*0x3-_0x5056f5;_0x25b23e[_0x1c1be3(0x143)](_0xb5e0b5,_0x258538+0x5,_0x565d04,_0x1d9955-0x5),_0x25b23e[_0x1c1be3(0xef)]=_0x1c1be3(0xfc);let _0x5b9ff4;if(english_flg)_0x5b9ff4=_0x1c1be3(0x1dc);else _0x5b9ff4=_0x1c1be3(0x20e);let _0xf31036=_0x464884+_0x455c2c-_0x5056f5;_0x25b23e[_0x1c1be3(0x143)](_0x5b9ff4,_0x258538+_0x1d9955+0xa,_0xf31036);let _0x3cf700;if(english_flg)_0x3cf700=_0x1c1be3(0x245);else _0x3cf700='残り時間';_0x25b23e[_0x1c1be3(0x143)](_0x3cf700,_0x10dd74-0x64+0x24,_0xf31036);let _0x3cccba=Kifu[_0x1c1be3(0x2ec)]();if(_0x3cccba<=0x0)return;let _0xd0eb2f=time_to_str2(_0x3cccba);_0x25b23e[_0x1c1be3(0x143)](_0xd0eb2f,_0x258538+_0x1d9955+0x78,_0xf31036);let _0x29601d,_0x4857f7,_0x283fda,_0xca4b5e=_0x344f1f[_0x1c1be3(0x16e)]();if(_0xca4b5e>0x0){let _0x1c5318=_0x344f1f[_0x1c1be3(0x262)](_0x344f1f[_0x1c1be3(0x242)]);if(_0x1c5318==null)return;let _0x2beab2=_0x344f1f[_0x1c1be3(0x14c)](_0x1c5318),_0x3037e8;if(_0x344f1f[_0x1c1be3(0x242)]<=0x0)_0x3037e8=0x0;else{let _0x1e268e=_0x344f1f[_0x1c1be3(0x262)](_0x344f1f[_0x1c1be3(0x242)]-0x1);if(_0x1e268e==null)return;_0x3037e8=_0x344f1f['get_total_time_kp'](_0x1e268e);}_0x2beab2=parseInt(_0x2beab2/0x3c),_0x3037e8=parseInt(_0x3037e8/0x3c);(Kifu[_0x1c1be3(0x242)]&0x1)==0x0?(_0x283fda=_0x2beab2,_0x4857f7=_0x3037e8):(_0x4857f7=_0x2beab2,_0x283fda=_0x3037e8);_0x29601d=_0x344f1f['move_no'];if(_0x344f1f[_0x1c1be3(0x242)]>0x0&&_0x1c5318['t']<0xb)_0x29601d=-0x1;}else{if(_0x344f1f[_0x1c1be3(0x190)]==null)return;let _0x433587=_0x344f1f[_0x1c1be3(0x190)][_0x1c1be3(0x2d8)]('▲');if(_0x433587<0x0)return;let _0x46c453=_0x344f1f[_0x1c1be3(0x190)]['substring'](0x0,_0x433587);_0x29601d=parseInt(_0x46c453);if(isNaN(_0x29601d)){console['error'](_0x1c1be3(0x2da)+_0x46c453);return;}if(_0x344f1f[_0x1c1be3(0x130)]()!=0x0&&_0x29601d>=_0x344f1f[_0x1c1be3(0x21b)]()-0x1)_0x29601d=-0x1;let _0x1efc74=_0x344f1f['shohi_jikan'][_0x1c1be3(0x14b)](_0x433587),_0x29966a=_0x1efc74[_0x1c1be3(0x2d8)]('△');if(_0x29966a<0x0)return;let _0x51f130=_0x1efc74[_0x1c1be3(0x14b)](0x1,_0x29966a),_0x25a549=_0x1efc74[_0x1c1be3(0x14b)](_0x29966a+0x1);_0x4857f7=parseInt(_0x51f130),_0x283fda=parseInt(_0x25a549);if(isNaN(_0x4857f7)||isNaN(_0x283fda)){console[_0x1c1be3(0x30f)](_0x1c1be3(0x19e)+_0x344f1f[_0x1c1be3(0x190)]);return;}}let _0x593405;if(english_flg){if(_0x29601d==-0x1)_0x593405=_0x1c1be3(0x113);else _0x593405=_0x1c1be3(0x226)+_0x29601d;}else{if(_0x29601d==-0x1)_0x593405='終局';else{if(_0x29601d<=0x0)_0x593405=_0x29601d+'手まで';else{let _0x363450=_0x344f1f[_0x1c1be3(0x262)](_0x29601d);if(_0x363450==null)_0x593405=_0x29601d+_0x1c1be3(0x266);else{let _0xde8a12=0x3;_0x593405=_0x29601d+'手'+_0x344f1f[_0x1c1be3(0x295)](0x0,_0xde8a12,_0x363450,0x0)+'まで';}}}}_0x25b23e[_0x1c1be3(0xef)]='rgb(0,\x200,\x200)',_0x25b23e[_0x1c1be3(0x143)](_0x593405,_0x258538+0x4,_0xf31036,_0x1d9955);if(_0x4857f7>_0x3cccba)_0x4857f7=_0x3cccba;if(_0x283fda>_0x3cccba)_0x283fda=_0x3cccba;let _0x1f48c9=time_to_str(_0x4857f7);_0x25b23e['fillText'](_0x1f48c9,_0x258538+_0x1d9955+0x6,_0x36fae1);let _0x551dc5=_0x3cccba-_0x4857f7;if(_0x551dc5<0x0)_0x551dc5=0x0;if(_0x551dc5<=0x1)_0x25b23e[_0x1c1be3(0xef)]='rgb(255,\x200,\x200)';else{if(_0x551dc5<=0xa)_0x25b23e[_0x1c1be3(0xef)]=_0x1c1be3(0x1f7);else _0x25b23e[_0x1c1be3(0xef)]=_0x1c1be3(0x220);}let _0x159307=time_to_str(_0x551dc5),_0x1453b0=0x17;_0x25b23e[_0x1c1be3(0x143)](_0x159307,_0x10dd74-0x64+_0x1453b0,_0x36fae1);let _0x4a56f8=_0x258538+_0x1d9955+0x52,_0x55ebb8=_0x10dd74-0x50,_0x84a1cb=_0x464884+_0x455c2c+0x5,_0x45fcf7=_0x464884+_0x455c2c*0x2-0x5,_0x4d4dab=(_0x55ebb8-_0x4a56f8)*_0x4857f7/_0x3cccba,_0x296994=_0x45fcf7-_0x84a1cb,_0x2867c3=0x7;var _0xefba2d=0xc2,_0x1a1d98=0xa1,_0x438c0c=0x76;const _0x2f6122=_0x1c1be3(0x183),_0x24ddcf=_0x1c1be3(0x171);for(let _0x7e505c=_0x84a1cb;_0x7e505c<=_0x45fcf7;_0x7e505c++){_0x7e505c<_0x84a1cb+0x1?_0x25b23e['strokeStyle']=_0x24ddcf:_0x25b23e[_0x1c1be3(0x280)]=_0x2f6122,drawLine(_0x25b23e,_0x4a56f8,_0x7e505c,_0x4a56f8+_0x4d4dab,_0x7e505c),_0x4d4dab>0x1&&_0x7e505c>_0x84a1cb&&(_0x25b23e[_0x1c1be3(0x280)]=_0x24ddcf,drawLine(_0x25b23e,_0x4a56f8,_0x7e505c,_0x4a56f8+0x1,_0x7e505c));}const _0x3c01d8='rgb(50,\x20140,\x20245)';if(_0x551dc5>0x0){_0x4d4dab=_0x55ebb8-_0x4a56f8-_0x4d4dab,_0xefba2d=0x45,_0x1a1d98=0x96,_0x438c0c=0xf4;for(let _0x2c4921=_0x84a1cb;_0x2c4921<=_0x45fcf7;_0x2c4921++){_0x2c4921>_0x84a1cb+_0x296994/0x2?(_0xefba2d-=_0x2867c3,_0x1a1d98-=_0x2867c3,_0x438c0c-=_0x2867c3,_0x25b23e[_0x1c1be3(0x280)]=_0x1c1be3(0x311)+_0xefba2d+',\x20'+_0x1a1d98+',\x20'+_0x438c0c+')'):_0x25b23e[_0x1c1be3(0x280)]=_0x3c01d8,drawLine(_0x25b23e,_0x55ebb8-_0x4d4dab,_0x2c4921,_0x55ebb8,_0x2c4921);}}let _0x12e69c=time_to_str(_0x283fda);_0x25b23e[_0x1c1be3(0xef)]=_0x1c1be3(0x220),_0x25b23e['fillText'](_0x12e69c,_0x258538+_0x1d9955+0x6,_0x565d04);let _0x324617=_0x3cccba-_0x283fda;if(_0x324617<0x0)_0x324617=0x0;if(_0x324617<=0x1)_0x25b23e[_0x1c1be3(0xef)]=_0x1c1be3(0x1b2);else{if(_0x324617<=0xa)_0x25b23e[_0x1c1be3(0xef)]=_0x1c1be3(0x1f7);else _0x25b23e[_0x1c1be3(0xef)]='rgb(0,\x200,\x200)';}let _0x2b9601=time_to_str(_0x324617);_0x25b23e[_0x1c1be3(0x143)](_0x2b9601,_0x10dd74-0x64+_0x1453b0,_0x565d04),_0x84a1cb=_0x464884+_0x455c2c*0x2+0x5,_0x45fcf7=_0x464884+_0x455c2c*0x3-0x5,_0x4d4dab=(_0x55ebb8-_0x4a56f8)*_0x283fda/_0x3cccba,_0xefba2d=0xc2,_0x1a1d98=0xa1,_0x438c0c=0x76;for(let _0x515e6a=_0x84a1cb;_0x515e6a<=_0x45fcf7;_0x515e6a++){_0x515e6a<=_0x84a1cb+_0x296994/0x2?(_0xefba2d+=_0x2867c3,_0x1a1d98+=_0x2867c3,_0x438c0c+=_0x2867c3):(_0xefba2d-=_0x2867c3,_0x1a1d98-=_0x2867c3,_0x438c0c-=_0x2867c3),_0x515e6a<_0x84a1cb+0x1?_0x25b23e[_0x1c1be3(0x280)]=_0x24ddcf:_0x25b23e['strokeStyle']=_0x2f6122,drawLine(_0x25b23e,_0x4a56f8,_0x515e6a,_0x4a56f8+_0x4d4dab,_0x515e6a),_0x4d4dab>0x1&&_0x515e6a>_0x84a1cb&&(_0x25b23e[_0x1c1be3(0x280)]=_0x24ddcf,drawLine(_0x25b23e,_0x4a56f8,_0x515e6a,_0x4a56f8+0x1,_0x515e6a));}if(_0x324617>0x0){_0x4d4dab=_0x55ebb8-_0x4a56f8-_0x4d4dab,_0xefba2d=0x45,_0x1a1d98=0x96,_0x438c0c=0xf4;for(let _0x2f2d56=_0x84a1cb;_0x2f2d56<=_0x45fcf7;_0x2f2d56++){_0x2f2d56>_0x84a1cb+_0x296994/0x2?(_0xefba2d-=_0x2867c3,_0x1a1d98-=_0x2867c3,_0x438c0c-=_0x2867c3,_0x25b23e[_0x1c1be3(0x280)]=_0x1c1be3(0x311)+_0xefba2d+',\x20'+_0x1a1d98+',\x20'+_0x438c0c+')'):_0x25b23e[_0x1c1be3(0x280)]=_0x3c01d8,drawLine(_0x25b23e,_0x55ebb8-_0x4d4dab,_0x2f2d56,_0x55ebb8,_0x2f2d56);}}}function LoadImages(_0x26c8aa){const _0xface23=_0x28161d;let _0x341f16=getScaleContext(canvas);if(typeof LEFT_IMAGE!==_0xface23(0x241)){if(LEFT_IMAGE!=null){LeftImageName(_0x26c8aa);let _0x211222=new Image();_0x211222[_0xface23(0x145)]=LEFT_IMAGE+'?'+new Date()[_0xface23(0x15f)](),_0x211222[_0xface23(0x1d8)]=function(){const _0x4ecd73=_0xface23;console[_0x4ecd73(0x2f2)]('left_img\x20onload');let _0x3e6c52=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;_0x341f16[_0x4ecd73(0x2c9)](_0x211222,_0x3e6c52,BD_ORG_Y-EDGE_Y+MOTI_SIZE_Y+0x5);};}}if(typeof RIGHT_IMAGE!==_0xface23(0x241)){if(RIGHT_IMAGE!=null){RightImageName(_0x26c8aa);let _0x58ae9b=new Image();_0x58ae9b[_0xface23(0x145)]=RIGHT_IMAGE+'?'+new Date()[_0xface23(0x15f)](),_0x58ae9b[_0xface23(0x1d8)]=function(){const _0x25420c=_0xface23;console['log']('right_img\x20onload'),_0x341f16[_0x25420c(0x2c9)](_0x58ae9b,BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP,BD_ORG_Y-EDGE_Y+0x12);};}}}function RightImageName(_0x256201){const _0x3a9cee=_0x28161d;if(typeof RIGHT_IMAGE==='undefined')return;if(RIGHT_IMAGE==null)return;let _0x3cfe25;if(cbd['teban']==0x80)_0x3cfe25=0x1;else _0x3cfe25=0x0;if(left_is_sente_flg)_0x3cfe25=0x1-_0x3cfe25;let _0x21884d,_0x28d33c=0x1;if(_0x28d33c){if(left_is_sente_flg){if(_0x256201[_0x3a9cee(0x2a9)])_0x21884d='☖\u3000';else _0x21884d='☖'+_0x256201[_0x3a9cee(0x233)];}else{if(_0x256201[_0x3a9cee(0x2a9)])_0x21884d='☗\u3000';else _0x21884d='☗'+_0x256201[_0x3a9cee(0x1a1)];}}else{if(left_is_sente_flg){if(_0x256201[_0x3a9cee(0x2a9)])_0x21884d='▽';else _0x21884d='▽'+_0x256201['gote_name'];}else{if(_0x256201[_0x3a9cee(0x2a9)])_0x21884d='▲';else _0x21884d='▲'+_0x256201[_0x3a9cee(0x1a1)];}}let _0x5cdcff=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP,_0x455f35=BD_ORG_Y-EDGE_Y-0x1,_0x59deda=getScaleContext(canvas);_0x3cfe25!=0x0?_0x59deda[_0x3a9cee(0xef)]=_0x3a9cee(0x2cd):_0x59deda[_0x3a9cee(0xef)]=_0x3a9cee(0x110),_0x59deda[_0x3a9cee(0x2aa)](_0x5cdcff,_0x455f35+0x2,MOTI_SIZE_X-0x2,0xd),_0x59deda[_0x3a9cee(0xef)]='rgb(0,\x200,\x200)',_0x59deda[_0x3a9cee(0x28b)]=_0x3a9cee(0x2be),_0x59deda[_0x3a9cee(0x143)](_0x21884d,_0x5cdcff,_0x455f35+0xd,MOTI_SIZE_X-0x2);}function LeftImageName(_0x447f9a){const _0x216fb5=_0x28161d;if(typeof LEFT_IMAGE===_0x216fb5(0x241))return;if(LEFT_IMAGE==null)return;let _0x225ef4;if(cbd[_0x216fb5(0x1fa)]==0x0)_0x225ef4=0x1;else _0x225ef4=0x0;if(left_is_sente_flg)_0x225ef4=0x1-_0x225ef4;let _0x1a3f56,_0x562bd7=0x1;if(_0x562bd7){if(left_is_sente_flg){if(_0x447f9a['sengo_mitei_flg'])_0x1a3f56='☗\u3000';else _0x1a3f56='☗'+_0x447f9a[_0x216fb5(0x1a1)];}else{if(_0x447f9a[_0x216fb5(0x2a9)])_0x1a3f56='☖\u3000';else _0x1a3f56='☖'+_0x447f9a['gote_name'];}}else{if(left_is_sente_flg){if(_0x447f9a['sengo_mitei_flg'])_0x1a3f56='▲';else _0x1a3f56='▲'+_0x447f9a['sente_name'];}else{if(_0x447f9a[_0x216fb5(0x2a9)])_0x1a3f56='▽';else _0x1a3f56='▽'+_0x447f9a['gote_name'];}}let _0x26ec96=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X,_0x5ebf27=BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y-0xf,_0x5e853d=getScaleContext(canvas);_0x225ef4!=0x0?_0x5e853d['fillStyle']=_0x216fb5(0x2cd):_0x5e853d['fillStyle']=_0x216fb5(0x110),_0x5e853d[_0x216fb5(0x2aa)](_0x26ec96,_0x5ebf27+0x2,MOTI_SIZE_X-0x2,0xd),_0x5e853d[_0x216fb5(0xef)]=_0x216fb5(0x220),_0x5e853d[_0x216fb5(0x28b)]=_0x216fb5(0x2be),_0x5e853d[_0x216fb5(0x143)](_0x1a3f56,_0x26ec96,_0x5ebf27+0xd,MOTI_SIZE_X-0x2);}function get_csa_koma(_0x17e64c){const _0x11d9a3=_0x28161d,_0x389906=['\x200','FU','KY','KE','GI','KI','KA','HI','OU','TO','NY','NK','NG','13','UM','RY'];let _0x4ffb27;for(_0x4ffb27=0x0;_0x4ffb27<=0xf;_0x4ffb27++){if(_0x17e64c[_0x11d9a3(0x2d8)](_0x389906[_0x4ffb27])==0x0)break;}if(_0x4ffb27>0xf)return console['error'](_0x11d9a3(0x131)+_0x17e64c),-0x1;return _0x4ffb27;}function to_kanji_move(_0x115cc7,_0x2389de,_0xe4783b){const _0xc921d6=_0x28161d,_0x2c7cad=['\u3000','歩','香','桂','銀','金','角','飛','玉','と','成香','成桂','成銀','金','馬','龍'];let _0x549814='';if(_0x115cc7[_0xc921d6(0x2d8)]('+')==0x0)_0x549814+='▲';else _0x115cc7[_0xc921d6(0x2d8)]('-')==0x0&&(_0x549814+='△');let _0x36d27f=_0x115cc7['substring'](0x1,0x3),_0x3f5002=_0x115cc7[_0xc921d6(0x14b)](0x3,0x5),_0x56c5b5=_0x115cc7[_0xc921d6(0x14b)](0x5),_0x2707a8=get_csa_koma(_0x56c5b5);if(_0x3f5002==_0x2389de)_0x549814+='同';else _0x549814+=_0x3f5002;let _0x446de5=parseInt(_0x115cc7[_0xc921d6(0x14b)](0x2,0x3)),_0x56910c=parseInt(_0x115cc7[_0xc921d6(0x14b)](0x4,0x5));if(_0x2707a8==0xb){if(_0x446de5==_0x56910c+0x2||_0x446de5==_0x56910c-0x2)_0x549814+='桂成';else _0x549814+=_0x2c7cad[_0x2707a8];}else{if(_0x2707a8==0xa){if(_0x446de5>=_0x56910c+0x2||_0x446de5<=_0x56910c-0x2)_0x549814+='香成';else _0x549814+=_0x2c7cad[_0x2707a8];}else{let _0x38c2a7=parseInt(_0x36d27f);if(_0x2707a8>0x8&&(_0xe4783b['board'][_0x38c2a7]&0xf)==(_0x2707a8&0x7))_0x549814+=_0x2c7cad[_0x2707a8&0x7]+'成';else _0x549814+=_0x2c7cad[_0x2707a8];}}if(_0x36d27f=='00'){if(_0x2707a8!=0x1)_0x549814+='打';}else _0x2707a8!=0x1&&_0x2707a8!=0x2&&_0x2707a8!=0x8&&(_0x549814+='(',_0x549814+=_0x36d27f,_0x549814+=')');return _0x549814;}function csa_load_comment(_0x555b66,_0xdae094,_0x4e3779){const _0x2d75ac=_0x28161d;var _0x42678f=_0xdae094[_0x2d75ac(0x14b)](0x4);let _0x196769='',_0x1aed77=_0x42678f[_0x2d75ac(0x172)](/ /),_0x4a729a='';for(var _0x26618b=0x0;_0x26618b<_0x1aed77[_0x2d75ac(0x2a7)];_0x26618b++){let _0x3e551e=_0x1aed77[_0x26618b];if(_0x26618b==0x0)_0x196769+=_0x3e551e,_0x196769+='\x20';else(_0x3e551e[_0x2d75ac(0x2d8)]('+')==0x0||_0x3e551e['indexOf']('-')==0x0)&&(_0x4a729a=_0x3e551e[_0x2d75ac(0x14b)](0x3,0x5));}let _0x24dd0d=_0x555b66[_0x2d75ac(0x305)](_0x555b66[_0x2d75ac(0x242)],_0x196769);return _0x24dd0d;}function store_move_set(_0x40901b,_0x4f0a8d,_0x29ecac,_0x2fc6cc,_0x3be452,_0x3ab1a4,_0x276785,_0x529420){const _0xe330f7=_0x28161d;(_0x3be452!=0x0&&_0x276785<0x1||(_0x276785&0xf)>RY)&&console[_0xe330f7(0x30f)](_0xe330f7(0x1e2)+_0x3be452+_0xe330f7(0x2e2)+_0x276785);let _0x56147f=new Kifup();_0x56147f['t']=_0x3ab1a4,_0x56147f['f']=_0x3be452,_0x56147f['k']=_0x276785;let _0x3becc7=_0x40901b[_0xe330f7(0x313)](_0x4f0a8d,_0x29ecac,_0x56147f,_0x529420);if(_0x3becc7==-0x2)return-0x2;if(_0x3becc7==-0x1)return-0x1;else _0x3becc7>0x0&&console['error'](_0xe330f7(0x251)+_0x3becc7);if(_0x3ab1a4<0xb)return 0x2;return _0x3ab1a4;}var bd_set;function csa_load_line(_0x2916c4,_0x2d715e,_0x24b390,_0x1bd20c){const _0x8129eb=_0x28161d;if(_0x1bd20c[_0x8129eb(0x2a7)]<=0x0)return 0x0;if(_0x1bd20c['indexOf'](_0x8129eb(0x141))==0x0)return csa_load_comment(_0x2916c4,_0x1bd20c,_0x2d715e),0x0;if(_0x1bd20c[_0x8129eb(0x2d8)]('\x27')==0x0)return 0x0;if(_0x1bd20c['indexOf']('V')==0x0)return 0x0;if(_0x1bd20c[_0x8129eb(0x2d8)]('$')==0x0){if(_0x1bd20c[_0x8129eb(0x2d8)](_0x8129eb(0x189))==0x0)_0x2916c4[_0x8129eb(0x2c3)]=_0x1bd20c[_0x8129eb(0x14b)](0xc);return 0x0;}if(_0x1bd20c['indexOf']('N+')==0x0)return _0x2916c4[_0x8129eb(0x1a1)]=_0x1bd20c['substring'](0x2),0x0;if(_0x1bd20c[_0x8129eb(0x2d8)]('N-')==0x0)return _0x2916c4[_0x8129eb(0x233)]=_0x1bd20c[_0x8129eb(0x14b)](0x2),0x0;if(_0x1bd20c[_0x8129eb(0x2d8)]('P')==0x0)return 0x0;if(_0x1bd20c['length']==0x1){if(_0x1bd20c[_0x8129eb(0x2d8)]('+')==0x0)return _0x24b390['teban']=_0x2d715e[_0x8129eb(0x1fa)]=SENTE,0x0;if(_0x1bd20c[_0x8129eb(0x2d8)]('-')==0x0)return _0x24b390['teban']=_0x2d715e[_0x8129eb(0x1fa)]=GOTE,0x0;}if(bd_set==0x0&&(_0x1bd20c['indexOf']('+')==0x0||_0x1bd20c[_0x8129eb(0x2d8)]('-')==0x0||_0x1bd20c['indexOf']('%')==0x0)){if(_0x2916c4['abnormal_flg']==0x0){}else{}bd_set=0x1;}let _0x3e0607=0x0,_0x2db546=0x0;if(_0x1bd20c[_0x8129eb(0x2d8)]('%')==0x0){if(_0x1bd20c[_0x8129eb(0x2d8)](_0x8129eb(0xf9))==0x0)_0x2db546=TORYO;else{if(_0x1bd20c[_0x8129eb(0x2d8)]('%CHUDAN')==0x0)_0x2db546=CHUDAN;else{if(_0x1bd20c[_0x8129eb(0x2d8)]('%SENNICHITE')==0x0)_0x2db546=SENNITITE;else{if(_0x1bd20c[_0x8129eb(0x2d8)](_0x8129eb(0x30b))==0x0)_0x2db546=JISHOGI;else{if(_0x1bd20c[_0x8129eb(0x2d8)](_0x8129eb(0x294))==0x0)_0x2db546=JISHOGI;else{if(_0x1bd20c[_0x8129eb(0x2d8)](_0x8129eb(0x1aa))==0x0)_0x2db546=KACHI;else{if(_0x1bd20c[_0x8129eb(0x2d8)](_0x8129eb(0x2af))==0x0)_0x2db546=KIREMAKE;else{if(_0x1bd20c[_0x8129eb(0x2d8)](_0x8129eb(0x14f))==0x0)_0x2db546=HANSOKU_MAKE;else{if(_0x1bd20c[_0x8129eb(0x2d8)]('%+ILLEGAL_ACTION')==0x0)_0x2db546=SENTE_HANSOKU;else{if(_0x1bd20c['indexOf'](_0x8129eb(0x265))==0x0)_0x2db546=GOTE_HANSOKU;}}}}}}}}}let _0x419b83=store_move_set(_0x2916c4,_0x2d715e,_0x24b390,_0x2916c4[_0x8129eb(0x242)]+0x1,_0x3e0607,_0x2db546,0x0,0x0);return 0x0;}if(_0x1bd20c[_0x8129eb(0x2d8)]('T')==0x0){let _0xd94ed7=_0x1bd20c[_0x8129eb(0x14b)](0x1),_0x99e533=parseInt(_0xd94ed7),_0x1913d8=_0x2916c4['get_kifup'](_0x2916c4[_0x8129eb(0x242)]);return _0x1913d8[_0x8129eb(0x291)]=_0x99e533,0x0;}if(_0x1bd20c['indexOf']('+')==0x0||_0x1bd20c[_0x8129eb(0x2d8)]('-')==0x0){let _0x274ca2=_0x1bd20c[_0x8129eb(0x14b)](0x1,0x3),_0x1f9bf5=_0x1bd20c[_0x8129eb(0x14b)](0x3,0x5),_0x3f8156=_0x1bd20c[_0x8129eb(0x14b)](0x5),_0x976886=get_csa_koma(_0x3f8156);if(_0x976886<0x1||_0x976886>0xf)return console[_0x8129eb(0x30f)]('駒の名前が違います。'),-0x1;if(_0x1bd20c[_0x8129eb(0x2d8)]('+')==0x0)_0x976886|=SENTE;_0x3e0607=parseInt(_0x274ca2),_0x2db546=parseInt(_0x1f9bf5);if(_0x3e0607==0x0){if(_0x976886&0x80)_0x3e0607=0x90|_0x976886;else _0x3e0607=0x80|_0x976886;}else{let _0x3ba027=_0x2d715e[_0x8129eb(0x1c5)][_0x3e0607];if(_0x3ba027==0x0)return-0x1;else{if(_0x3ba027!=_0x976886){if(_0x976886==(_0x3ba027|0x8))_0x976886=_0x3ba027,_0x2db546|=0x80;else return console[_0x8129eb(0x30f)](_0x8129eb(0x16d)),console[_0x8129eb(0x30f)]('f='+_0x3e0607+_0x8129eb(0x13f)+_0x3ba027),-0x1;}}}let _0x2d19bd=store_move_set(_0x2916c4,_0x2d715e,_0x24b390,_0x2916c4[_0x8129eb(0x242)]+0x1,_0x3e0607,_0x2db546,_0x976886,0x0);if(_0x2d19bd<=0x0)return-0x2;}return 0x0;}var csa_last_kifu_s;function csa_load(_0x16d3a1,_0x272f4e,_0x3b310e,_0x527acb,_0x18cf09){const _0x4b1f1d=_0x28161d;console[_0x4b1f1d(0x2f2)](_0x4b1f1d(0x2a3));if(_0x16d3a1==csa_last_kifu_s)return console[_0x4b1f1d(0x2f2)](_0x4b1f1d(0x29f)),0x2;csa_last_kifu_s=_0x16d3a1;let _0x799fe0=_0x3b310e['move_no'],_0x1a7cc0=_0x3b310e[_0x4b1f1d(0x21b)](),_0x40d8ec=_0x16d3a1[_0x4b1f1d(0x172)]('\x0a');_0x3b310e[_0x4b1f1d(0x268)](),_0x3b310e[_0x4b1f1d(0x204)](),cbd[_0x4b1f1d(0x114)](),start['hirate'](),_0x3b310e[_0x4b1f1d(0x2c4)]=0x0,bd_set=0x0;for(let _0x5c5e21=0x0;_0x5c5e21<_0x40d8ec[_0x4b1f1d(0x2a7)];_0x5c5e21++){let _0x474975=_0x40d8ec[_0x5c5e21],_0x3f5f12=csa_load_line(_0x3b310e,cbd,start,_0x474975);if(_0x3f5f12<0x0)break;let _0x413f9c=_0x474975[_0x4b1f1d(0x2d8)](',');if(_0x413f9c>0x0){_0x474975=_0x474975[_0x4b1f1d(0x14b)](_0x413f9c+0x1),_0x3f5f12=csa_load_line(_0x3b310e,cbd,start,_0x474975);if(_0x3f5f12<0x0)break;}}ReplayTop(),TopInfo(_0x3b310e),RightImageName(_0x3b310e),LeftImageName(_0x3b310e),console[_0x4b1f1d(0x2f2)](_0x4b1f1d(0x182)+_0x18cf09);if(_0x18cf09==-0x1){let _0x484fe0=location[_0x4b1f1d(0x289)];console['log']('#\x20url='+_0x484fe0);let _0x1bbda2=_0x484fe0[_0x4b1f1d(0xf5)](_0x4b1f1d(0x300));if(_0x1bbda2>=0x0){let _0x545672=_0x484fe0['substring'](_0x1bbda2+0x4);_0x1bbda2=_0x545672[_0x4b1f1d(0xf5)]('?');_0x1bbda2>=0x0&&(_0x545672=_0x545672[_0x4b1f1d(0x14b)](0x0,_0x1bbda2));let _0x58cd5f=parseInt(_0x545672,0xa);console[_0x4b1f1d(0x2f2)](_0x4b1f1d(0x135)+_0x58cd5f),Jump_sub(_0x58cd5f),ViewUpdate();}else!_0x3b310e['is_syuukyoku']()&&ReplayLast(0x0,0x1);}else _0x18cf09==-0x2?(ReplayLast(0x0,0x1),_0x3b310e[_0x4b1f1d(0x242)]>_0x799fe0&&Komaoto()):(Jump_sub(_0x18cf09),ViewUpdate(),_0x3b310e[_0x4b1f1d(0x21b)]()>_0x1a7cc0&&Komaoto());return set_kifu_list(),ButtonUpdate(),0x0;}const teai_str=['平手','香落ち',_0x28161d(0x2e9),_0x28161d(0x1b1),_0x28161d(0x137),_0x28161d(0x1a3),_0x28161d(0x20c),_0x28161d(0x29c),_0x28161d(0x177),_0x28161d(0x1f9),_0x28161d(0xf8),'六枚落ち',_0x28161d(0x1d7),'十枚落ち','その他\u3000'];function get_teai(_0x13f2e3){let _0x7cdee0;for(_0x7cdee0=0x0;_0x7cdee0<=SONOTA;_0x7cdee0++){if(_0x13f2e3['indexOf'](teai_str[_0x7cdee0])==0x0)break;}return _0x7cdee0;}function load_teai_sub(_0x488c88,_0x12ebef,_0x290a14){const _0x54c887=_0x28161d;if(_0x290a14[_0x54c887(0x2d8)]('手合割：')==0x0){_0x488c88[_0x54c887(0x211)]=get_teai(_0x290a14[_0x54c887(0x14b)](0x4));if(_0x488c88[_0x54c887(0x211)]>0x0)_0x12ebef['teban']=_0x488c88[_0x54c887(0x1fa)]=GOTE;return 0x1;}else{if(_0x290a14['indexOf'](_0x54c887(0x151))==0x0||_0x290a14[_0x54c887(0x2d8)]('上手番')==0x0||_0x290a14[_0x54c887(0x2d8)](_0x54c887(0x168))==0x0||_0x290a14[_0x54c887(0x2d8)](_0x54c887(0x1ad))==0x0)return _0x12ebef[_0x54c887(0x1fa)]=_0x488c88[_0x54c887(0x1fa)]=GOTE,0x1;else{if(_0x290a14[_0x54c887(0x2d8)](_0x54c887(0x12c))==0x0||_0x290a14[_0x54c887(0x2d8)](_0x54c887(0x13c))==0x0||_0x290a14[_0x54c887(0x2d8)](_0x54c887(0x16b))==0x0||_0x290a14[_0x54c887(0x2d8)](_0x54c887(0x1e1))==0x0)return _0x12ebef[_0x54c887(0x1fa)]=_0x488c88[_0x54c887(0x1fa)]=SENTE,console['log'](_0x54c887(0x1c6)+_0x12ebef['teban']),0x1;}}return 0x0;}var gote_moti_flg;function load_bod_sub(_0x50d275,_0x89ae23,_0x4178b1){const _0x448f44=_0x28161d;if(_0x4178b1>0x9)return 0x0;let _0x4d6a46=0x0,_0x507861=_0x89ae23[_0x448f44(0x124)](_0x4d6a46);_0x4d6a46++;_0x507861==':'&&(_0x507861=_0x89ae23[_0x448f44(0x124)](_0x4d6a46),_0x4d6a46++);if(_0x507861!='|')return 0x0;for(let _0x27fc1e=0x9;_0x27fc1e>=0x1;_0x27fc1e--){_0x507861=_0x89ae23['charAt'](_0x4d6a46),_0x4d6a46++;if(_0x507861=='|')continue;let _0x14ec41;if(_0x507861=='v'||_0x507861=='-'||_0x507861=='V')_0x14ec41=0x0;else{if(_0x507861=='\x20'||_0x507861=='^'||_0x507861=='+')_0x14ec41=SENTE;else return console['error'](_0x448f44(0x193)+_0x89ae23+'c='+_0x507861+'p='+_0x4d6a46),-0x1;}let _0x133114=get_koma(_0x89ae23[_0x448f44(0x14b)](_0x4d6a46));_0x133114>0x0&&(_0x50d275[_0x448f44(0x1c5)][_0x27fc1e*0xa+_0x4178b1]=_0x133114|_0x14ec41),_0x4d6a46++;}return 0x1;}function moti_sub(_0x4a546d,_0x1db977,_0x9acb9d){const _0x40e7f2=_0x28161d;if(_0x1db977['indexOf']('なし')==0x0)return 0x0;let _0x586ce3=_0x9acb9d?0x1:0x0,_0x103d26=0x0;for(;;){if(_0x103d26>=_0x1db977[_0x40e7f2(0x2a7)])break;let _0x4b7433=_0x1db977['charAt'](_0x103d26);if(_0x4b7433==','||_0x4b7433=='\x20'){_0x103d26++;continue;}if(_0x4b7433=='\u3000'){_0x103d26++;continue;}let _0x4aa50d=get_koma(_0x1db977['substring'](_0x103d26));if((_0x4aa50d&0xf)>=0x8)break;_0x103d26++;if(_0x4aa50d==0x0)continue;if(_0x103d26>=_0x1db977[_0x40e7f2(0x2a7)])break;let _0x5e0dd6=0x0,_0x206c3e=get_kan_num(_0x1db977[_0x40e7f2(0x14b)](_0x103d26));if(_0x206c3e==0x0){_0x206c3e=get_zen_num(_0x1db977[_0x40e7f2(0x14b)](_0x103d26));if(_0x206c3e==0x1)_0x5e0dd6=0x1;if(_0x206c3e<=0x0)_0x206c3e=0x1;else _0x103d26++;}else _0x103d26++;if(_0x206c3e==0xa||_0x5e0dd6!=0x0){if(_0x103d26>=_0x1db977[_0x40e7f2(0x2a7)])break;let _0x44e811=get_kan_num(_0x1db977[_0x40e7f2(0x14b)](_0x103d26));if(_0x44e811==0x0){_0x44e811=get_zen_num(_0x1db977['substring'](_0x103d26));if(_0x44e811>=0x0)_0x206c3e=0xa;else _0x44e811=0x0;}_0x206c3e+=_0x44e811,_0x103d26++;}_0x4a546d[_0x40e7f2(0x10a)][_0x586ce3][_0x4aa50d]=_0x206c3e,_0x4a546d[_0x40e7f2(0x10a)][_0x586ce3][0x0]+=_0x206c3e;}return 0x0;}function load_moti_sub(_0xa1079,_0x11e1ca){const _0x21c305=_0x28161d;if(_0x11e1ca[_0x21c305(0x2d8)](_0x21c305(0x30d))==0x0||_0x11e1ca[_0x21c305(0x2d8)](_0x21c305(0x18e))==0x0)return moti_sub(_0xa1079,_0x11e1ca[_0x21c305(0x14b)](0x6),SENTE),0x1;if(_0x11e1ca[_0x21c305(0x2d8)](_0x21c305(0x157))==0x0||_0x11e1ca['indexOf'](_0x21c305(0x1fe))==0x0)return moti_sub(_0xa1079,_0x11e1ca['substring'](0x5),SENTE),0x1;if(_0x11e1ca['indexOf']('持駒：')==0x0)return moti_sub(_0xa1079,_0x11e1ca['substring'](0x3),SENTE),0x1;if(_0x11e1ca[_0x21c305(0x2d8)](_0x21c305(0x125))==0x0||_0x11e1ca[_0x21c305(0x2d8)](_0x21c305(0x273))==0x0)return moti_sub(_0xa1079,_0x11e1ca[_0x21c305(0x14b)](0x6),0x0),gote_moti_flg=0x1,0x1;if(_0x11e1ca[_0x21c305(0x2d8)](_0x21c305(0x2e1))==0x0||_0x11e1ca[_0x21c305(0x2d8)](_0x21c305(0x275))==0x0)return moti_sub(_0xa1079,_0x11e1ca['substring'](0x5),0x0),gote_moti_flg=0x1,0x1;return 0x0;}function get_kan_num(_0x5d3e94){const _0x38963f=_0x28161d,_0x2da6a0=['零','一','二','三','四','五','六','七','八','九','十'];for(var _0x39fe4c=0x1;_0x39fe4c<=0xa;_0x39fe4c++){if(_0x5d3e94[_0x38963f(0x2d8)](_0x2da6a0[_0x39fe4c])==0x0)return _0x39fe4c;}return 0x0;}const zen=['０','１','２','３','４','５','６','７','８','９'];function get_zen_num(_0x5a6341){const _0x3e32ad=_0x28161d;for(var _0x3cf063=0x0;_0x3cf063<=0x9;_0x3cf063++){if(_0x5a6341[_0x3e32ad(0x2d8)](zen[_0x3cf063])==0x0)return _0x3cf063;}return-0x1;}function get_koma(_0x5ac139){const _0x33caf8=_0x28161d;if(_0x5ac139[_0x33caf8(0x2d8)]('王')==0x0)return GY;else{if(_0x5ac139[_0x33caf8(0x2d8)]('成香')==0x0)return NY;else{if(_0x5ac139[_0x33caf8(0x2d8)]('成桂')==0x0)return NE;else{if(_0x5ac139[_0x33caf8(0x2d8)]('成銀')==0x0)return NG;else{if(_0x5ac139[_0x33caf8(0x2d8)]('竜')==0x0)return RY;}}}}const _0x1af8c8=['\u3000','歩','香','桂','銀','金','角','飛','玉','と','杏','圭','全','金','馬','龍'];for(let _0x290d64=0x1;_0x290d64<=0xf;_0x290d64++){if(_0x5ac139['indexOf'](_0x1af8c8[_0x290d64])==0x0)return _0x290d64;}return 0x0;}function load_kifu_info(_0x2328b9,_0x338d45){const _0x20c638=_0x28161d;if(_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x22a))==0x0)return 0x0;else{if(_0x338d45['indexOf'](_0x20c638(0x151))==0x0||_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x254))==0x0||_0x338d45[_0x20c638(0x2d8)]('手番：後手')==0x0||_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x1ad))==0x0)return 0x0;else{if(_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x12c))==0x0||_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x13c))==0x0||_0x338d45[_0x20c638(0x2d8)]('手番：先手')==0x0||_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x1e1))==0x0)return 0x0;}}if(_0x338d45['indexOf']('先手：')==0x0||_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x1e3))==0x0)return _0x2328b9[_0x20c638(0x1a1)]=_0x338d45[_0x20c638(0x14b)](0x3),0x1;if(_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x237))==0x0||_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x1bb))==0x0)return _0x2328b9[_0x20c638(0x233)]=_0x338d45['substring'](0x3),0x1;if(_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x17d))==0x0)return _0x2328b9[_0x20c638(0x2c3)]=_0x338d45[_0x20c638(0x14b)](0x5),0x1;if(_0x338d45[_0x20c638(0x2d8)]('終了日時：')==0x0)return _0x2328b9[_0x20c638(0x139)]=_0x338d45['substring'](0x5),0x1;if(_0x338d45['indexOf'](_0x20c638(0x1c2))==0x0)return _0x2328b9[_0x20c638(0x250)]=_0x338d45[_0x20c638(0x14b)](0x3),0x1;if(_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x2e6))==0x0)return _0x2328b9[_0x20c638(0x1d4)]=_0x338d45[_0x20c638(0x14b)](0x5),0x1;if(_0x338d45['indexOf'](_0x20c638(0x1d5))==0x0)return _0x2328b9['site']=_0x338d45[_0x20c638(0x14b)](0x3),0x1;if(_0x338d45[_0x20c638(0x2d8)]('消費時間：')==0x0)return _0x2328b9[_0x20c638(0x190)]=_0x338d45[_0x20c638(0x14b)](0x5),0x1;if(_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x1b3))==0x0)return _0x2328b9['seiseki']=_0x338d45[_0x20c638(0x14b)](0x6),0x1;if(_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x2de))==0x0){let _0x594d0f=parseInt(_0x338d45[_0x20c638(0x14b)](0x5));console['log'](_0x20c638(0x100)+_0x594d0f+'\x20'+_0x338d45);if(isNaN(_0x594d0f))return console[_0x20c638(0x30f)](_0x20c638(0x25a)+_0x338d45),0x1;return _0x2328b9[_0x20c638(0x2a9)]=_0x594d0f,0x1;}if(_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x2e7))==0x0)return _0x2328b9[_0x20c638(0x1eb)]=_0x338d45[_0x20c638(0x14b)](0x3),0x1;if(_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x293))==0x0)return _0x2328b9[_0x20c638(0x115)]=_0x338d45[_0x20c638(0x14b)](0x4),0x1;if(_0x338d45[_0x20c638(0x2d8)]('出典：')==0x0)return _0x2328b9[_0x20c638(0x1d9)]=_0x338d45['substring'](0x3),0x1;if(_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x176))==0x0)return _0x2328b9[_0x20c638(0x2b7)]=_0x338d45[_0x20c638(0x14b)](0x5),0x1;if(_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x19b))==0x0)return _0x2328b9['happyoushi']=_0x338d45['substring'](0x4),0x1;if(_0x338d45[_0x20c638(0x2d8)](_0x20c638(0x197))>=0x0)return 0x0;if(_0x338d45['indexOf'](_0x20c638(0x1b7))==0x0)return 0x0;if(_0x338d45[_0x20c638(0x2d8)]('*')==0x0)return 0x0;if(_0x338d45[_0x20c638(0x2d8)]('：')>=0x0)return 0x1;return 0x0;}function last_move_sub(_0x53bf0d){const _0x272c18=_0x28161d;if(_0x53bf0d[_0x272c18(0x2d8)]('投了')==0x0)return TORYO;else{if(_0x53bf0d[_0x272c18(0x2d8)]('持将棋')==0x0)return JISHOGI;else{if(_0x53bf0d['indexOf'](_0x272c18(0x187))==0x0)return SENNITITE;else{if(_0x53bf0d[_0x272c18(0x2d8)](_0x272c18(0x181))==0x0)return KIREMAKE;else{if(_0x53bf0d[_0x272c18(0x2d8)](_0x272c18(0x2dc))==0x0)return HANSOKU_KACHI;else{if(_0x53bf0d[_0x272c18(0x2d8)]('反則負け')==0x0)return HANSOKU_MAKE;else{if(_0x53bf0d[_0x272c18(0x2d8)](_0x272c18(0x18c))==0x0)return KACHI;else{if(_0x53bf0d['indexOf']('中断')==0x0)return CHUDAN;else{if(_0x53bf0d[_0x272c18(0x2d8)]('詰')==0x0)return TUMI;}}}}}}}}return-0x1;}function store_move(_0x3682fe,_0x47642a){const _0x4ad104=_0x28161d;let _0xc30441=_0x3682fe;for(;;){if(_0xc30441['indexOf']('\u3000')==0x0||_0xc30441[_0x4ad104(0x2d8)]('\x20')==0x0)_0xc30441=_0xc30441['substring'](0x1);else break;}if(_0xc30441['length']<=0x1)return 0x0;let _0x4fe94f=new Kifup(),_0x221303=last_move_sub(_0xc30441),_0x3eaf56;if(_0x221303>=0x0)return _0x4fe94f['t']=_0x221303,_0x4fe94f['f']=0x1,_0x4fe94f['k']=0x0,_0x3eaf56=Kifu['store_kifu'](cbd,start,_0x4fe94f,_0x47642a),_0x3eaf56;let _0x3fbf9a=_0xc30441,_0x2ebf13,_0x280093;if(_0x3fbf9a[_0x4ad104(0x2d8)]('同')==0x0){let _0x48509f=Kifu[_0x4ad104(0x262)](Kifu[_0x4ad104(0x242)]);if(_0x48509f==null)_0x280093=0x0;else _0x280093=_0x48509f['t']&0x7f;_0x2ebf13=0x1;}else{_0x2ebf13=0x0;let _0x5ac570=get_zen_num(_0x3fbf9a),_0x59035c=get_kan_num(_0x3fbf9a['substring'](0x1));if(_0x5ac570==0x0||_0x59035c==0x0)return console[_0x4ad104(0x30f)](_0x4ad104(0x2a2)+_0x3fbf9a),console[_0x4ad104(0x30f)]('error\x20moves='+_0x3682fe),-0x1;_0x280093=_0x5ac570*0xa+_0x59035c;}let _0x55d521=_0x3fbf9a[_0x4ad104(0x14b)](0x1),_0x48509c='';if(_0x2ebf13!=0x0&&_0x55d521[_0x4ad104(0x2d8)]('\x20\x20')==0x0)_0x48509c=_0xc30441[_0x4ad104(0x14b)](0x3);else{if(_0x2ebf13!=0x0&&_0x55d521[_0x4ad104(0x2d8)]('\x20')==0x0)_0x48509c=_0xc30441[_0x4ad104(0x14b)](0x2);else{if(_0x2ebf13!=0x0&&!_0x55d521[_0x4ad104(0x2d8)]('\u3000')==0x0)_0x48509c=_0xc30441['substring'](0x1);else{let _0x5bdc64=_0xc30441[_0x4ad104(0x14b)](0x2);if(_0x5bdc64[_0x4ad104(0x2d8)]('同')==0x0)_0x48509c=_0xc30441[_0x4ad104(0x14b)](0x3);else _0x48509c=_0xc30441[_0x4ad104(0x14b)](0x2);}}}let _0x558963=get_koma(_0x48509c);if(_0x558963==0x0)return console[_0x4ad104(0x30f)]('store_move\x20'+_0x3682fe),-0x1;let _0x520c30,_0x1e305b=0x1,_0x585a4d=_0x48509c[_0x4ad104(0x14b)](0x1);if(_0x585a4d[_0x4ad104(0x2d8)]('打')==0x0)return _0x520c30=_0x48509c['substring'](0x1),_0x4fe94f['t']=_0x280093,_0x4fe94f['f']=0x0,_0x4fe94f['k']=_0x558963,_0x3eaf56=Kifu['store_kifu'](cbd,start,_0x4fe94f,_0x47642a),_0x3eaf56;else{if(_0x585a4d['indexOf']('成')==0x0)_0x280093|=0x80,_0x520c30=_0x48509c[_0x4ad104(0x14b)](0x3);else{if(_0x48509c['indexOf']('成')==0x0)_0x520c30=_0x48509c[_0x4ad104(0x14b)](0x3);else{let _0x221dfa=_0x48509c[_0x4ad104(0x14b)](0x1);if(_0x221dfa[_0x4ad104(0x2d8)]('(')==0x0)_0x520c30=_0x221dfa[_0x4ad104(0x14b)](0x1);else _0x520c30=_0x48509c[_0x4ad104(0x14b)](0x1);}}}let _0x41d7ab=parseInt(_0x520c30[_0x4ad104(0x124)](0x0)),_0x52648e=parseInt(_0x520c30['charAt'](0x1));return _0x1e305b=_0x41d7ab*0xa+_0x52648e,_0x4fe94f['t']=_0x280093,_0x4fe94f['f']=_0x1e305b,_0x4fe94f['k']=_0x558963,_0x3eaf56=Kifu[_0x4ad104(0x313)](cbd,start,_0x4fe94f,_0x47642a),_0x3eaf56;}function load_move_sub(_0x4f2daa){const _0x5977b2=_0x28161d;let _0x54af92=_0x4f2daa[_0x5977b2(0x14b)](0x4),_0xdef68b=0x0,_0x581ec1=0x0,_0x23f463=_0x54af92,_0x326d6e=_0x23f463[_0x5977b2(0x2d8)]('(');if(_0x326d6e>0x0){_0x23f463=_0x23f463[_0x5977b2(0x14b)](_0x326d6e+0x1),_0x326d6e=_0x23f463[_0x5977b2(0x2d8)]('(');_0x326d6e>0x0&&(_0x23f463=_0x23f463[_0x5977b2(0x14b)](_0x326d6e+0x1));let _0x154440=_0x23f463[_0x5977b2(0x2d8)](':');if(_0x154440>0x0){let _0x3c7e59=_0x23f463[_0x5977b2(0x14b)](0x0,_0x154440);_0xdef68b=parseInt(_0x3c7e59);let _0x2ca196=_0x23f463[_0x5977b2(0x14b)](_0x154440+0x1),_0x46c9fd=_0x2ca196['indexOf']('/');_0x46c9fd>0x0&&(_0x2ca196=_0x2ca196[_0x5977b2(0x14b)](0x0,_0x46c9fd),_0x581ec1=parseInt(_0x2ca196));}}let _0x34ec12=_0xdef68b*0x3c+_0x581ec1,_0x34ffe6=store_move(_0x54af92,_0x34ec12);if(_0x34ffe6<=0x0)return _0x34ffe6;if(_0x34ffe6<0xb)return 0x2;return 0x1;}function load_comment(_0x5873c8){const _0x5a965e=_0x28161d;let _0x2eac91=_0x5873c8[_0x5a965e(0x14b)](0x1);return Kifu[_0x5a965e(0x305)](Kifu[_0x5a965e(0x242)],_0x2eac91);}function kifu_line(_0x4ce4cb){const _0x1869a9=_0x28161d;if(_0x4ce4cb[_0x1869a9(0x2d8)]('1\x20')>=0x0)return 0x1;return 0x0;}function sort_board(_0x51309d,_0x3311e7,_0x4a107b){const _0x50edd3=_0x28161d;console[_0x50edd3(0x2f2)](_0x50edd3(0x219)+_0x3311e7[_0x50edd3(0x1fa)]),_0x3311e7[_0x50edd3(0x14e)](),_0x4a107b['copy_from_board'](_0x3311e7);}function game_init(_0x437948,_0x9212fd,_0x3ce1e9){const _0x184979=_0x28161d;_0x9212fd['init_teai'](_0x9212fd[_0x184979(0x211)]),_0x3ce1e9[_0x184979(0x285)](_0x9212fd[_0x184979(0x211)]),_0x437948['start'](),_0x437948[_0x184979(0x2c4)]=0x0;}var last_kifu_s;function load_kifu_sub(_0x2d1b77,_0x50edd9,_0x3c8b19,_0x3a1964,_0x21ca48){const _0x34ab9d=_0x28161d;if(_0x2d1b77==last_kifu_s)return console['log'](_0x34ab9d(0x29f)),0x2;last_kifu_s=_0x2d1b77;let _0x2cef88=_0x3c8b19[_0x34ab9d(0x242)],_0x2e707e=_0x3c8b19[_0x34ab9d(0x21b)](),_0x36d813=_0x2d1b77[_0x34ab9d(0x172)]('\x0a');const _0x1c2b55=![];_0x3c8b19[_0x34ab9d(0x268)](),_0x3c8b19[_0x34ab9d(0x204)](),cbd[_0x34ab9d(0x114)](),start[_0x34ab9d(0x114)]();!_0x1c2b55&&(cbd[_0x34ab9d(0x211)]=0x0,cbd['teban']=SENTE,cbd[_0x34ab9d(0x126)](),_0x3c8b19[_0x34ab9d(0x2c4)]=0x0,gote_moti_flg=0x0);_0x3c8b19[_0x34ab9d(0x23f)]=0x0;let _0x28c575=0x1,_0x114981=0x0;for(let _0x3da385=0x0;_0x3da385<_0x36d813['length'];_0x3da385++){let _0xc3b9c1=_0x36d813[_0x3da385];if(_0xc3b9c1['indexOf']('#')==0x0)continue;if(_0xc3b9c1['indexOf']('&')==0x0)continue;if(_0xc3b9c1['indexOf']('まで')==0x0)continue;if(load_teai_sub(cbd,start,_0xc3b9c1)!=0x0)continue;if(load_kifu_info(_0x3c8b19,_0xc3b9c1))continue;if(_0xc3b9c1['indexOf']('*')==0x0){load_comment(_0xc3b9c1);continue;}if(_0x3c8b19[_0x34ab9d(0x242)]>0x0&&_0xc3b9c1[_0x34ab9d(0x2d8)]('変化：')==0x0){_0x3c8b19[_0x34ab9d(0x23f)]=0x1;let _0x2a42c5=_0xc3b9c1[_0x34ab9d(0x14b)](0x3),_0x3b0be3=parseInt(_0x2a42c5);console['log'](_0x34ab9d(0x2a8)+_0x3b0be3),cbd[_0x34ab9d(0x2ff)](_0x3c8b19,_0x3b0be3-0x1);continue;}if(_0x114981==0x0&&kifu_line(_0xc3b9c1)!=0x0||_0xc3b9c1['indexOf']('手数---')==0x0){console[_0x34ab9d(0x2f2)](_0x34ab9d(0x11e)+_0xc3b9c1+_0x34ab9d(0x1c4)+_0x3c8b19[_0x34ab9d(0x2c4)]);_0x3c8b19['abnormal_flg']==0x0?game_init(_0x3c8b19,cbd,start):sort_board(_0x3c8b19,cbd,start);_0x114981=0x1;if(_0xc3b9c1[_0x34ab9d(0x2d8)](_0x34ab9d(0x31e))==0x0)continue;}if(!_0x1c2b55){if(_0xc3b9c1['indexOf'](_0x34ab9d(0x318))>=0x0)continue;if(_0xc3b9c1['indexOf']('+--')>=0x0)continue;let _0xe471e5=load_bod_sub(cbd,_0xc3b9c1,_0x28c575);if(_0xe471e5==0x1){_0x28c575++,_0x3c8b19['abnormal_flg']=0x1;continue;}else{if(_0xe471e5==-0x1){console[_0x34ab9d(0x30f)]('***\x20盤面読み込みエラー\x20'+_0xc3b9c1);break;}}if(load_moti_sub(cbd,_0xc3b9c1)!=0x0)continue;}let _0x5cbf5f=load_move_sub(_0xc3b9c1);if(_0x5cbf5f==-0x2||_0x5cbf5f==-0x1)break;_0x5cbf5f==0x2&&(last=0x1);}if(!_0x1c2b55){}adjust_kifu_position(),set_button_positions(!![]),ReplayTop(),TopInfo(_0x3c8b19),RightImageName(_0x3c8b19),LeftImageName(_0x3c8b19),console[_0x34ab9d(0x2f2)](_0x34ab9d(0x16a)+_0x21ca48);if(_0x21ca48==-0x1){let _0x36f98f=location[_0x34ab9d(0x289)];console[_0x34ab9d(0x2f2)]('#\x20url='+_0x36f98f);let _0x4b35ad=_0x36f98f[_0x34ab9d(0xf5)](_0x34ab9d(0x300));if(_0x4b35ad>=0x0){let _0xa5784=_0x36f98f[_0x34ab9d(0x14b)](_0x4b35ad+0x4);_0x4b35ad=_0xa5784[_0x34ab9d(0xf5)]('?');_0x4b35ad>=0x0&&(_0xa5784=_0xa5784[_0x34ab9d(0x14b)](0x0,_0x4b35ad));let _0x391b05=parseInt(_0xa5784,0xa);console[_0x34ab9d(0x2f2)]('#\x20te='+_0x391b05),Jump_sub(_0x391b05),ViewUpdate();}else{if(typeof START_TESUU!==_0x34ab9d(0x241))console[_0x34ab9d(0x2f2)](_0x34ab9d(0x12f)+START_TESUU),typeof START_TESUU==_0x34ab9d(0x25f)?START_TESUU[_0x34ab9d(0x2d8)](_0x34ab9d(0x13b))>=0x0&&ReplayLast(0x0,0x1):(Jump_sub(START_TESUU),ViewUpdate());else!_0x3c8b19['is_syuukyoku']()&&ReplayLast(0x0,0x1);}_0x3c8b19[_0x34ab9d(0x130)]()&&StopAutoUpdate();}else{if(_0x21ca48==-0x2){ReplayLast(0x0,0x1);if(_0x3c8b19[_0x34ab9d(0x242)]>_0x2cef88){_0x3c8b19[_0x34ab9d(0x130)]()?(game_end_sound(),console[_0x34ab9d(0x2e3)](_0x34ab9d(0x315))):Komaoto();window[_0x34ab9d(0x119)](),console[_0x34ab9d(0x2e3)](_0x34ab9d(0x1a7)),window[_0x34ab9d(0x28c)]();let _0x68c2fe=kifu_select['style'][_0x34ab9d(0x148)];console[_0x34ab9d(0x2e3)]('###\x20old_border='+_0x68c2fe),kifu_select[_0x34ab9d(0x213)][_0x34ab9d(0x148)]=_0x34ab9d(0x225);var _0x272855=function(){const _0x1b1ea4=_0x34ab9d;console['log'](_0x1b1ea4(0x20f)),kifu_select[_0x1b1ea4(0x213)]['border']='';};setTimeout(_0x272855,0x7530);}}else Jump_sub(_0x21ca48),ViewUpdate(),_0x3c8b19[_0x34ab9d(0x21b)]()>_0x2e707e&&(_0x3c8b19['is_syuukyoku']()?game_end_sound():Komaoto());}return set_kifu_list(),ButtonUpdate(),0x0;}function get_kif_url(){const _0x282d43=_0x28161d;if(KIF_FILE_NAME[_0x282d43(0x2d8)]('/')==0x0||KIF_FILE_NAME[_0x282d43(0x2d8)]('http')==0x0){let _0x197dad=KIF_FILE_NAME;return console[_0x282d43(0x2f2)](_0x282d43(0x2f1)+_0x197dad),_0x197dad;}else{let _0x167831=location[_0x282d43(0x289)],_0x2be98b=_0x167831[_0x282d43(0xf5)]('/');_0x2be98b>=0x0&&(_0x167831=_0x167831[_0x282d43(0x14b)](0x0,_0x2be98b+0x1));let _0x5add71=_0x167831+KIF_FILE_NAME;return console[_0x282d43(0x2f2)]('\x20file_url='+_0x5add71),_0x5add71;}}var loading;function load_kifu(_0x5c1906,_0x2e4a83,_0x226390,_0x100c9f){const _0x45e296=_0x28161d;console[_0x45e296(0x2f2)](_0x45e296(0x1dd));if(window['File']&&window[_0x45e296(0x15d)]&&window[_0x45e296(0x140)]&&window[_0x45e296(0x1c7)]){}else{alert(_0x45e296(0xee));return;}loading=!![];let _0x104185=new Date(),_0x355ce8=_0x104185[_0x45e296(0x15f)](),_0x21203a=get_kif_url(),_0x57dc4d=get_kif_url()+'?'+_0x355ce8,_0x542126=![],_0x34c379=_0x21203a['substr'](_0x21203a['length']-0x5);_0x34c379=_0x34c379[_0x45e296(0x14a)]();if(_0x34c379=='.kifu')_0x542126=!![];var _0x3b04e3=new XMLHttpRequest();_0x3b04e3[_0x45e296(0x206)](_0x45e296(0x184),_0x57dc4d,!![]);if(_0x542126)_0x3b04e3[_0x45e296(0x25d)](_0x45e296(0x188));else _0x3b04e3[_0x45e296(0x25d)](_0x45e296(0x304));_0x3b04e3['onerror']=function(_0x4d1e5b){const _0x4c1071=_0x45e296;console[_0x4c1071(0x30f)](_0x4c1071(0x31d)+_0x3b04e3['statusText']);},_0x3b04e3[_0x45e296(0x1d8)]=function(_0x4bd854){const _0x22826a=_0x45e296;console['log'](_0x22826a(0x142));if(_0x3b04e3[_0x22826a(0x1d3)]===0x4){if(_0x3b04e3[_0x22826a(0x1b8)]===0xc8){let _0x5c4f09=_0x21203a[_0x22826a(0x159)](_0x21203a['length']-0x4);_0x5c4f09=_0x5c4f09[_0x22826a(0x14a)](),_0x5c4f09==_0x22826a(0x103)?csa_load(_0x3b04e3[_0x22826a(0x264)],_0x21203a,_0x2e4a83,_0x226390,_0x100c9f):load_kifu_sub(_0x3b04e3['responseText'],_0x21203a,_0x2e4a83,_0x226390,_0x100c9f);}else _0x3b04e3[_0x22826a(0x1b8)]===0x194?(console[_0x22826a(0x30f)](''+_0x3b04e3[_0x22826a(0x1b8)]+':'+_0x3b04e3[_0x22826a(0x192)]),ViewUpdate(),!FREE&&TopInfo(_0x2e4a83)):console[_0x22826a(0x30f)](''+_0x3b04e3[_0x22826a(0x1b8)]+':'+_0x3b04e3['statusText']);}},_0x3b04e3[_0x45e296(0x218)]=function(){const _0x51a38b=_0x45e296;console[_0x51a38b(0x2f2)]('#\x20onreadystatechange\x20readyState='+_0x3b04e3['readyState']);if(_0x3b04e3[_0x51a38b(0x1d3)]===0x4){if(_0x3b04e3[_0x51a38b(0x1b8)]===0xc8||_0x3b04e3[_0x51a38b(0x1b8)]==0x0){}}},_0x3b04e3[_0x45e296(0x320)]=function(){const _0x2befcb=_0x45e296;console['log'](_0x2befcb(0x26a)+_0x3b04e3[_0x2befcb(0x1d3)]),loading=![];},_0x3b04e3['send']();}const version='V1.03',MODE_SILENT=0x4;var komaoto_flg=!![],toryo_sound_flg=!![],comment_str_size=0xb;const ua=navigator['userAgent'];console[_0x28161d(0x2e3)](_0x28161d(0x102)+ua);const is_iOS=ua[_0x28161d(0x2d8)]('iPhone')>=0x0||ua[_0x28161d(0x2d8)]('iPad')>=0x0||ua[_0x28161d(0x2d8)](_0x28161d(0x29b))>=0x0,isIPad=/iPad|Macintosh/i[_0x28161d(0x174)](navigator['userAgent'])&&_0x28161d(0x101)in document,isIOS=is_iOS||isIPad,isFirefox=ua[_0x28161d(0x2d8)](_0x28161d(0x232))>=0x0;console[_0x28161d(0x2e3)](_0x28161d(0x258)+isFirefox),console['log'](_0x28161d(0x2fb));const COOKIE_STR=_0x28161d(0x260);let cookies=document['cookie'],cookiesArray=cookies['split'](';');for(let c of cookiesArray){let cArray=c[_0x28161d(0x172)]('=');if(cArray[0x0][_0x28161d(0x1b5)]('\x20')=='komaoto'){if(cArray[0x1]==_0x28161d(0x2f7))komaoto_flg=![];console[_0x28161d(0x2f2)]('komaoto_flg='+komaoto_flg);}else{if(cArray[0x0]['trim']('\x20')=='muji'){if(cArray[0x1]=='true')muji_flg=!![];console['log'](_0x28161d(0x2bd)+muji_flg);}else{if(cArray[0x0][_0x28161d(0x1b5)]('\x20')==_0x28161d(0x170)){let parsed=parseInt(cArray[0x1],0xa);isNaN(parsed)&&(parsed=0xb),comment_str_size=parsed,console['log']('###\x20comment_str_size='+comment_str_size);}else{if(cArray[0x0]['trim']('\x20')==_0x28161d(0x323)){if(cArray[0x1]==_0x28161d(0x2f7))toryo_sound_flg=![];console[_0x28161d(0x2f2)](_0x28161d(0x1cd)+toryo_sound_flg);}}}}}var small_header_flg=!![];typeof SMALL_HEADER!==_0x28161d(0x241)&&(small_header_flg=SMALL_HEADER);console[_0x28161d(0x2f2)](_0x28161d(0x288)+document['body']['scrollTop']),console['log'](_0x28161d(0x1c3)+document['body']['scrollTop']),console['log'](_0x28161d(0x1b4)+document[_0x28161d(0x30a)][_0x28161d(0x21f)]);small_header_flg?TOP_INFO_H=0x19:TOP_INFO_H=0x46;if(FREE)TOP_INFO_H=0x0;BD_ORG_Y=TOP_INFO_H+0x28,KOMADAI_LEFT_Y=BD_ORG_Y-EDGE_Y,KOMADAI_RIGHT_Y=BD_ORG_Y+0x5*SQ_SIZE_Y,COMMENT_TOP=BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y+0x4;let kj_left_flg=![];typeof KJ_LEFT!=='undefined'&&(kj_left_flg=KJ_LEFT);var kj_div=document['createElement'](_0x28161d(0x324));if(!kj_left_flg)kj_div[_0x28161d(0x213)]['textAlign']='center';var html_kj_div=document[_0x28161d(0xf7)]('KJ_DIV');html_kj_div!=null?(console[_0x28161d(0x2f2)](_0x28161d(0x11f)),html_kj_div[_0x28161d(0x292)](kj_div)):(console[_0x28161d(0x2f2)](_0x28161d(0xf3)),document['body'][_0x28161d(0x292)](kj_div));var body=document[_0x28161d(0x247)];body[_0x28161d(0x213)][_0x28161d(0x20d)]=_0x28161d(0x2ca),body[_0x28161d(0x213)]['margin']='0';var canvas=document[_0x28161d(0x21c)](_0x28161d(0x1fd));canvas[_0x28161d(0x2b4)]=0x266*RATE,canvas[_0x28161d(0x1ee)]=0x28a*RATE;small_header_flg&&(canvas[_0x28161d(0x1ee)]=0x262*RATE);FREE&&(canvas['width']=0x244*RATE,canvas[_0x28161d(0x1ee)]=0x1ea*RATE);canvas[_0x28161d(0x213)][_0x28161d(0x2b4)]=String(canvas['width']/devicePixelRatio)+'px',canvas[_0x28161d(0x213)][_0x28161d(0x1ee)]=String(canvas[_0x28161d(0x1ee)]/devicePixelRatio)+'px',console['log'](_0x28161d(0x1a8)+canvas[_0x28161d(0x213)]['width']),canvas[_0x28161d(0x213)]['backgroundColor']='#EEF5DD',kj_div['appendChild'](canvas);let canvas_rect=canvas[_0x28161d(0x136)](),canvas_top=canvas_rect['top'],canvas_x=canvas_rect[_0x28161d(0x2ae)];console[_0x28161d(0x2f2)](_0x28161d(0x199)+canvas_top),console[_0x28161d(0x2f2)]('#\x20canvas_x='+canvas_x+_0x28161d(0x133)+canvas['offsetLeft']);var top_label1=null,top_label2,top_label3,BUTTON_WIDTH=0x28;if(FREE)BUTTON_WIDTH=0x24;function set_buttons(_0x54f013){const _0x89af8c=_0x28161d;_0x54f013['type']=_0x89af8c(0x2d9),_0x54f013[_0x89af8c(0x213)]['position']=_0x89af8c(0x1de);let _0x55f2f6=String(canvas_top+TOP_INFO_H+0x4)+'px';_0x54f013['style'][_0x89af8c(0x1d1)]=_0x55f2f6,_0x54f013['style'][_0x89af8c(0x1ee)]=_0x89af8c(0x1ed);_0x54f013!=button_flip&&_0x54f013!=button_env&&(_0x54f013[_0x89af8c(0x213)][_0x89af8c(0x2b4)]=String(BUTTON_WIDTH)+'px');_0x54f013[_0x89af8c(0x213)][_0x89af8c(0x31b)]=_0x89af8c(0x24c);if(!FREE&&(_0x54f013==button_backB||_0x54f013==button_nextB))return;document[_0x89af8c(0x247)][_0x89af8c(0x292)](_0x54f013);}var button_top=document[_0x28161d(0x21c)]('button');button_top[_0x28161d(0x284)]('id',_0x28161d(0x180)),button_top[_0x28161d(0x1f5)](_0x28161d(0xf4),OnButtonTopClick);var top_img=document[_0x28161d(0x21c)](_0x28161d(0x22d));top_img[_0x28161d(0x145)]=KJ_DIR+'Top.gif',button_top[_0x28161d(0x292)](top_img),button_top[_0x28161d(0x213)]['left']=String(canvas_x+0xa)+'px',button_top[_0x28161d(0x240)]=_0x28161d(0x21d);var button_backr=document[_0x28161d(0x21c)](_0x28161d(0x2d9));button_backr[_0x28161d(0x284)]('id','button_backr'),button_backr[_0x28161d(0x1f5)](_0x28161d(0xf4),OnButtonBackRClick);var backr_img=document[_0x28161d(0x21c)](_0x28161d(0x22d));backr_img['src']=KJ_DIR+_0x28161d(0x229),button_backr[_0x28161d(0x292)](backr_img),button_backr[_0x28161d(0x213)][_0x28161d(0x2ae)]=String(canvas_x+0x3c)+'px',button_backr[_0x28161d(0x240)]=_0x28161d(0x2ce);var button_back=document['createElement'](_0x28161d(0x2d9));button_back[_0x28161d(0x284)]('id',_0x28161d(0x26e)),button_back[_0x28161d(0x1f5)](_0x28161d(0xf4),OnButtonBackClick);var back_img=document[_0x28161d(0x21c)](_0x28161d(0x22d));back_img[_0x28161d(0x145)]=KJ_DIR+_0x28161d(0x306),button_back[_0x28161d(0x292)](back_img),button_back[_0x28161d(0x213)][_0x28161d(0x2ae)]=String(canvas_x+0x6e)+'px',button_back[_0x28161d(0x240)]='１手戻す';var button_stop=document[_0x28161d(0x21c)]('button');button_stop['setAttribute']('id',_0x28161d(0x1b6)),button_stop[_0x28161d(0x1f5)]('click',OnButtonStopClick);var stop_img=document[_0x28161d(0x21c)](_0x28161d(0x22d));stop_img[_0x28161d(0x145)]=KJ_DIR+_0x28161d(0x16c),button_stop[_0x28161d(0x292)](stop_img),button_stop[_0x28161d(0x213)][_0x28161d(0x2ae)]=String(canvas_x+0xa0)+'px',button_stop[_0x28161d(0x240)]='停止';var button_next=document[_0x28161d(0x21c)](_0x28161d(0x2d9));button_next[_0x28161d(0x284)]('id','button_next'),button_next['addEventListener'](_0x28161d(0xf4),OnButtonNextClick);var next_img=document[_0x28161d(0x21c)](_0x28161d(0x22d));next_img[_0x28161d(0x145)]=KJ_DIR+_0x28161d(0x239),button_next[_0x28161d(0x292)](next_img),button_next['style'][_0x28161d(0x2ae)]=String(canvas_x+0xd2)+'px',button_next['title']=_0x28161d(0x1a6);var button_nextr=document['createElement'](_0x28161d(0x2d9));button_nextr['setAttribute']('id',_0x28161d(0x10f)),button_nextr[_0x28161d(0x1f5)](_0x28161d(0xf4),OnButtonNextRClick);let nextr_img=document[_0x28161d(0x21c)]('img');nextr_img[_0x28161d(0x145)]=KJ_DIR+_0x28161d(0x155),button_nextr['appendChild'](nextr_img),button_nextr[_0x28161d(0x213)][_0x28161d(0x2ae)]=String(canvas_x+0x104)+'px',button_nextr['title']=_0x28161d(0x156);var button_last=document[_0x28161d(0x21c)](_0x28161d(0x2d9));button_last[_0x28161d(0x284)]('id','button_last'),button_last['addEventListener'](_0x28161d(0xf4),OnButtonLastClick);let last_img=document[_0x28161d(0x21c)](_0x28161d(0x22d));last_img['src']=KJ_DIR+_0x28161d(0x2c1),button_last['appendChild'](last_img),button_last[_0x28161d(0x213)][_0x28161d(0x2ae)]=String(canvas_x+0x136)+'px',button_last[_0x28161d(0x240)]='最終局面へ';var button_backB=document[_0x28161d(0x21c)](_0x28161d(0x2d9));if(FREE){button_backB[_0x28161d(0x1f5)](_0x28161d(0xf4),ReplayBackBranch);let backb_img=document[_0x28161d(0x21c)]('img');backb_img[_0x28161d(0x145)]=KJ_DIR+_0x28161d(0x2b8),button_backB[_0x28161d(0x292)](backb_img),button_backB[_0x28161d(0x240)]=_0x28161d(0x2ea);}var button_nextB=document[_0x28161d(0x21c)](_0x28161d(0x2d9));if(FREE){button_nextB[_0x28161d(0x1f5)](_0x28161d(0xf4),ReplayNextBranch);let nextb_img=document[_0x28161d(0x21c)](_0x28161d(0x22d));nextb_img[_0x28161d(0x145)]=KJ_DIR+_0x28161d(0x2b0),button_nextB[_0x28161d(0x292)](nextb_img),button_nextB[_0x28161d(0x240)]=_0x28161d(0x2f9);}var button_flip=document['createElement'](_0x28161d(0x2d9));button_flip['setAttribute']('id','button_flip'),button_flip[_0x28161d(0x1f5)](_0x28161d(0xf4),Flip),button_flip['style'][_0x28161d(0x2ae)]=String(canvas_x+0x186)+'px',button_flip['textContent']='反転',button_flip['style'][_0x28161d(0x314)]=_0x28161d(0x203);FREE?button_flip[_0x28161d(0x213)][_0x28161d(0x2b4)]=String(0x2a)+'px':button_flip[_0x28161d(0x213)]['width']=String(BUTTON_WIDTH+0x6)+'px';function Flip(){bdinv_flg=0x1-bdinv_flg,draw_board();}var button_help=document[_0x28161d(0x21c)](_0x28161d(0x2d9));button_help[_0x28161d(0x284)]('id',_0x28161d(0x2d0)),button_help[_0x28161d(0x1f5)](_0x28161d(0xf4),Help),button_help[_0x28161d(0x213)][_0x28161d(0x2ae)]=String(canvas_x+0x1bd)+'px',button_help[_0x28161d(0x224)]=_0x28161d(0x17e),button_help[_0x28161d(0x213)][_0x28161d(0x314)]=_0x28161d(0x203),button_help[_0x28161d(0x213)][_0x28161d(0x2b4)]=String(BUTTON_WIDTH)+'px';function Help(){const _0x106cec=_0x28161d;let _0x50cabe=KJ_DIR+_0x106cec(0x1a5);FREE&&(_0x50cabe=KJ_DIR+_0x106cec(0x111)),console[_0x106cec(0x2f2)](_0x106cec(0x1c1)+_0x50cabe),window[_0x106cec(0x206)](_0x50cabe,'_blank',_0x106cec(0x1b9));}var button_env=document[_0x28161d(0x21c)](_0x28161d(0x2d9));button_env[_0x28161d(0x284)]('id',_0x28161d(0x30e)),button_env['textContent']='設定',button_env[_0x28161d(0x213)]['fontSize']='11px',button_env['style']['width']=_0x28161d(0x28f),set_buttons(button_top),set_buttons(button_backr),set_buttons(button_back),set_buttons(button_stop),set_buttons(button_next),set_buttons(button_nextr),set_buttons(button_last);FREE&&(set_buttons(button_backB),set_buttons(button_nextB));set_buttons(button_flip),set_buttons(button_help),set_buttons(button_env);function set_button_positions(_0x334773){const _0x1792b3=_0x28161d;if(_0x334773){if(isIPad){console[_0x1792b3(0x2e3)](_0x1792b3(0x322));return;}if(isIOS){console[_0x1792b3(0x2e3)]('###\x20iOS');return;}}let _0x2c37bb=canvas[_0x1792b3(0x136)](),_0x22d701=_0x2c37bb[_0x1792b3(0x2ae)],_0x430013=_0x2c37bb[_0x1792b3(0x1d1)],_0x447179=document['body']['scrollTop'],_0x5dbaf4=document[_0x1792b3(0x30a)][_0x1792b3(0x21f)];if(_0x5dbaf4>_0x447179)_0x430013+=_0x5dbaf4;else _0x430013+=_0x447179;console[_0x1792b3(0x2f2)](_0x1792b3(0x10b)+_0x430013);const _0x487ada=0x5;let _0x5b485e=0xa;FREE&&(_0x5b485e=0x8);button_top[_0x1792b3(0x213)]['left']=String(_0x22d701+_0x487ada)+'px',button_backr[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0x22d701+_0x487ada+BUTTON_WIDTH+_0x5b485e)+'px',button_back[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0x22d701+_0x487ada+(BUTTON_WIDTH+_0x5b485e)*0x2)+'px',button_stop['style']['left']=String(_0x22d701+_0x487ada+(BUTTON_WIDTH+_0x5b485e)*0x3)+'px',button_next[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0x22d701+_0x487ada+(BUTTON_WIDTH+_0x5b485e)*0x4)+'px',button_nextr[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0x22d701+_0x487ada+(BUTTON_WIDTH+_0x5b485e)*0x5)+'px',button_last[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0x22d701+_0x487ada+(BUTTON_WIDTH+_0x5b485e)*0x6)+'px';FREE?(button_backB[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0x22d701+_0x487ada+(BUTTON_WIDTH+_0x5b485e)*0x7)+'px',button_nextB['style']['left']=String(_0x22d701+_0x487ada+(BUTTON_WIDTH+_0x5b485e)*0x8)+'px',button_flip[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0x22d701+_0x487ada+(BUTTON_WIDTH+_0x5b485e)*0x9)+'px',button_help[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0x22d701+_0x487ada+(BUTTON_WIDTH+_0x5b485e)*0xa+0x2)+'px'):(button_flip['style'][_0x1792b3(0x2ae)]=String(_0x22d701+_0x487ada+0x17c)+'px',button_help['style']['left']=String(_0x22d701+_0x487ada+0x1b3)+'px');let _0x1ad202=String(_0x430013+TOP_INFO_H+0x4)+'px';button_top[_0x1792b3(0x213)]['top']=_0x1ad202,button_backr['style'][_0x1792b3(0x1d1)]=_0x1ad202,button_back[_0x1792b3(0x213)]['top']=_0x1ad202,button_stop[_0x1792b3(0x213)][_0x1792b3(0x1d1)]=_0x1ad202,button_next[_0x1792b3(0x213)][_0x1792b3(0x1d1)]=_0x1ad202,button_nextr[_0x1792b3(0x213)][_0x1792b3(0x1d1)]=_0x1ad202,button_last['style']['top']=_0x1ad202;FREE&&(button_backB[_0x1792b3(0x213)][_0x1792b3(0x1d1)]=_0x1ad202,button_nextB['style']['top']=_0x1ad202);button_flip[_0x1792b3(0x213)][_0x1792b3(0x1d1)]=_0x1ad202,button_help[_0x1792b3(0x213)]['top']=_0x1ad202,button_env[_0x1792b3(0x213)]['top']=_0x1ad202,button_env[_0x1792b3(0x213)]['height']=_0x1792b3(0x253);let _0x147ae9=String(_0x430013+COMMENT_TOP)+'px';comment_textarea[_0x1792b3(0x213)]['top']=_0x147ae9;HTML_COMMENT&&(comment_div['style'][_0x1792b3(0x1d1)]=_0x147ae9);COMM_LEFT=_0x22d701+0xaf;if(FREE){COMM_LEFT=_0x22d701+0x2;const _0x1169ad=0x2,_0x1c9a0d=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+_0x1169ad;let _0x3d320a=_0x22d701+_0x1c9a0d+MOTI_SIZE_X+0x1-_0x1169ad;comment_textarea['style'][_0x1792b3(0x2b4)]=String(_0x3d320a-COMM_LEFT)+'px',HTML_COMMENT&&(comment_div['style'][_0x1792b3(0x2b4)]=String(_0x3d320a-COMM_LEFT)+'px');}comment_textarea[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(COMM_LEFT)+'px';HTML_COMMENT&&(comment_div[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(COMM_LEFT)+'px');if(FREE){let _0x44c9c2=KOMADAI_RIGHT_X+MOTI_SIZE_X;button_env[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0x22d701+_0x44c9c2-0x2c)+'px';}else{let _0x5c114b=COMM_LEFT+COM_WIDTH;button_env[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0x5c114b-0x2c)+'px';}let _0xab8202=_0x22d701+0x2;kifu_select[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0xab8202)+'px';FREE?kifu_select[_0x1792b3(0x213)]['top']=String(_0x430013+0xb9)+'px':kifu_select[_0x1792b3(0x213)]['top']=String(_0x430013+TOP_INFO_H+0x174)+'px';FREE&&(branch_select[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0xab8202)+'px');button_save[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0xab8202)+'px';FREE?adjust_kifu_position():typeof UPDATE_TIME!==_0x1792b3(0x241)?button_save[_0x1792b3(0x213)][_0x1792b3(0x1d1)]=String(_0x430013+TOP_INFO_H+0x20c)+'px':button_save[_0x1792b3(0x213)][_0x1792b3(0x1d1)]=String(_0x430013+TOP_INFO_H+0x20c+0x18)+'px';update_select[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0xab8202)+'px';if(FREE)update_select[_0x1792b3(0x213)][_0x1792b3(0x1d1)]=String(_0x430013+0xbd+0x82+0x2+0x18+0x4)+'px';else update_select[_0x1792b3(0x213)][_0x1792b3(0x1d1)]=String(_0x430013+TOP_INFO_H+0x228)+'px';if(!FREE){let _0x3f0ecf=0x2,_0x32458b=_0x22d701+0x4;!small_header_flg&&(typeof top_label1!==_0x1792b3(0x241)&&top_label1!=null&&(top_label1[_0x1792b3(0x213)][_0x1792b3(0x2ae)]=String(_0x32458b)+'px',top_label1['style'][_0x1792b3(0x1d1)]=String(_0x430013+_0x3f0ecf)+'px'),typeof top_label2!==_0x1792b3(0x241)&&top_label2!=null&&(top_label2['style']['left']=String(_0x32458b)+'px',top_label2[_0x1792b3(0x213)]['top']=String(_0x430013+_0x3f0ecf+0x14)+'px'));let _0x216827;if(small_header_flg)_0x216827=_0x3f0ecf+0x10;else _0x216827=_0x3f0ecf+0x3c;typeof top_label3!==_0x1792b3(0x241)?(top_label3[_0x1792b3(0x213)][_0x1792b3(0x1d1)]=String(_0x430013+_0x216827-0x10)+'px',top_label3['style'][_0x1792b3(0x2ae)]=String(_0x32458b)+'px',top_label3[_0x1792b3(0x213)][_0x1792b3(0x257)]=_0x1792b3(0x1c9)):console['log'](_0x1792b3(0x27d));}typeof env_div!==_0x1792b3(0x241)&&env_div!=null?(env_div[_0x1792b3(0x213)][_0x1792b3(0x1d1)]=String(_0x430013+0x78)+'px',FREE?env_div[_0x1792b3(0x213)]['left']=String(_0x22d701+0x96)+'px':env_div[_0x1792b3(0x213)]['left']=String(_0x22d701+0xaa)+'px'):console[_0x1792b3(0x2f2)](_0x1792b3(0x120));}function ___COMMENT________(){}var comment_textarea=document['createElement']('textarea');comment_textarea[_0x28161d(0x284)]('id',_0x28161d(0x301)),comment_textarea[_0x28161d(0x213)]['position']=_0x28161d(0x1de);let comment_top_str=String(canvas_top+COMMENT_TOP)+'px';comment_textarea[_0x28161d(0x213)][_0x28161d(0x1d1)]=comment_top_str,console[_0x28161d(0x2f2)](_0x28161d(0x1fb)+comment_hight),comment_textarea[_0x28161d(0x213)][_0x28161d(0x1ee)]=String(comment_hight)+'px';const COM_WIDTH=0x1b2;comment_textarea['style'][_0x28161d(0x2b4)]=String(COM_WIDTH)+'px',console[_0x28161d(0x2f2)](_0x28161d(0x22f)+COM_WIDTH);var COMM_LEFT=canvas_x+0xaf;if(FREE){COMM_LEFT=canvas_x+0x2;const GAP=0x2,OX=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+GAP;let right=canvas_x+OX+MOTI_SIZE_X+0x1-GAP;comment_textarea[_0x28161d(0x213)][_0x28161d(0x2b4)]=String(right-COMM_LEFT)+'px';}else{}console[_0x28161d(0x2f2)]('#\x20COMM_LEFT='+COMM_LEFT),comment_textarea[_0x28161d(0x213)][_0x28161d(0x2ae)]=String(COMM_LEFT)+'px';!HTML_COMMENT&&document[_0x28161d(0x247)][_0x28161d(0x292)](comment_textarea);comment_textarea[_0x28161d(0x213)][_0x28161d(0x314)]='11pt',comment_textarea[_0x28161d(0x213)][_0x28161d(0x309)]=_0x28161d(0x221),comment_textarea[_0x28161d(0x153)]=!![],comment_textarea[_0x28161d(0x213)][_0x28161d(0x118)]='none';var comment_div=document[_0x28161d(0x21c)](_0x28161d(0x324));comment_div[_0x28161d(0x213)][_0x28161d(0x104)]=_0x28161d(0x1de),comment_div[_0x28161d(0x213)][_0x28161d(0x1d1)]=String(canvas_top+COMMENT_TOP+0x0)+'px',comment_div[_0x28161d(0x213)][_0x28161d(0x1ee)]=String(comment_hight)+'px';if(FREE){COMM_LEFT=canvas_x+0x2;const GAP=0x2,OX=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+GAP;let right=canvas_x+OX+MOTI_SIZE_X+0x1-GAP;comment_div[_0x28161d(0x213)][_0x28161d(0x2b4)]=String(right-COMM_LEFT)+'px';}else comment_div['style'][_0x28161d(0x2b4)]=String(COM_WIDTH)+'px';comment_div['style'][_0x28161d(0x2ae)]=String(COMM_LEFT)+'px',comment_div['style'][_0x28161d(0x25c)]='#fefefe',comment_div['style'][_0x28161d(0x148)]=_0x28161d(0x1cf),comment_div['style']['overflowY']=_0x28161d(0x27c),comment_div['style'][_0x28161d(0x1f1)]='anywhere';let cssText=comment_div[_0x28161d(0x213)][_0x28161d(0x31c)];comment_div[_0x28161d(0x213)][_0x28161d(0x31c)]=cssText+_0x28161d(0x1ff),console[_0x28161d(0x2f2)](_0x28161d(0x28e)+comment_div[_0x28161d(0x213)][_0x28161d(0x31c)]);HTML_COMMENT&&document[_0x28161d(0x247)]['appendChild'](comment_div);var comment_div_p=document[_0x28161d(0x21c)]('p');comment_div_p['setAttribute']('id',_0x28161d(0x17c)),comment_div_p[_0x28161d(0x213)]['position']=_0x28161d(0x1de),comment_div_p[_0x28161d(0x213)][_0x28161d(0x1d1)]=String(0x0)+'px',comment_div_p[_0x28161d(0x213)][_0x28161d(0x314)]=String(comment_str_size)+'pt',comment_div_p[_0x28161d(0x213)][_0x28161d(0x309)]=_0x28161d(0x221),comment_div_p['style']['margin']=_0x28161d(0x2e8);HTML_COMMENT&&comment_div['appendChild'](comment_div_p);function KIFU_SELECT_____________(){}let kifu_sel_width=_0x28161d(0x1a9);if(FREE)kifu_sel_width=_0x28161d(0x178);var kifu_select=document['createElement'](_0x28161d(0x1a4));kifu_select['setAttribute']('id',_0x28161d(0x23b)),kifu_select[_0x28161d(0x213)][_0x28161d(0x104)]=_0x28161d(0x1de);FREE?kifu_select[_0x28161d(0x213)][_0x28161d(0x1d1)]=String(canvas_top+0xbb)+'px':kifu_select['style'][_0x28161d(0x1d1)]=String(canvas_top+TOP_INFO_H+0x174)+'px';let kifu_select_x=canvas_x+0x2;kifu_select['style']['left']=String(kifu_select_x)+'px',kifu_select[_0x28161d(0x213)][_0x28161d(0x2b4)]=kifu_sel_width;typeof UPDATE_TIME!==_0x28161d(0x241)?kifu_select[_0x28161d(0x1a2)]=0x7:kifu_select['size']=0x8;document[_0x28161d(0x247)]['appendChild'](kifu_select),kifu_select[_0x28161d(0x1f5)](_0x28161d(0x286),OnKifuSelectChange);isFirefox?kifu_select[_0x28161d(0x213)][_0x28161d(0x314)]='12px':kifu_select[_0x28161d(0x213)][_0x28161d(0x314)]='12px';kifu_select[_0x28161d(0x213)][_0x28161d(0x31b)]=_0x28161d(0x2e0),console[_0x28161d(0x2f2)]('##\x20kifu_select\x20offsetHeight='+kifu_select[_0x28161d(0x2fe)]);let ks_h=kifu_select[_0x28161d(0x136)]()[_0x28161d(0x1ee)];console[_0x28161d(0x2f2)]('##\x20ks_h='+ks_h);var branch_select=document[_0x28161d(0x21c)](_0x28161d(0x1a4));branch_select[_0x28161d(0x213)]['position']=_0x28161d(0x1de);if(FREE){if(typeof UPDATE_TIME!==_0x28161d(0x241))branch_select[_0x28161d(0x213)][_0x28161d(0x1d1)]=String(canvas_top+0xbd+0x82+0x2-0x11)+'px';else branch_select['style']['top']=String(canvas_top+0xbd+0x96+0x2-0x11)+'px';}else branch_select[_0x28161d(0x213)][_0x28161d(0x1d1)]=String(canvas_top+TOP_INFO_H+0x228)+'px';branch_select[_0x28161d(0x213)][_0x28161d(0x2ae)]=String(kifu_select_x)+'px',branch_select[_0x28161d(0x213)][_0x28161d(0x2b4)]=kifu_sel_width,branch_select[_0x28161d(0x213)][_0x28161d(0x314)]='12px';FREE&&(document['body'][_0x28161d(0x292)](branch_select),branch_select['addEventListener']('change',OnBranchChange));function KIFU_SAVE________(){}var button_save=document[_0x28161d(0x21c)](_0x28161d(0x2d9));button_save['addEventListener'](_0x28161d(0xf4),OnButtonSaveClick),button_save['style'][_0x28161d(0x104)]=_0x28161d(0x1de),button_save['style']['left']=String(kifu_select_x)+'px',button_save['style']['width']=kifu_sel_width;if(FREE){if(typeof UPDATE_TIME!==_0x28161d(0x241))button_save['style'][_0x28161d(0x1d1)]=String(canvas_top+0xbd+0x82+0x2)+'px';else button_save[_0x28161d(0x213)]['top']=String(canvas_top+0xbd+0x96+0x2)+'px';}else{if(typeof UPDATE_TIME!=='undefined')button_save['style']['top']=String(canvas_top+TOP_INFO_H+0x20c)+'px';else{}}button_save[_0x28161d(0x213)][_0x28161d(0x1ee)]=_0x28161d(0x283),button_save[_0x28161d(0x224)]=_0x28161d(0x25b),document[_0x28161d(0x247)][_0x28161d(0x292)](button_save);function OnButtonSaveClick(){const _0x179f3d=_0x28161d;console[_0x179f3d(0x2f2)]('#\x20OnButtonSaveClick\x20\x20\x20');let _0x5d05af=get_kif_url();window[_0x179f3d(0x206)](_0x5d05af,_0x179f3d(0x2c8));}var update_select=document['createElement'](_0x28161d(0x1a4));update_select['setAttribute']('id',_0x28161d(0x2c0)),update_select[_0x28161d(0x213)][_0x28161d(0x104)]='absolute';if(FREE)update_select['style'][_0x28161d(0x1d1)]=String(canvas_top+0xbd+0x82+0x2+0x18+0x4)+'px';else update_select['style']['top']=String(canvas_top+TOP_INFO_H+0x228)+'px';update_select[_0x28161d(0x213)]['left']=String(kifu_select_x)+'px',update_select[_0x28161d(0x213)][_0x28161d(0x2b4)]=kifu_sel_width;let op=document[_0x28161d(0x21c)](_0x28161d(0x167));op[_0x28161d(0x319)]=0x0,op[_0x28161d(0x1bd)]=_0x28161d(0x2b2),update_select[_0x28161d(0x292)](op);let op1=document['createElement'](_0x28161d(0x167));op1[_0x28161d(0x319)]=0x1,op1[_0x28161d(0x1bd)]=_0x28161d(0x236),update_select[_0x28161d(0x292)](op1);let op2=document[_0x28161d(0x21c)](_0x28161d(0x167));op2[_0x28161d(0x319)]=0x2,op2[_0x28161d(0x1bd)]=_0x28161d(0x2d2),update_select[_0x28161d(0x292)](op2);let op3=document[_0x28161d(0x21c)](_0x28161d(0x167));op3[_0x28161d(0x319)]=0x3,op3[_0x28161d(0x1bd)]=_0x28161d(0x2f0),update_select['appendChild'](op3);typeof UPDATE_TIME!=='undefined'&&(document['body'][_0x28161d(0x292)](update_select),update_select[_0x28161d(0x1f5)](_0x28161d(0x286),OnUpdateChange));function adjust_kifu_position(){const _0x13e521=_0x28161d;console['log'](_0x13e521(0x215));FREE&&(Kifu[_0x13e521(0x23f)]==0x0?(button_backB[_0x13e521(0x213)]['display']=_0x13e521(0x2c7),button_nextB['style'][_0x13e521(0x27a)]='none',branch_select['style']['display']='none'):(button_backB[_0x13e521(0x213)][_0x13e521(0x27a)]=_0x13e521(0x146),button_nextB[_0x13e521(0x213)]['display']=_0x13e521(0x146),branch_select[_0x13e521(0x213)][_0x13e521(0x27a)]=_0x13e521(0x146)));FREE?typeof UPDATE_TIME!=='undefined'?Kifu[_0x13e521(0x23f)]==0x1?kifu_select[_0x13e521(0x1a2)]=0x6:kifu_select[_0x13e521(0x1a2)]=0x7:Kifu[_0x13e521(0x23f)]==0x1?kifu_select[_0x13e521(0x1a2)]=0x7:kifu_select[_0x13e521(0x1a2)]=0x8:typeof UPDATE_TIME!==_0x13e521(0x241)?kifu_select[_0x13e521(0x1a2)]=0x7:kifu_select['size']=0x8;console[_0x13e521(0x2f2)](_0x13e521(0x123)+kifu_select[_0x13e521(0x23c)]);let _0x4531f9=canvas[_0x13e521(0x136)](),_0x5ab5c5=_0x4531f9[_0x13e521(0x2ae)],_0xb958b4=_0x4531f9[_0x13e521(0x1d1)],_0x4bb932=document[_0x13e521(0x247)][_0x13e521(0x21f)],_0x2f6cdb=document['documentElement'][_0x13e521(0x21f)];console['log']('###\x20set_button_positions\x20scroll_top2='+_0x2f6cdb);if(_0x2f6cdb>_0x4bb932)_0xb958b4+=_0x2f6cdb;else _0xb958b4+=_0x4bb932;let _0x5c486b=_0x5ab5c5+0x2;!isIPad&&!isIOS&&(kifu_select[_0x13e521(0x213)]['left']=String(_0x5c486b)+'px');if(FREE){if(typeof UPDATE_TIME!==_0x13e521(0x241)){branch_select['style'][_0x13e521(0x1d1)]=String(_0xb958b4+0xbb+0x84+0x2-0x11)+'px';if(Kifu[_0x13e521(0x23f)]==0x1){}else{}}else{branch_select[_0x13e521(0x213)][_0x13e521(0x1d1)]=String(_0xb958b4+0xbd+0x96+0x2-0x11)+'px';if(Kifu['bunki_flg']==0x1){}else{}}branch_select[_0x13e521(0x213)][_0x13e521(0x2ae)]=String(_0x5c486b)+'px';}else branch_select[_0x13e521(0x213)]['top']=String(_0xb958b4+TOP_INFO_H+0x228)+'px';if(FREE)Kifu[_0x13e521(0x23f)]==0x1?typeof UPDATE_TIME!==_0x13e521(0x241)?(button_save[_0x13e521(0x213)][_0x13e521(0x1ee)]='22px',button_save[_0x13e521(0x213)][_0x13e521(0x1d1)]=String(_0xb958b4+0xbd+0x82+0x5)+'px'):button_save[_0x13e521(0x213)]['top']=String(_0xb958b4+0xbd+0x96+0x5)+'px':typeof UPDATE_TIME!=='undefined'?button_save['style']['top']=String(_0xb958b4+0xbd+0x82+0x5)+'px':button_save[_0x13e521(0x213)][_0x13e521(0x1d1)]=String(_0xb958b4+0xbd+0x96+0x5)+'px';else{if(typeof UPDATE_TIME!==_0x13e521(0x241)){}else{}}if(isIPad||isIOS)return;button_save[_0x13e521(0x213)][_0x13e521(0x2ae)]=String(_0x5c486b)+'px',update_select['style'][_0x13e521(0x2ae)]=String(_0x5c486b)+'px';}set_button_positions(![]);function ___ENV_________(){}var env_div=document[_0x28161d(0x21c)]('div');env_div['style'][_0x28161d(0x257)]=_0x28161d(0x1c9),env_div[_0x28161d(0x216)]=_0x28161d(0x267),env_div[_0x28161d(0x213)][_0x28161d(0x2b4)]='300px',env_div[_0x28161d(0x213)][_0x28161d(0x104)]='absolute';{let canvas_rect=canvas[_0x28161d(0x136)](),canvas_top=canvas_rect['top'],scroll_top=document[_0x28161d(0x247)][_0x28161d(0x21f)],scroll_top2=document[_0x28161d(0x30a)][_0x28161d(0x21f)];if(scroll_top2>scroll_top)canvas_top+=scroll_top2;else canvas_top+=scroll_top;env_div[_0x28161d(0x213)][_0x28161d(0x1d1)]=String(canvas_top+0x78)+'px';}FREE?env_div['style'][_0x28161d(0x2ae)]=String(canvas_x+0x96)+'px':env_div[_0x28161d(0x213)]['left']=String(canvas_x+0xaa)+'px';env_div[_0x28161d(0x213)][_0x28161d(0x1ee)]='150px',env_div[_0x28161d(0x213)][_0x28161d(0x25c)]=_0x28161d(0x287),env_div['style'][_0x28161d(0x148)]=_0x28161d(0x1cf),document[_0x28161d(0x247)][_0x28161d(0x292)](env_div);let modal_content=document['createElement'](_0x28161d(0x324));modal_content[_0x28161d(0x216)]=_0x28161d(0x227),modal_content[_0x28161d(0x213)]['padding']='20px',env_div[_0x28161d(0x213)][_0x28161d(0x27a)]='none',env_div['appendChild'](modal_content);let modal_p=document['createElement']('p'),ver=version[_0x28161d(0x14b)](0x1);FREE?modal_p[_0x28161d(0x18d)]=_0x28161d(0x248)+'\u3000Version\x20'+ver:modal_p['textContent']=_0x28161d(0x127)+ver;modal_p[_0x28161d(0x213)][_0x28161d(0x104)]='absolute',modal_p[_0x28161d(0x213)][_0x28161d(0x1d1)]=String(0x5a)+'px',modal_p[_0x28161d(0x213)]['fontSize']=_0x28161d(0x203),modal_content[_0x28161d(0x292)](modal_p);let modal_p2=document['createElement']('p');modal_p2[_0x28161d(0x224)]=_0x28161d(0x1ab),modal_p2['style']['position']=_0x28161d(0x1de),modal_p2[_0x28161d(0x213)][_0x28161d(0x1d1)]=String(0x6e)+'px',modal_p2['style'][_0x28161d(0x314)]='11px',modal_content[_0x28161d(0x292)](modal_p2);let komaoto_check2=document[_0x28161d(0x21c)](_0x28161d(0x2fc));komaoto_check2[_0x28161d(0x284)](_0x28161d(0x11b),_0x28161d(0x12a)),komaoto_check2['style'][_0x28161d(0x104)]=_0x28161d(0x1de);let check_top2=0xa;komaoto_check2[_0x28161d(0x213)][_0x28161d(0x1d1)]=String(check_top2)+'px',komaoto_check2[_0x28161d(0x213)]['left']=String(0x14)+'px';if(komaoto_flg==![])komaoto_check2['checked']=![];else komaoto_check2[_0x28161d(0x1d6)]=!![];komaoto_check2[_0x28161d(0x1f5)]('change',komaotoOnChange2),modal_content[_0x28161d(0x292)](komaoto_check2);function komaotoOnChange2(){const _0x68a3a4=_0x28161d;komaoto_flg=komaoto_check2[_0x68a3a4(0x1d6)],console[_0x68a3a4(0x2f2)](_0x68a3a4(0x1ca)+komaoto_flg),document['cookie']=_0x68a3a4(0x2fd)+komaoto_flg+COOKIE_STR,komaoto_flg&&Komaoto();}let label_size_str='12px';var komaoto_label2=document[_0x28161d(0x21c)](_0x28161d(0x128));komaoto_label2[_0x28161d(0x292)](document[_0x28161d(0x17a)]('駒音')),komaoto_label2[_0x28161d(0x213)][_0x28161d(0x104)]=_0x28161d(0x1de),komaoto_label2[_0x28161d(0x213)][_0x28161d(0x1d1)]=String(check_top2)+'px',komaoto_label2[_0x28161d(0x213)][_0x28161d(0x2ae)]=String(0x14+0x16)+'px',komaoto_label2['style'][_0x28161d(0x314)]=label_size_str,modal_content[_0x28161d(0x292)](komaoto_label2);let mokume_check=document[_0x28161d(0x21c)]('input');mokume_check['setAttribute']('type','checkbox'),mokume_check[_0x28161d(0x213)][_0x28161d(0x104)]=_0x28161d(0x1de);let mokume_top=check_top2+0x0;mokume_check[_0x28161d(0x213)]['top']=String(mokume_top)+'px',mokume_check['style']['left']=String(0x78)+'px';if(muji_flg)mokume_check[_0x28161d(0x1d6)]=![];else mokume_check[_0x28161d(0x1d6)]=!![];mokume_check['addEventListener'](_0x28161d(0x286),mokumeoOnChange),modal_content[_0x28161d(0x292)](mokume_check);function mokumeoOnChange(){const _0xb18709=_0x28161d;muji_flg=!mokume_check[_0xb18709(0x1d6)],console[_0xb18709(0x2f2)](_0xb18709(0x277)+muji_flg),document['cookie']=_0xb18709(0x2db)+muji_flg+COOKIE_STR,draw_board();}let mokume_label=document[_0x28161d(0x21c)](_0x28161d(0x128));mokume_label[_0x28161d(0x292)](document[_0x28161d(0x17a)]('木目')),mokume_label[_0x28161d(0x213)][_0x28161d(0x104)]='absolute',mokume_label['style'][_0x28161d(0x1d1)]=String(mokume_top)+'px',mokume_label['style'][_0x28161d(0x2ae)]=String(0x78+0x16)+'px',mokume_label[_0x28161d(0x213)]['fontSize']=label_size_str,modal_content[_0x28161d(0x292)](mokume_label);let toryo_top=check_top2+0x16;if(!FREE){let toryo_check=document[_0x28161d(0x21c)]('input');toryo_check[_0x28161d(0x284)](_0x28161d(0x11b),_0x28161d(0x12a)),toryo_check[_0x28161d(0x213)][_0x28161d(0x104)]=_0x28161d(0x1de),toryo_check['style'][_0x28161d(0x1d1)]=String(toryo_top)+'px',toryo_check[_0x28161d(0x213)][_0x28161d(0x2ae)]=String(0x14)+'px';if(toryo_sound_flg)toryo_check['checked']=!![];else toryo_check['checked']=![];toryo_check['addEventListener'](_0x28161d(0x286),toryoOnChange),modal_content[_0x28161d(0x292)](toryo_check);function toryoOnChange(){const _0x5a2b8f=_0x28161d;toryo_sound_flg=toryo_check['checked'],console[_0x5a2b8f(0x2f2)](_0x5a2b8f(0x1af)+toryo_sound_flg),document['cookie']=_0x5a2b8f(0x2d1)+toryo_sound_flg+COOKIE_STR,game_end_sound();}let toryo_label=document[_0x28161d(0x21c)](_0x28161d(0x128));toryo_label[_0x28161d(0x292)](document[_0x28161d(0x17a)](_0x28161d(0x26f))),toryo_label['style'][_0x28161d(0x104)]=_0x28161d(0x1de),toryo_label[_0x28161d(0x213)][_0x28161d(0x1d1)]=String(toryo_top)+'px',toryo_label[_0x28161d(0x213)][_0x28161d(0x2ae)]=String(0x14+0x16)+'px',toryo_label[_0x28161d(0x213)][_0x28161d(0x314)]=label_size_str,modal_content[_0x28161d(0x292)](toryo_label);}let comm_label=document[_0x28161d(0x21c)](_0x28161d(0x128));comm_label[_0x28161d(0x292)](document[_0x28161d(0x17a)](_0x28161d(0x271))),comm_label[_0x28161d(0x213)][_0x28161d(0x104)]=_0x28161d(0x1de),comm_label['style']['top']=String(toryo_top+0x1e)+'px',comm_label[_0x28161d(0x213)][_0x28161d(0x2ae)]=String(0x14)+'px',comm_label['style'][_0x28161d(0x314)]=label_size_str,modal_content['appendChild'](comm_label);var com_size_select=document[_0x28161d(0x21c)](_0x28161d(0x1a4));com_size_select[_0x28161d(0x213)][_0x28161d(0x104)]=_0x28161d(0x1de),com_size_select['style'][_0x28161d(0x1d1)]=String(toryo_top+0x1e)+'px',com_size_select[_0x28161d(0x213)][_0x28161d(0x2ae)]=String(0xb4)+'px',com_size_select[_0x28161d(0x213)][_0x28161d(0x2b4)]='100px';for(let pt=0x9;pt<0xf;pt++){let op=document['createElement']('option');op[_0x28161d(0x319)]=pt,op[_0x28161d(0x1bd)]=String(pt)+_0x28161d(0x147),com_size_select['appendChild'](op);}com_size_select[_0x28161d(0x106)]=comment_str_size-0x9,modal_content[_0x28161d(0x292)](com_size_select),com_size_select[_0x28161d(0x1f5)](_0x28161d(0x286),OnComSizeChange);function OnComSizeChange(){const _0x37fb19=_0x28161d;let _0x96cc63=com_size_select[_0x37fb19(0x106)],_0xb99ed3=0x9+_0x96cc63;console[_0x37fb19(0x2f2)](_0x37fb19(0x270)+_0x96cc63+'\x20pt='+_0xb99ed3),comment_div_p['style'][_0x37fb19(0x314)]=String(_0xb99ed3)+'pt',document['cookie']=_0x37fb19(0x20a)+_0xb99ed3+COOKIE_STR;}var button_close=document['createElement'](_0x28161d(0x2d9));button_close[_0x28161d(0x1f5)]('click',OnButtonClose),button_close[_0x28161d(0x213)][_0x28161d(0x104)]='absolute',button_close[_0x28161d(0x213)][_0x28161d(0x2ae)]=String(0xc8)+'px',button_close[_0x28161d(0x213)][_0x28161d(0x2b4)]=_0x28161d(0x2f8),button_close['style'][_0x28161d(0x1d1)]=String(0x14)+'px',button_close[_0x28161d(0x213)][_0x28161d(0x1ee)]=_0x28161d(0x283),button_close['textContent']=_0x28161d(0x22c),modal_content[_0x28161d(0x292)](button_close);function OnButtonClose(){const _0x3ca06b=_0x28161d;env_div['style'][_0x3ca06b(0x27a)]='none';}console[_0x28161d(0x2e3)](_0x28161d(0x25e)),button_env[_0x28161d(0x138)]=function(){const _0x2795a1=_0x28161d;console[_0x2795a1(0x2e3)](_0x2795a1(0x274)),env_div['style'][_0x2795a1(0x27a)]==_0x2795a1(0x146)?env_div['style']['display']=_0x2795a1(0x2c7):env_div[_0x2795a1(0x213)][_0x2795a1(0x27a)]=_0x2795a1(0x146);};function ___SOUND______(){}var komaoto;function Komaoto(){const _0x1fa582=_0x28161d;console[_0x1fa582(0x2f2)](_0x1fa582(0x24e));if(!komaoto_flg)return;if(komaoto==null)komaoto=new Audio(KJ_DIR+_0x1fa582(0x2a1));try{komaoto['play']();}catch(_0x28fbd4){console[_0x1fa582(0x2f2)](_0x28fbd4);}}function game_end_sound(){const _0x4ab880=_0x28161d;if(!komaoto_flg)return;if(FREE){Komaoto();return;}if(!toryo_sound_flg){Komaoto();return;}new Audio(KJ_DIR+'01S007.mp3')[_0x4ab880(0x175)]();}function ___TIMER______(){}var go_rep_flg=0x0,replay_stop_flg=0x0;let replay_timer_count=0x0;var replay_timer=function(){const _0x5661e1=_0x28161d;if(go_rep_flg==0x1){if(replay_stop_flg||Kifu['can_susumeru']()==0x0){ReplayStop();return;}let _0x37eee3=Kifu['get_next_move']();ExecMove(Kifu,cbd,0x0,_0x37eee3);}if(go_rep_flg==-0x1){if(replay_stop_flg||Kifu[_0x5661e1(0x242)]<=0x0){ReplayStop();return;}BackMove(Kifu,cbd,0x0,0x1);}replay_timer_count++;if(replay_timer_count==0x1){if(FREE){}}};setInterval(replay_timer,0x320);let updatew_timer_count=0x0;var update_timer=function(){const _0x3b4490=_0x28161d;console[_0x3b4490(0x2f2)](_0x3b4490(0x2fa)+updatew_timer_count);if(loading){console[_0x3b4490(0x2f2)](_0x3b4490(0x1c0));return;}let _0x421818=Kifu[_0x3b4490(0x242)];!Kifu[_0x3b4490(0x223)]()&&(_0x421818=-0x2);load_kifu('',Kifu,0x1,_0x421818),updatew_timer_count++;if(!FREE){if(typeof IMAGE_UPDATE!=='undefined'&&IMAGE_UPDATE){LoadImages(Kifu);return;}updatew_timer_count>=0x14&&(LoadImages(Kifu),updatew_timer_count=0x0);}},update_timer_id;if(typeof UPDATE_TIME!==_0x28161d(0x241)){update_select[_0x28161d(0x106)]=UPDATE_TIME;if(UPDATE_TIME==0x0)clearInterval(update_timer_id);else{if(UPDATE_TIME==0x1)update_timer_id=setInterval(update_timer,0x7530);else{if(UPDATE_TIME==0x2)update_timer_id=setInterval(update_timer,0xea60);else UPDATE_TIME==0x3?update_timer_id=setInterval(update_timer,0xea60*0x3):console['error'](_0x28161d(0x23e)+UPDATE_TIME);}}}document[_0x28161d(0x1f5)](_0x28161d(0x15e),_0x1c74c6=>{const _0x3904a6=_0x28161d;if(_0x1c74c6[_0x3904a6(0x230)][_0x3904a6(0x1d3)]===_0x3904a6(0x2ed)){}_0x1c74c6[_0x3904a6(0x230)][_0x3904a6(0x1d3)]===_0x3904a6(0x1bc)&&console[_0x3904a6(0x2f2)](_0x3904a6(0x212));}),window['addEventListener'](_0x28161d(0x118),function(){const _0x52637c=_0x28161d;console['log'](_0x52637c(0x1e4)),set_button_positions(!![]);},![]);function onDown(_0x5a25ec){}function onUp(_0x2c9a9d){const _0x3e25ee=_0x28161d;console[_0x3e25ee(0x2f2)](_0x3e25ee(0x26d));}function onClick(_0x37f57f){const _0x12af21=_0x28161d;let _0x1f0d14=document['body'][_0x12af21(0x21f)],_0x39e994=document['documentElement']['scrollTop'];console['log'](_0x12af21(0x158)+_0x39e994+_0x12af21(0x13e)+_0x1f0d14);_0x39e994>_0x1f0d14&&(_0x1f0d14=_0x39e994);let _0x591c68=_0x37f57f[_0x12af21(0x19c)]-canvas[_0x12af21(0x208)],_0x5cf160=_0x37f57f[_0x12af21(0x1e0)]-canvas['offsetTop']+_0x1f0d14;console[_0x12af21(0x2f2)](_0x12af21(0x198),_0x591c68,'y:',_0x5cf160),_0x5cf160>=BD_ORG_Y-EDGE_Y&&_0x5cf160<=BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y&&(console['log'](_0x12af21(0x121)),_0x591c68>=BD_ORG_X-EDGE_X&&_0x591c68<=BD_ORG_X+SQ_SIZE_X*0x3&&ReplayBack(),_0x591c68>=BD_ORG_X+SQ_SIZE_X*0x6&&_0x591c68<=BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X&&ReplayNext());}function touchUp(_0x4ee97b){const _0x2195f0=_0x28161d;console['log'](_0x2195f0(0x186));let _0x192cc5=_0x4ee97b[_0x2195f0(0x163)][0x0][_0x2195f0(0x310)]-canvas[_0x2195f0(0x208)],_0x419a09=_0x4ee97b[_0x2195f0(0x163)][0x0][_0x2195f0(0x20b)]-canvas[_0x2195f0(0x164)];console['log']('#\x20canX=',_0x192cc5,_0x2195f0(0x1ea),_0x419a09);}function touchDown(_0x329f79){const _0x455932=_0x28161d;console['log'](_0x455932(0x1ae));let _0x42ef4e=_0x329f79[_0x455932(0x163)][0x0][_0x455932(0x310)]-canvas[_0x455932(0x208)],_0x17e0ce=_0x329f79[_0x455932(0x163)][0x0][_0x455932(0x20b)]-canvas[_0x455932(0x164)];_0x17e0ce>=BD_ORG_Y-EDGE_Y&&_0x17e0ce<=BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y&&(console[_0x455932(0x2f2)](_0x455932(0x121)),_0x42ef4e>=BD_ORG_X-EDGE_X&&_0x42ef4e<=BD_ORG_X+SQ_SIZE_X*0x3&&ReplayBack(),_0x42ef4e>=BD_ORG_X+SQ_SIZE_X*0x6&&_0x42ef4e<=BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X&&ReplayNext());}function kifu_select_add_option(_0x36bf12,_0x3af11a,_0x3de26b){const _0x5c39ac=_0x28161d;var _0x522606=document[_0x5c39ac(0x21c)](_0x5c39ac(0x167));_0x522606['text']=_0x36bf12,_0x522606['value']=_0x3af11a,_0x522606[_0x5c39ac(0x240)]=_0x36bf12,FREE?_0x522606['style']['padding']='0px':_0x522606[_0x5c39ac(0x213)][_0x5c39ac(0x31b)]=_0x5c39ac(0x24c),kifu_select[_0x5c39ac(0x109)](_0x522606);}function _0x3c51(){const _0x4b9844=['#\x20mokumeoOnChange\x20\x20\x20','flip_teban','find_oya','display','---\x20set_bunki_combo','scroll','*\x20top_label3\x20===\x20\x27undefined\x27','持将棋','15px\x20\x27ＭＳ\x20Ｐゴシック\x27','strokeStyle','modify','gen_kiki','24px','setAttribute','init_teai','change','#fefefe','#\x20元\x20body.scrollTop=','href','Draw','font','focus','back','###\x20comment_div.style.cssText=','46px','kifu_root','time','appendChild','作品名：','%HIKIWAKE','mov_strm_kp','#\x20store_kifu\x20f=','disabled','<br>','touchstart','反則負け','iPod','三枚落ち','**\x20修飾子が決まらない\x20f=','#\x20StopAutoUpdate\x20','#\x20Not\x20Modified','ShohiGraph\x20COMM_LEFT=','ke-22c.mp3','error\x20tos=','csa_load','BackMove','getContext','***current_p_susumeru\x20current=null','length','#\x20分岐','sengo_mitei_flg','fillRect','happyoushi','branch','copy_from_board','left','%TIME_UP','NextB.gif','549508NimTwE','自動更新しない','\x20t=','width','start','#\x20LoadKoma\x20--','happyou_nengetu','BackB.gif','香落ち','**\x20store_kifu\x20move.k\x20===\x20\x27undefined\x27\x0a','#\x20OnUpdateChange\x20\x20val\x20=\x20','current_p','muji_flg=','13px\x20\x27メイリオ\x27','11px\x20\x27メイリオ\x27','update_select','Last.gif','#\x20====\x20TopInfo\x20======','date','abnormal_flg','***\x20set_kifu_list\x20i=','###\x20line3.length=','none','_blank','drawImage','500px','back_move','comment','rgb(255,\x20255,\x20200)','連続で戻す','mov_strm_sub','button_help','toryo_sound=','自動更新：60秒毎','###\x20top_label3.style.width=','***\x20move_data\x20error\x20k=0\x20f=','**\x20store\x20current_p=null\x0a','##\x20cbd.teai=','***\x20ban3.jpg\x20load\x20error','indexOf','button','***\x20ERROR\x20201:\x20消費時間の手数:','muji=','反則勝ち','square','先後未定：','\u3000\u3000☗','0px','後手持駒：','\x20k=','info','End\x20','next','持ち時間：','作者：','2px','右香落ち','前の分岐へ','clear_sq\x20onload\x20s=','get_motijikan','interactive','14px\x20\x27メイリオ\x27','残り時間：','自動更新：３分毎','#\x20file_url=','log','rgb(30,\x2030,\x2030)','#\x20piece_img.onload','###\x20total=','Nyugyoku\x20Win','false','80px','次の分岐へ','##\x20update_timer\x20','##\x20cookies','input','komaoto=','offsetHeight','jump_back','?te=','comment_textarea','promote','host','text/plain;\x20charset=Shift_JIS','add_comment','Back.gif','六枚落ち','後手反則負け','lineHeight','documentElement','%JISHOGI','piece_4g.png?','先手の持駒：','button_env','error','pageX','rgb(','\u3000\u3000変化なし','store_kifu','fontSize','===\x20終局\x20===','firstChild','caldir','\x20\x20９','value','move_data_to_moti','padding','cssText','onerror\x20','手数---','15px\x20\x27メイリオ\x27','onloadend','removeChild','iPadからのアクセス','toryo_sound','div','The\x20File\x20APIs\x20are\x20not\x20fully\x20supported\x20in\x20this\x20browser.','fillStyle','***\x20back','localhost','十枚落ち','###\x20html_kj_div\x20==\x20null','click','lastIndexOf','clear_sq\x20***\x20ban_img\x20==\x20null\x20s=','getElementById','左五枚落ち','%TORYO','#\x20komaotoOnChange\x20\x20\x20','true','rgb(255,\x20255,\x20255)','***\x20打って成る','function','clearRect','#\x20先後未定=','ontouchend','userAgent=','.csa','position','Mate','selectedIndex','開始局面\x20消費時間（１手/累積）','exec_move','add','motigoma','##\x20set_button_positions\x20canvas_top=','rgb(85,\x2085,\x2085)','\x22\x20target=\x22_blank\x22','current_p_susumeru','button_nextr','rgb(204,\x20158,\x20111)','free_help.html','is_bunki_n','Final','hirate','sakuhinmei','clear_sq\x20s=','\x20h=','resize','blur','<a\x20href=\x22h','type','onkeydown','127.0.0.1','#\x20kifu_line','###\x20html_kj_div\x20!=\x20null','*\x20env_div\x20===\x20\x27undefined\x27','Y\x20盤内','#\x20OnButtonNextRClick\x20\x20\x20','##\x20clientHeight=','charAt','後手の持駒：','clr_bd_data','\u3000Kifu\x20for\x20JavaScript\x20Pro\x20Version\x20','label','cookie','checkbox','min','先手番','#\x20OnKifuSelectChange\x20val=','***\x20exec_move\x20error\x20f=','###\x20START_TESUU=','is_syuukyoku','***\x20駒の名前が違います。\x20','get_new_kp','\x20\x20canvas.offsetLeft=','replace','#\x20te=','getBoundingClientRect','飛車落ち','onclick','end_date','1124174nUIqnx','LAST','下手番','\x20move_no2=','\x20scroll_top=','\x20kf=','FileList','\x27**','KIF\x20onload','fillText','move_data','src','block','\x20ポイント','border','black','toLowerCase','substring','get_total_time_kp','576825Xifvau','setbd','%ILLEGAL_MOVE','\x20/\x20','後手番','＊開始局面\x20消費時間（１手/累積）','readOnly','onerror','NextR.gif','連続で進める','先手持駒：','##\x20onClick\x20scroll_top2=','substr','\x20─\x20','***current_p_susumeru\x20branch=null','☖未定','FileReader','readystatechange','getTime','☗未定','kifu_array[1]:f=','***\x20piece_4g.png\x20load\x20error','targetTouches','offsetTop','ReplayStop','***\x20駒がない\x20f=','option','手番：後手','\x20COM_WIDTH','##\x20------\x20load_kifu_sub\x20call_tesuu=','手番：先手','Stop.gif','駒の名前と移動元が一致しません。\x0a','get_main_all_time','search','comment_str_size','rgb(128,\x20128,\x20128)','split','残り時間：終局まで','test','play','発表年月：','四枚落ち','118px','▲未定','createTextNode','uniq','comment_p','開始日時：','Help','8925510LFcmnM','button_top','切れ負け','#\x20csa_load\x20call_tesuu=','rgb(255,\x20255,\x20153)','GET','</a>','###\x20touchUp\x20','千日手','text/plain;\x20charset=UTF-8','$START_TIME:','RATE=','先手持ち駒','入玉勝ち','innerHTML','下手の持駒：','get_koma_2posi','shohi_jikan','###\x20sente_shohi=','statusText','***load_bod_sub2\x20error\x20','入玉宣言勝ち','get_last_move','BackMove\x20移動元の駒を描く\x20','持駒：','onClick\x20x:','#\x20canvas\x20top=','20px\x20\x27メイリオ\x27','発表誌：','clientX','kifu_array','***\x20ERROR\x20202:\x20消費時間:','***\x20get_new_kp\x20error','***\x20get_kifup\x20error\x20n=','sente_name','size','飛香落ち','select','help.html','１手進める','###\x20Window.focus\x20###','myCanvas.style.width=','170px','%KACHI','Copyright\x20(C)\x202020,\x20Yoshikazu\x20Kakinoki','13px\x20\x27ＭＳ\x20Ｐゴシック\x27','手番：上手','###\x20touchDown\x20','#\x20toryo_sound_flg\x20\x20\x20','erak','角落ち','rgb(255,\x200,\x200)','リーグ成績：','#\x20documentElement.scrollTop=','trim','button_stop','変化：','status','width=643,height=842','###\x20TopInfo\x20canvas_top=','上手：','complete','text','**\x20store\x20move.k\x20===\x20\x27undefined\x27\x0a','keyCode','####\x20loading\x20','Help\x20file_url=','棋戦：','#\x20body.scrollTop=','\x20abnormal_flg=','board','load_teai_sub\x20teban=','Blob','seiseki','center','#\x20komaotoOnChange2\x20\x20\x20','その他','</a></FONT></U>','toryo_sound_flg=','**\x20store_kifu\x20move.k\x20===\x20\x27undefined\x27\x0a\x20f=','1px\x20solid\x20#888','lineTo','top','genmovq\x20f=','readyState','motijikan','場所：','checked','八枚落ち','onload','syutten','6nIbhdR','2677087xUFoxG','Spend','===\x20load_kifu\x20===','absolute','get_comment','clientY','手番：下手','store_move_set\x20f=','下手：','###\x20window\x20\x20resize','lineWidth','FromToK','some','mousedown','▽未定','\x20canY=','sakusya','***current_p_susumeru\x20next=null','20px','height','motigoma_pn_use','\x22\x20target=\x22_blank\x22>','overflowWrap','消費時間：','file:','＊開始局面','addEventListener','9gsPVwU','rgb(0,\x200,\x20255)','10px\x20\x27メイリオ\x27','五枚落ち','teban','comment_hight=','Repetition','canvas','下手持駒：','text-align:\x20left\x20!important;','26656DpThps','apply','rgb(224,\x20178,\x20131)','11px','clear_info','Start\x20','open','get_next_move','offsetLeft','エラー\x20001：棋譜ファイル名\x20KIF_FILE_NAME\x20の指定がありません。','comment_str_size=','pageY','二枚落ち','minWidth','消費時間','to_old_border','kifu_array[0]:f=','teai','###\x20document\x20complete','style','arc','##\x20---\x20adjust_kifu_position','className','slice','onreadystatechange','#\x20sort_board\x20teban=','stroke','get_kifu_size','createElement','開始局面へ','set_modify_sub','scrollTop','rgb(0,\x200,\x200)','140%','komadaikage.jpg?','can_susumeru','textContent','2px\x20solid\x20#0000ff','at\x20','modal-content','genmovq','BackR.gif','手合割：','Time\x20up','閉じる','img','set_modify','#\x20COM_WIDTH=','target','move_data_from_moti','Firefox','gote_name','7133517vzZbvq','beginPath','自動更新：30秒毎','後手：','store','Next.gif','strokeRect','kifu_list','clientHeight','site','**\x20UPDATE_TIME\x20設定エラー:','bunki_flg','title','undefined','move_no','piece','開始\x20','Left','---\x20ReplayTop','body','<A\x20href=\x22http://kakinoki.o.oo7.jp/js/kifujs.html\x22\x20target=\x22_blank\x22>Kifu\x20for\x20JavaScript\x20Free</A>','motigoma_pn','\x20f=','moveTo','1px','エラー\x20002：ディレクトリィ\x20KJ_DIR\x20の指定がありません。','#\x20Komaoto\x20','http:','kisen','ルールエラー\x20','protocol','22px','上手番','hasChildNodes','mouseup','textAlign','isFirefox=','debug_show','***\x20先後未定\x20error','棋譜保存','backgroundColor','overrideMimeType','###\x20button_env.onclick\x20設定','string',';\x20samesite=Strict;','開始局面','get_kifup','ban3.jpg?','responseText','%-ILLEGAL_ACTION','手まで','modal','clear_kifu','#\x20Jump_henka\x20n=','##\x20onloadend\x20readyState=','<U><FONT\x20color=\x22#0000ff\x22><a\x20href=\x22','is_henka_kp','onUp','button_back','投了効果音','#\x20OnComSizeChange\x20\x20val\x20=\x20','コメント文字の大きさ','event','上手の持駒：','###\x20button_env.onclick','上手持駒：','\u3000\u3000☖'];_0x3c51=function(){return _0x4b9844;};return _0x3c51();}function set_kifu_list(){const _0x32e97a=_0x28161d;let _0x1b900c=Kifu[_0x32e97a(0x16e)](),_0xb1309=kifu_select['options'];for(let _0x1f624a=_0xb1309[_0x32e97a(0x2a7)]-0x1;_0x1f624a>=0x0;_0x1f624a--){kifu_select['removeChild'](_0xb1309[_0x1f624a]);}let _0x3b8a71=Kifu[_0x32e97a(0x21b)]();console['log']('#\x20---\x20set_kifu_list\x20size='+_0x3b8a71);if(Kifu[_0x32e97a(0x1df)](0x0)==null){if(_0x1b900c==0x0)kifu_select_add_option(_0x32e97a(0x261),'0','開始局面');else kifu_select_add_option('開始局面\x20消費時間（１手/累積）','0',_0x32e97a(0x107));}else{if(_0x1b900c==0x0)kifu_select_add_option(_0x32e97a(0x1f4),'0',_0x32e97a(0x1f4));else kifu_select_add_option(_0x32e97a(0x152),'0','＊開始局面\x20消費時間（１手/累積）');}for(let _0x490303=0x1;_0x490303<=_0x3b8a71;_0x490303++){let _0x4107e3=Kifu['get_kifup'](_0x490303);typeof _0x4107e3['k']==='undefined'&&console['error'](_0x32e97a(0x2c5)+_0x490303+'\x20k='+_0x4107e3['k']+'\x20f='+_0x4107e3['f']);if(_0x4107e3==null)break;let _0x97ba18;if(_0x4107e3[_0x32e97a(0x2cc)]==null)_0x97ba18='\u3000';else{if(_0x4107e3[_0x32e97a(0x2cc)][_0x32e97a(0x2d8)]('※')>=0x0)_0x97ba18='＃';else _0x97ba18='＊';}let _0x2c45ae,_0x5f54e1=0x0;if(_0x4107e3['t']>=0xb){let _0x1a0f91=Kifu[_0x32e97a(0x295)](0x0,0x3,_0x4107e3,0x4);_0x5f54e1=_0x1a0f91[_0x32e97a(0x2a7)],_0x2c45ae=_0x97ba18+_0x490303+'\x20'+_0x1a0f91;}else{let _0x47d38e='';if(english_flg==0x0){if(cbd[_0x32e97a(0x211)]==HIRATE){if((_0x490303&0x1)==0x0)_0x47d38e='後';else _0x47d38e='先';}else{if((_0x490303&0x1)==0x0)_0x47d38e='上';else _0x47d38e='下';}}if(_0x4107e3['t']==CHUDAN)_0x2c45ae='';else _0x2c45ae='まで';if(_0x4107e3['t']==TORYO){if(cbd[_0x32e97a(0x211)]==HIRATE){if((_0x490303&0x1)==0x0)_0x2c45ae+='先';else _0x2c45ae+='後';}else{if((_0x490303&0x1)==0x0)_0x2c45ae+='上';else _0x2c45ae+='下';}_0x2c45ae+='手の勝ち';}else{if(_0x4107e3['t']==SENNITITE){if(english_flg)_0x2c45ae+=_0x32e97a(0x1fc);else _0x2c45ae+='千日手';}else{if(_0x4107e3['t']==JISHOGI){if(english_flg)_0x2c45ae+=_0x32e97a(0x28a);else _0x2c45ae+=_0x32e97a(0x27e);}else{if(_0x4107e3['t']==KIREMAKE){if(english_flg)_0x2c45ae+=_0x32e97a(0x22b);else _0x2c45ae+=_0x47d38e+'手時間切れ負け';}else{if(_0x4107e3['t']==HANSOKU_MAKE){if(english_flg)_0x2c45ae+=_0x47d38e+'Illegal\x20Lose';else _0x2c45ae+=_0x47d38e+'手反則負け';}else{if(_0x4107e3['t']==HANSOKU_KACHI){if(english_flg)_0x2c45ae+='Illegal\x20Lose';else{if(cbd[_0x32e97a(0x211)]==HIRATE){if((_0x490303&0x1)==0x0)_0x2c45ae+='先';else _0x2c45ae+='後';}else{if((_0x490303&0x1)==0x0)_0x2c45ae+='上';else _0x2c45ae+='下';}_0x2c45ae+='手反則負け';}}else{if(_0x4107e3['t']==KACHI){if(english_flg)_0x2c45ae+=_0x32e97a(0x2f6);else _0x2c45ae+=_0x32e97a(0x194);}else{if(_0x4107e3['t']==TUMI){if(english_flg)_0x2c45ae+=_0x32e97a(0x105);else _0x2c45ae+='詰み';}}}}}}}}}if(_0x1b900c>0x0){let _0x3ed01e=parseInt(_0x4107e3[_0x32e97a(0x291)]/0x3c);if(_0x3ed01e>0x0){if(_0x5f54e1==0x4)_0x2c45ae+='\u3000\u3000'+_0x3ed01e;else _0x2c45ae+='\u3000'+_0x3ed01e;_0x2c45ae+=_0x32e97a(0x150);let _0xce0869=parseInt(Kifu[_0x32e97a(0x14c)](_0x4107e3)/0x3c);_0x2c45ae+=_0xce0869;}}kifu_select_add_option(_0x2c45ae,_0x490303,_0x2c45ae);}select_kifu_list();}function select_kifu_list(){const _0x6f89a4=_0x28161d;let _0x2ac814=kifu_select['clientHeight'],_0x5ee14a=kifu_select[_0x6f89a4(0x1a2)],_0x4d49df=0x12;_0x5ee14a!=0x0&&(_0x4d49df=_0x2ac814/_0x5ee14a);kifu_select[_0x6f89a4(0x106)]=Kifu[_0x6f89a4(0x242)];if(Kifu[_0x6f89a4(0x223)]()==0x0)kifu_select['scrollTop']=Kifu[_0x6f89a4(0x242)]*_0x4d49df;else{if(Kifu[_0x6f89a4(0x242)]<=0x3)kifu_select[_0x6f89a4(0x21f)]=0x0;else kifu_select[_0x6f89a4(0x21f)]=(Kifu[_0x6f89a4(0x242)]-0x3)*_0x4d49df;}}function set_bunki_combo(){const _0x9d35fd=_0x28161d;console['log'](_0x9d35fd(0x27b));let _0x24519f=branch_select['options'];for(let _0x58b84e=_0x24519f['length']-0x1;_0x58b84e>=0x0;_0x58b84e--){branch_select['removeChild'](_0x24519f[_0x58b84e]);}if(Kifu['current_bunki']()==0x0){let _0x550d3d=new Option(_0x9d35fd(0x312),0x0);branch_select[_0x9d35fd(0x109)](_0x550d3d);return;}let _0x5cd5f9=Kifu['current_p'][_0x9d35fd(0x2e5)];if(_0x5cd5f9==null)return;let _0x4c5b3a='1\x20'+Kifu[_0x9d35fd(0x295)](0x0,0x3,_0x5cd5f9,0x5),_0x161035=new Option(_0x4c5b3a,0x0);branch_select['add'](_0x161035),_0x5cd5f9=_0x5cd5f9[_0x9d35fd(0x2ac)];for(let _0x1fd5e7=0x1;_0x5cd5f9!=null;_0x1fd5e7++){_0x4c5b3a=_0x1fd5e7+0x1+'\x20'+Kifu[_0x9d35fd(0x295)](0x0,0x3,_0x5cd5f9,0x5);let _0x530656=new Option(_0x4c5b3a,_0x1fd5e7);branch_select['add'](_0x530656),_0x5cd5f9=_0x5cd5f9[_0x9d35fd(0x2ac)];}}function comment_link(_0x19545c){const _0x494da4=_0x28161d;let _0x4ce1ed=_0x19545c[_0x494da4(0x16f)](_0x494da4(0x24f)),_0x505844=_0x19545c['search']('https:');if(_0x4ce1ed<0x0)_0x4ce1ed=_0x505844;else{if(_0x505844>=0x0&&_0x505844<_0x4ce1ed)_0x4ce1ed=_0x505844;}if(_0x4ce1ed>=0x0){let _0x11b049=_0x19545c[_0x494da4(0x14b)](0x0,_0x4ce1ed),_0x40e7c8=_0x19545c[_0x494da4(0x159)](_0x4ce1ed),_0x12da8c=_0x40e7c8[_0x494da4(0x16f)]('\x20');if(_0x12da8c>=0x0){let _0x2f9bbe=_0x40e7c8[_0x494da4(0x14b)](_0x12da8c);_0x2f9bbe=comment_link(_0x2f9bbe);let _0x2c7216=_0x40e7c8[_0x494da4(0x14b)](0x0,_0x12da8c),_0x47ff92=_0x494da4(0x26b)+_0x2c7216+_0x494da4(0x1f0)+_0x2c7216+_0x494da4(0x1cc);_0x19545c=_0x11b049+_0x47ff92+_0x2f9bbe;}else console[_0x494da4(0x30f)]('***\x20空白なし\x20url=\x27'+url+'\x27');}return _0x19545c;}function AutoLink(_0x229853){let _0x2a4287=/((h?)(ttps?:\/\/[a-zA-Z0-9.\-_@:/~?%&;=+#',()*!]+))/g,_0x10cfe4=function(_0x2a5281,_0x36fbe4,_0x1ebcd4,_0x40037d){const _0x2e4f5c=_0x5f60;return _0x2e4f5c(0x11a)+_0x40037d+_0x2e4f5c(0x10d)+'>'+_0x36fbe4+_0x2e4f5c(0x185);};return _0x229853['replace'](_0x2a4287,_0x10cfe4);}function make_html_comment(_0x633c08){const _0x3f256e=_0x28161d;return _0x633c08=_0x633c08[_0x3f256e(0x134)](/\r?\n/g,_0x3f256e(0x298)),_0x633c08=AutoLink(_0x633c08),_0x633c08;}function disp_comment(){const _0x52d19a=_0x28161d;let _0x26a187=Kifu[_0x52d19a(0x262)](Kifu[_0x52d19a(0x242)]),_0x57ea7d=Kifu[_0x52d19a(0x1df)](Kifu['move_no']),_0x220d12='';if(_0x57ea7d==null){if(Kifu[_0x52d19a(0x242)]>0x0&&_0x26a187['t']<0xb){let _0x4b566c=Kifu[_0x52d19a(0x1df)](Kifu[_0x52d19a(0x242)]-0x1);if(_0x4b566c==null)_0x220d12='';else _0x220d12=_0x4b566c;}else _0x220d12='';}else _0x220d12=_0x57ea7d;_0x220d12=_0x220d12[_0x52d19a(0x134)](/▲/g,'☗'),_0x220d12=_0x220d12['replace'](/△/g,'☖'),comment_textarea[_0x52d19a(0x319)]=_0x220d12,HTML_COMMENT&&(comment_div[_0x52d19a(0x21f)]=0x0,_0x220d12=make_html_comment(_0x220d12),comment_div_p[_0x52d19a(0x18d)]=_0x220d12);}function ViewUpdate(){const _0x156370=_0x28161d;draw_board(),ShohiGraph(Kifu,cbd),disp_comment(),select_kifu_list(),FREE&&Info(Kifu),FREE&&Kifu[_0x156370(0x23f)]&&set_bunki_combo();}function ExecMove(_0x42a4be,_0xa55c8b,_0x47e632,_0x7fdfeb){const _0x5ad01a=_0x28161d;if(_0x47e632!=MODE_SILENT&&_0x7fdfeb['t']>0xa){}let _0x866cf5=_0x42a4be[_0x5ad01a(0x10e)](_0x7fdfeb);if(_0x866cf5!=0x0)return console[_0x5ad01a(0x30f)]('***\x20ExecMove\x20'),_0x866cf5;_0x7fdfeb['k']=_0xa55c8b['FromToK'](_0x7fdfeb['f']);if(_0x7fdfeb['t']<0xb)_0x7fdfeb['c']=0x0;else _0x7fdfeb['c']=_0xa55c8b[_0x5ad01a(0x1c5)][_0x7fdfeb['t']&0x7f];_0xa55c8b[_0x5ad01a(0x108)](_0x7fdfeb),_0x42a4be[_0x5ad01a(0x242)]++;_0x7fdfeb['t']>0xa&&(_0xa55c8b[_0x5ad01a(0x1fa)]=0x80-_0xa55c8b[_0x5ad01a(0x1fa)],_0x47e632<MODE_SILENT&&(draw_board(),select_kifu_list()));if(_0x47e632!=MODE_SILENT)Komaoto();return _0x47e632!=MODE_SILENT&&_0x7fdfeb['t']>0xa&&(DrawKomadaiTeban(_0xa55c8b,0x0,_0x42a4be),DrawKomadaiTeban(_0xa55c8b,0x80,_0x42a4be),RightImageName(_0x42a4be),LeftImageName(_0x42a4be),disp_comment()),_0x47e632!=MODE_SILENT&&ShohiGraph(_0x42a4be,_0xa55c8b),0x0;}function BackMove(_0x145098,_0x2d67f6,_0x281b27,_0x2c2b04){const _0x489617=_0x28161d;if(_0x145098[_0x489617(0x242)]<=0x0)return 0x1;let _0x847a91=_0x145098[_0x489617(0x262)](_0x145098['move_no']);if(_0x847a91['t']>=0xb)_0x2d67f6[_0x489617(0x1fa)]=0x80-_0x2d67f6[_0x489617(0x1fa)];let _0x540fa0=_0x847a91['f'],_0x21c960=_0x847a91['t'],_0x26c5b9=_0x847a91['c'];_0x2d67f6[_0x489617(0x2a4)](_0x847a91);_0x281b27!=MODE_SILENT&&_0x540fa0<=0x63&&_0x540fa0>=0xb&&(clear_sq(_0x540fa0),DrawPiece(_0x540fa0,_0x2d67f6[_0x489617(0x1e6)](_0x540fa0)));_0x145098[_0x489617(0x28d)]();if(_0x281b27!=MODE_SILENT&&_0x21c960>=0xb){if(_0x145098[_0x489617(0x242)]>0x0){var _0x13405a=_0x145098[_0x489617(0x195)]();DrawLastPiece(_0x2d67f6,_0x13405a['t']&0x7f),DrawPiece(_0x13405a['t']&0x7f,_0x2d67f6[_0x489617(0x1e6)](_0x13405a['t']&0x7f)),DrawLastPieceFrom();}_0x21c960&=0x7f,clear_sq(_0x21c960);_0x26c5b9!=0x0&&(DrawKomadai(_0x2d67f6[_0x489617(0x1fa)]),DrawPiece(_0x21c960,_0x847a91['c']));if(_0x540fa0<=0x63)console[_0x489617(0x2f2)](_0x489617(0x196)+_0x540fa0),DrawPiece(_0x540fa0,_0x847a91['k']);else DrawKomadai(_0x2d67f6['teban']);DrawKomadaiTeban(_0x2d67f6,0x0,_0x145098),DrawKomadaiTeban(_0x2d67f6,0x80,_0x145098),RightImageName(_0x145098),LeftImageName(_0x145098);}if(_0x281b27!=MODE_SILENT&&_0x2c2b04!=0x0)Komaoto();return _0x281b27!=MODE_SILENT&&_0x21c960>=0xb&&disp_comment(),_0x281b27!=MODE_SILENT&&(ShohiGraph(_0x145098,_0x2d67f6),select_kifu_list()),0x0;}function ReplayTop(){const _0x4f0d1d=_0x28161d;console[_0x4f0d1d(0x2f2)](_0x4f0d1d(0x246)),cbd[_0x4f0d1d(0x2ad)](start),Kifu[_0x4f0d1d(0x2b5)](),draw_board(),ShohiGraph(Kifu,cbd),disp_comment();if(Kifu['bunki_flg'])set_kifu_list();select_kifu_list(),ButtonUpdate(),set_bunki_combo();}function ReplayNext(){const _0x1ee4e7=_0x28161d;let _0x4d88d4=Kifu[_0x1ee4e7(0x207)]();if(_0x4d88d4['t']==CHUDAN||_0x4d88d4['f']==0x0&&_0x4d88d4['t']==0x0)return;ExecMove(Kifu,cbd,0x0,_0x4d88d4),ButtonUpdate(),set_bunki_combo();}function ReplayBack(){BackMove(Kifu,cbd,0x0,0x1),ButtonUpdate();if(Kifu['bunki_flg'])set_kifu_list();set_bunki_combo();}function ReplayLast(_0x20843f,_0x19d943){for(;;){let _0x248301=Kifu['get_next_move'](cbd);if(_0x248301['f']==0x0&&_0x248301['t']==0x0)break;if(_0x19d943==0x0&&_0x248301['t']<0xb)break;ExecMove(Kifu,cbd,MODE_SILENT,_0x248301);if(_0x248301['t']<0xb)break;}_0x20843f==0x0&&(ViewUpdate(),ButtonUpdate(),set_bunki_combo());}function ReplayStop(){const _0x12c68a=_0x28161d;console[_0x12c68a(0x2f2)](_0x12c68a(0x165)),replay_stop_flg=0x0,go_rep_flg=0x0,ButtonUpdate();}function Jump_sub(_0x9a82a6){const _0x5a4a57=_0x28161d;if(_0x9a82a6==Kifu['move_no'])return;if(_0x9a82a6>Kifu[_0x5a4a57(0x242)])for(;;){let _0x37a01b=Kifu[_0x5a4a57(0x207)](cbd);if(_0x37a01b['f']==0x0&&_0x37a01b['t']==0x0)break;ExecMove(Kifu,cbd,MODE_SILENT,_0x37a01b);if(_0x37a01b['t']<0xb)break;if(Kifu[_0x5a4a57(0x242)]>=_0x9a82a6)break;}else for(;;){BackMove(Kifu,cbd,MODE_SILENT,0x0);if(Kifu[_0x5a4a57(0x242)]<=_0x9a82a6)break;}}function Jump_henka(_0x5628d1,_0x3cbbb1){const _0x1d43f6=_0x28161d;console[_0x1d43f6(0x2f2)](_0x1d43f6(0x269)+_0x5628d1+_0x1d43f6(0x117)+_0x3cbbb1);let _0x5c3bf9;if(_0x3cbbb1==0x0||Kifu[_0x1d43f6(0x112)](_0x5628d1)==0x0){_0x5c3bf9=Kifu['get_kifup'](Kifu['move_no']);let _0x1861df=Kifu[_0x1d43f6(0x26c)](_0x5c3bf9),_0x39d145=_0x5628d1-Kifu[_0x1d43f6(0x242)];Jump_sub(_0x5628d1);_0x1861df!=0x0&&_0x39d145<0x0&&set_kifu_list();ViewUpdate(),ButtonUpdate();return;}Jump_sub(_0x5628d1-0x1),_0x5c3bf9=Kifu[_0x1d43f6(0x262)](_0x5628d1);let _0x54f0d5=_0x5c3bf9[_0x1d43f6(0x2ac)],_0x541710=new Kifup();if(_0x3cbbb1==0x1){_0x541710['f']=_0x54f0d5['f'],_0x541710['t']=_0x54f0d5['t'],ExecMove(Kifu,cbd,MODE_SILENT,_0x541710),set_kifu_list(),ViewUpdate(),ButtonUpdate();return;}for(let _0x5d5983=0x1;_0x54f0d5!=null;_0x5d5983++){if(_0x5d5983==_0x3cbbb1){_0x541710['f']=_0x54f0d5['f'],_0x541710['t']=_0x54f0d5['t'],ExecMove(Kifu,cbd,MODE_SILENT,_0x541710),set_kifu_list(),ViewUpdate(),ButtonUpdate();return;}_0x54f0d5=_0x54f0d5[_0x1d43f6(0x2ac)];}}function ReplayNextBranch(){const _0x1cfdc1=_0x28161d;while(!![]){let _0x1ebb3b=Kifu[_0x1cfdc1(0x207)]();if(_0x1ebb3b['f']==0x0&&_0x1ebb3b['t']==0x0)break;if(_0x1ebb3b['t']<0xb)break;ExecMove(Kifu,cbd,MODE_SILENT,_0x1ebb3b);if(Kifu[_0x1cfdc1(0x223)]()==0x0)break;if(Kifu[_0x1cfdc1(0x112)](Kifu[_0x1cfdc1(0x242)]+0x1)!=0x0)break;}ViewUpdate(),ButtonUpdate(),Komaoto();}function ReplayBackBranch(){const _0x22fc65=_0x28161d;let _0x43271d=Kifu[_0x22fc65(0x262)](Kifu['move_no']),_0x1f7e16=Kifu['is_henka_kp'](_0x43271d);for(;;){if(Kifu['move_no']<=0x0)break;BackMove(Kifu,cbd,MODE_SILENT,0x0);if(Kifu[_0x22fc65(0x112)](Kifu[_0x22fc65(0x242)]+0x1)!=0x0)break;}if(_0x1f7e16!=0x0)set_kifu_list();ViewUpdate(),ButtonUpdate(),Komaoto();}function ___TOUCH_EVENT______(){}canvas[_0x28161d(0x1f5)](_0x28161d(0x1e8),onDown,![]),canvas['addEventListener'](_0x28161d(0x256),onUp,![]);isIOS?canvas[_0x28161d(0x1f5)](_0x28161d(0x299),touchDown,![]):canvas['addEventListener']('click',onClick,![]);load_kifu('',Kifu,0x1,-0x1),draw_board(),LoadImages(Kifu);function ButtonUpdate(){const _0x581381=_0x28161d;Kifu[_0x581381(0x242)]<=0x0?(button_top['disabled']=_0x581381(0xfb),button_back[_0x581381(0x297)]=_0x581381(0xfb),button_backr[_0x581381(0x297)]='true',FREE&&(button_backB[_0x581381(0x297)]=_0x581381(0xfb))):(button_top[_0x581381(0x297)]='',button_back[_0x581381(0x297)]='',button_backr[_0x581381(0x297)]='',FREE&&Kifu[_0x581381(0x23f)]==0x1&&(button_backB['disabled']='')),Kifu[_0x581381(0x223)]()!=0x0?(button_next[_0x581381(0x297)]='',button_nextr[_0x581381(0x297)]='',button_last['disabled']='',FREE&&Kifu[_0x581381(0x23f)]==0x1&&(button_nextB[_0x581381(0x297)]='')):(button_next['disabled']='true',button_nextr[_0x581381(0x297)]='true',button_last['disabled']=_0x581381(0xfb),FREE&&Kifu['bunki_flg']==0x1&&(button_nextB[_0x581381(0x297)]=_0x581381(0xfb)));}function EnableAllButton(){const _0x2e2a49=_0x28161d;button_top[_0x2e2a49(0x297)]='',button_back[_0x2e2a49(0x297)]='',button_backr[_0x2e2a49(0x297)]='',button_next[_0x2e2a49(0x297)]='',button_nextr[_0x2e2a49(0x297)]='',button_last['disabled']='';}function __OnChange_____(){}function OnKifuSelectChange(){const _0x3375fa=_0x28161d;let _0x72909d=kifu_select[_0x3375fa(0x106)];console[_0x3375fa(0x2f2)](_0x3375fa(0x12d)+_0x72909d),Jump_sub(_0x72909d),draw_board(),ShohiGraph(Kifu,cbd),disp_comment(),FREE&&Info(Kifu),set_bunki_combo(),ButtonUpdate(),Komaoto();}function OnBranchChange(){const _0x1ad1ad=_0x28161d;let _0x363e7b=branch_select[_0x1ad1ad(0x106)];console[_0x1ad1ad(0x2f2)]('##\x20OnBranchChange\x20index='+_0x363e7b),_0x363e7b!=0x0&&(Jump_henka(Kifu[_0x1ad1ad(0x242)]+0x1,_0x363e7b),Komaoto());}function StopAutoUpdate(){const _0x1980f4=_0x28161d;console[_0x1980f4(0x2f2)](_0x1980f4(0x29e)),clearInterval(update_timer_id),update_select['selectedIndex']=0x0;}function OnUpdateChange(){const _0x1cd571=_0x28161d;let _0x36dac6=update_select[_0x1cd571(0x106)];console[_0x1cd571(0x2f2)](_0x1cd571(0x2bb)+_0x36dac6);if(_0x36dac6==0x0)clearInterval(update_timer_id);else{if(_0x36dac6==0x1)update_timer_id=setInterval(update_timer,0x7530);else{if(_0x36dac6==0x2)update_timer_id=setInterval(update_timer,0xea60);else{if(_0x36dac6==0x3)update_timer_id=setInterval(update_timer,0xea60*0x3);}}}}function komaotoOnChange(){const _0x3ddde4=_0x28161d;komaoto_flg=komaoto_check['checked'],console[_0x3ddde4(0x2f2)](_0x3ddde4(0xfa)+komaoto_flg),document[_0x3ddde4(0x129)]=_0x3ddde4(0x2fd)+komaoto_flg+COOKIE_STR;}function OnButtonTopClick(){ReplayTop(),Komaoto();}function OnButtonBackRClick(){EnableAllButton(),replay_stop_flg=0x0,go_rep_flg=-0x1;}function OnButtonBackClick(){ReplayBack();}function OnButtonNextClick(){ReplayNext();}function OnButtonNextRClick(){const _0x4cd99d=_0x28161d;console[_0x4cd99d(0x2f2)](_0x4cd99d(0x122)),EnableAllButton(),replay_stop_flg=0x0,go_rep_flg=0x1;}function OnButtonLastClick(){ReplayLast(0x0,0x1),Komaoto();}function OnButtonStopClick(){replay_stop_flg=0x1,go_rep_flg=0x0;}document[_0x28161d(0x11c)]=function(_0x49faeb){const _0x51a3a3=_0x28161d;if(!_0x49faeb)_0x49faeb=window[_0x51a3a3(0x272)];let _0x34e823=_0x49faeb[_0x51a3a3(0x1bf)];if(_0x34e823==0x27)ReplayNext();else{if(_0x34e823==0x25)ReplayBack();else{if(_0x34e823==0x24)ReplayTop(),Komaoto();else _0x34e823==0x23&&OnButtonLastClick();}}console[_0x51a3a3(0x2f2)](_0x49faeb);};